"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="c3547b8e-8d0b-57df-b801-7582faa0527a")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[9254],{834833:(e,t,i)=>{i.d(t,{a:()=>a,t:()=>l});let l="auth_iframe_external_options",a="google_one_tap_login"},312980:(e,t,i)=>{i.d(t,{D:()=>y,n:()=>h});var l=i(728722),a=i(188507),r=i(746643),n=i(76265),o=i(71288),s=i(719971),c=i(916348),d=i(460783),_=i(688656),u=i(933693),m=i(314301),E=i(314540),p=i(682567),g=i(183739),f=i(940795),v=i(64050),I=i(806565),b=(e=>(e.NEW_SLIDES_FILE="NEW_SLIDES_FILE",e))(b||{});function h(e){let t=(0,f.rs)().unwrapOr(null),i=(0,I.sy)(t?.tier),a=(0,l.Rs)(g.zCd,{projectId:e},{enabled:!!e}).transform(({project:e})=>e);return{isLoading:"loading"===a.status,canCreateDesignFile:!!a.data?.canCreateDesignFile,canCreateFigjamFile:!!a.data?.canCreateFigjamFile,canCreateSlidesFile:!!a.data?.canCreateSlidesFile,canShowCreateSitesFile:i}}function y({newDesignActionProps:e,newFigjamActionProps:t,newSlidesActionProps:i,newSitesActionProps:l,newCooperActionProps:g,importActionProps:f}){let I=function({newFileFrom:e,isUpdatedOmnicreateConfig:t,disabled:i,isTeamLocked:l,showRequestLabel:a,showRequestSentLabel:s}){let d=(0,m.$)(E._Y.DESIGN,e,"toolbar_design_created"),p=(0,c.Yz)()(!!l),g=i?r.lQ:d,f=i?(0,n.t)("locked_team.label.tooltip"):void 0,v=i?_.Ib.TEXT:void 0;return{newFileFrom:e,disabled:!!i||p||!!s,onClick:g,dataTooltip:f,dataTooltipType:v,displayText:(0,n.t)("file_browser.tool_bar.new_design_file"),dataTestId:"new-design-file-button",isUpdatedOmnicreateConfig:t,editorThemeMode:"design",key:u.D.NEW_FILE,listOptionType:o.R.DESIGN,showRequestSentLabel:s,showRequestLabel:a}}(e),b=function({newFileFrom:e,isUpdatedOmnicreateConfig:t,disabled:i,isTeamLocked:l,showRequestLabel:a,showRequestSentLabel:s}){let d=(0,m.$)(E._Y.WHITEBOARD,e,"toolbar_figjam_created"),p=(0,c.Yz)()(!!l),g=i?r.lQ:d,f=i?(0,n.t)("locked_team.label.tooltip"):void 0,v=i?_.Ib.TEXT:void 0;return{newFileFrom:e,disabled:!!i||p||!!s,onClick:g,dataTooltip:f,dataTooltipType:v,displayText:(0,n.t)("file_browser.tool_bar.new_figjam_board"),dataTestId:"new-whiteboard-file-button",isUpdatedOmnicreateConfig:t,editorThemeMode:"whiteboard",key:u.D.NEW_WHITEBOARD_FILE,listOptionType:o.R.WHITEBOARD,showRequestSentLabel:s,showRequestLabel:a}}(t),h=function({newFileFrom:e,isUpdatedOmnicreateConfig:t,disabled:i,isTeamLocked:l,showRequestLabel:a,showRequestSentLabel:s}){let d=(0,m.$)(E._Y.SLIDES,e,"toolbar_slides_created"),u=(0,c.Yz)()(!!l),p=i?(0,n.t)("locked_team.label.tooltip"):void 0,g=i?_.Ib.TEXT:void 0,f=i?r.lQ:d;return{newFileFrom:e,disabled:!!i||u||!!s,onClick:f,dataTooltip:p,dataTooltipType:g,displayText:(0,n.t)("file_browser.tool_bar.new_slide_deck"),dataTestId:"new-slides-file-button",isUpdatedOmnicreateConfig:t,editorThemeMode:"piper",key:"NEW_SLIDES_FILE",listOptionType:o.R.SLIDES,showRequestSentLabel:s,showRequestLabel:a}}(i);return{newDesignActionComponentProps:I,newFigjamActionComponentProps:b,newSlidesActionComponentProps:h,newSitesActionComponentProps:(0,v.lt)(l),newCooperActionComponentProps:(0,p.XT)(g),newImportActionComponentProps:function({newFileFrom:e,isUpdatedOmnicreateConfig:t,disabled:i,isTeamLocked:l,targetFolderId:m,dataOnboardingKey:E}){let p=(0,a.wA)(),g=(0,c.Yz)()(!!l),f=i?r.lQ:()=>{m&&p(s.gN(m)),p((0,d.L)())},v=i?(0,n.t)("locked_team.label.tooltip"):void 0,I=i?_.Ib.TEXT:void 0;return{newFileFrom:e,disabled:!!i||g,onClick:f,dataTooltip:v,dataTooltipType:I,displayText:(0,n.t)("file_browser.folder.import"),dataTestId:"file-import-button",dataOnboardingKey:E,isUpdatedOmnicreateConfig:t,key:u.D.IMPORT,listOptionType:o.R.IMPORT}}(f)}}},680484:(e,t,i)=>{i.d(t,{Q4:()=>N,gE:()=>S,u5:()=>T});var l=i(277154),a=i(952979),r=i(163773),n=i(841962),o=i(747484),s=i(697737),c=i(76265),d=i(800769),_=i(553362),u=i(456891),m=i(864986),E=i(603239),p=i(91247),g=i(461666),f=i(985146),v=i(69441),I=i(682403),b=i(492366),h=i(567095);async function y(e,t,i,l,a,r){let o=[],s=null;if((0,n.kc)().ps_benchmark)try{s=await (0,g.nm)(!0)(i),o=(0,f.F)(l,t,s)}catch(t){let e=t?.data?.message||(0,c.t)("file_browser.error_try_again");i(_.F.enqueue({message:e,type:"error"}))}else o=(0,f.F)(l,t,{plansByUserId:{},teams:[],orgs:[]});let d=(l.authedActiveCommunityProfile?.associated_users??[]).filter(e=>e.user_id in l.authedUsers.byId).length>1;if(o.length>1||d){let i=(0,m.JJ)(t.viewer_mode);e({onSelectWorkspace:a,workspaces:o.map(e=>(0,E.y)(e,i,l,s,r)),mode:"new_file"})}else(0,n.kc)().ps_benchmark?a(o[0]):a()}let S=(e,t={isFreemiumPreview:!1,adminReviewerOverride:!1})=>i=>async(c,_)=>{let m=_();await y(e,i,c,m,function(e){let _={headers:{...s.Ay.defaults.headers}},E={};e&&(_.headers["X-Figma-User-ID"]=e.userId,E.org_id=e.orgId,(0,n.kc)().ps_benchmark&&(E.team_id=e.teamId)),!0===t.adminReviewerOverride&&(E.admin_reviewer_override=!0),s.Ay.post(`/api/hub_files/v2/${i.id}/copy`,E,_).then(({data:n})=>{let s=n.meta,_=(0,b.m3)(i),g=!0!==_?"none":!0===t.isFreemiumPreview?"trial":"paid";(0,l.sx)(p.M5.HUB_FILE_DUPLICATED,{hubFileId:i.id,figFileKey:s.key,isMonetized:_,paidStatus:g,searchSessionId:(0,u.w)(m),file_team_id:E.team_id,org_id:E.org_id,file_folder_id:s.folder_id}),"whiteboard"===s.editor_type&&c((0,d.Hx)({storeInRecentsKey:h.$A.FigJam,id:i.id,type:h.vt.CommunityResource}));let f=(0,v.to)(s);f=(0,a.dR)(f,{"is-community-duplicate":"1",fuid:e?.userId||""}),!0===t.isFreemiumPreview&&(f=(0,a.dR)(f,{"is-freemium-preview":"1"})),r.Ay.redirect(f,o.rr?void 0:"_blank")})})},T=e=>t=>async(i,l)=>{let n=l();await y(e,t,i,n,function(e){let i=`/slides/new?slide-template-library-key=${t.library_key}`;e&&((0,I.Y9)(e.userId,!1,e.orgId,void 0,e.teamId??null),i=(0,a.dR)(i,{fuid:e.userId})),r.Ay.redirect(i,o.rr?void 0:"_blank")})},N=e=>t=>async(i,l)=>{let n=l();await y(e,t,i,n,function(e){let i=`/file/new?library-hub-file-id=${t.id}`;e&&((0,I.Y9)(e.userId,!1,e.orgId,void 0,e.teamId??null),i=(0,a.dR)(i,{fuid:e.userId})),r.Ay.redirect(i,o.rr?void 0:"_blank")},!0)}},682567:(e,t,i)=>{function l(){return null}i.d(t,{Vq:()=>a,XT:()=>r,_U:()=>n});let a=l,r=()=>null,n=l},355938:(e,t,i)=>{i.d(t,{Q:()=>g,S:()=>f});var l=i(198003),a=i(977235),r=i(653798),n=i(697737),o=i(719334),s=i(76265),c=i(553362),d=i(183739),_=i(771491),u=i(163853),m=i(624631),E=i(534294),p=i(719971);let g=(0,E.nF)(async(e,t,{loadingKey:i})=>{let n=!1;try{n=!!(0,a.oA)((await (0,l.Ek)(d.jmg,{fileKey:t.file_key})).deviceTryFile)}catch(e){(0,r.x1)("claimFigJamTryFile","Request failed for fetching LG DeviceTryFileView",e,{reportAsSentryError:!0})}try{let l;l=n?m.L.claimDeviceFile({fileKey:t.file_key}):u.Uy.claimTryFile({fileKey:t.file_key}),(0,_.N)(l,e,i);let{data:a}=await l,{save_location:r,folder_name:o,org_id:d}=a.meta,{user:E,currentUserOrgId:g,selectedView:f}=e.getState(),v=(0,s.t)("figjam_try.this_file_has_been_saved_to_drafts");if("team"===r&&o&&(v=(0,s.t)("figjam_try.this_file_has_been_saved_to_folder_name",{folder_name:o})),d&&d!==g&&E){let t={userId:E.id,orgId:d};e.dispatch(p._l({workspace:t,view:f}))}e.dispatch(c.F.enqueue({message:v}))}catch(t){e.dispatch(o.s.error("Unable to save file. Please try again later."))}}),f=(0,E.nF)(async(e,{userName:t,file_key:i},{loadingKey:l})=>{try{await n.Ay.put(`/api/try/file/${i}`,{name:(0,s.t)("figjam_try.default_filename",{userName:t})})}catch(e){console.error(e)}})},314301:(e,t,i)=>{i.d(t,{$:()=>_});var l=i(411855),a=i(188507),r=i(666308),n=i(190500),o=i(192680),s=i(15092),c=i(505534),d=i(61707);function _(e,t,i,_,u,m){let E=(0,o.B)(_),p=(0,a.wA)(),g=(0,s.TA)(),f=(0,a.d4)(e=>{let t=_?e.folders[_]:void 0;return t&&t.team_id?e.teams[t.team_id]:void 0});return(0,l.useCallback)(l=>{p((0,d.zE)({state:E,editorType:e,team:f,from:t,openNewFileIn:m||(0,r.oJ)(l)?c.ai.NEW_TAB:c.ai.SAME_TAB,folderId:u?_:void 0,callback:e=>{(0,n.Cu)({userId:g,fileKey:e},i)}}))},[i,p,e,_,f,u,m,t,E,g])}},846057:(e,t,i)=>{i.d(t,{LP:()=>_,qQ:()=>l,qv:()=>u});var l,a=i(411855),r=i(277154),n=i(841962),o=i(972142),s=i(76265),c=i(233950),d=i(314540);let _="cover";var u=(e=>(e.COMPONENT_PUBLISHING="component_publishing",e.VIDEO="video",e.PASSWORD_PROTECTION="password_protection",e.AUDIO="audio",e.UNLIMITED_PAGES="unlimited_pages",e.PROTOTYPE_ONLY_LINKS="prototype_only_links",e.OPEN_SESSIONS="open_sessions",e.UNLIMITED_PROJECTS="unlimited_projects",e.PRIVATE_PROJECTS="private_projects",e.UNLIMITED_FILES="unlimited_files",e))(u||{});let m={cover:{onboardingKey:_,imgSrc:(0,n.ck)("cade95b7d3141da5e4c22a879de339d5b57b05aa"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.pro.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.pro.description")),hoverTitle:null},password_protection:{onboardingKey:"password_protection",imgSrc:(0,n.ck)("b56379c61007d4c119dc3a32fc936ac07f5d13d5"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.password.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.password.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.password.hover_text"))},component_publishing:{onboardingKey:"component_publishing",imgSrc:(0,n.ck)("1138b4f97bb51f61ed9b2bac008de9038dfbcf75"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.library.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.library.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.library.hover_text"))},audio:{onboardingKey:"audio",imgSrc:(0,n.ck)("312167c9a97cd378f0a20d09d03376b27283dae9"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.audio.hover_text"))},open_sessions:{onboardingKey:"open_sessions",imgSrc:(0,n.ck)("1ee3e88ccb237a207e896dba4a67af081259590d"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.jam.hover_text"))},unlimited_pages:{onboardingKey:"unlimited_pages",imgSrc:(0,n.ck)("cdb490f97220f8598d6b342c873569c68ac2370e"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.unlimited_pages.hover_text"))},video:{onboardingKey:"video",imgSrc:(0,n.ck)("0e9be58e80f8d577fc4b1028f07a903bca68c970"),header:a.createElement(c.E,{fontSize:13,fontWeight:"medium"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.video.title")),description:a.createElement(c.E,{fontSize:11,color:"secondary"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.video.description")),hoverTitle:a.createElement(c.E,{fontSize:12,fontWeight:"semi-bold"},(0,s.tx)("help_widget.pro_trials.stack_of_cards_widget.video.hover_text"))}},E={component_publishing:"seen_pro_onboarding_component_publishing_overlay",video:"seen_pro_onboarding_video_overlay",password_protection:"seen_pro_onboarding_password_protection_overlay",audio:"seen_pro_onboarding_audio_overlay",unlimited_pages:"seen_pro_onboarding_unlimited_pages_overlay",prototype_only_links:"seen_pro_onboarding_prototype_only_links_overlay",open_sessions:"seen_pro_onboarding_open_sessions_overlay",unlimited_files:"seen_pro_onboarding_unlimited_files_overlay",unlimited_projects:"seen_pro_onboarding_unlimited_projects_overlay",private_projects:"seen_pro_onboarding_private_projects_overlay"};(e=>{e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID="Pro Trials V3: Actively Triggered Onboarding Blocked",e.getOnboardingStepUserFlag=function(e){return E[e]},e.getOnboardingStepTrackingContext=function(e){return`Pro Trials V3 Onboarding: ${(0,o.vE)(e)}`},e.getOnboardingStepTriggerEventId=function(e){return`triggered_pro_trials_v3_${e}_onboarding`},e.trackActivelyTriggeredOnboardingStepBlocked=function(t,i){(0,r.sx)(e.ACTIVELY_TRIGGERED_ONBOARDING_BLOCKED_EVENT_ID,{blockedOnboardingFeature:i,blockingOverlayId:t})},e.getOnboardingCardsStackContentProps=function({editorType:e,isVoiceEnabled:t,isWorkshopModeEnabled:i}){let l=[_,"password_protection","component_publishing","unlimited_pages","video"];t&&l.push("audio");let a=[_,"password_protection"];return t&&a.push("audio"),i&&a.push("open_sessions"),(({[d._Y.DESIGN]:l,[d._Y.SLIDES]:l,[d._Y.SITES]:l,[d._Y.COOPER]:l,[d._Y.WHITEBOARD]:a})[e]||[]).map(e=>m[e])}})(l||(l={}))},251019:(e,t,i)=>{i.d(t,{R:()=>q});var l=i(411855),a=i(188507),r=i(277154),n=i(609628),o=i(152420),s=i(281935),c=i(640747),d=i(621847),_=i(299009),u=i(663844),m=i(76265),E=i(196794),p=i(539335),g=i(747327),f=i(939380),v=i(765048),I=i(646869),b=i(206908),h=i(736041),y=i(617254),S=i(91247),T=i(648735),N=i(529947),k=i(522917),w=i(15092),O=i(314540),R=i(841924),A=i(782125),F=i(492366),C=i(754430),D=i(84530),L=i(710636),P=i(874360),W=i(10915),x=i(179265),U=i(885354),M=i(56142),G=i(996098);let j=(0,W.rw)();function B(e){let[t,i]=l.useState();return l.useEffect(()=>{(0,o.oU)(location.href).then(e=>i(e))},[]),l.createElement("div",{className:G.bx},l.createElement("div",{className:G.Uz},e.tab===x.gr.PLUGINS?(0,m.t)("community.universal_posting_modal.desktop_callout.plugins"):(0,m.t)("community.universal_posting_modal.desktop_callout.widgets")),l.createElement(d.N_,{onClick:()=>{(0,r.sx)(t?"community_publish_open_desktop_clicked":"community_publish_get_desktop_clicked",{resourceType:e.tab===x.gr.PLUGINS?F.bD.PLUGIN:F.bD.WIDGET}),t&&(0,o.Sr)(location.href,o.B3.UNIVERSAL_POSTING_MODAL)},href:t?void 0:"https://www.figma.com/downloads/",className:G.nf,target:"_blank",trusted:!0},void 0===t?"":t?` ${(0,m.t)("community.universal_posting_modal.desktop_open")}`:` ${(0,m.t)("community.universal_posting_modal.desktop_get")}`))}function z(e){return e.selectedTab===x.gr.FILES?l.createElement(x.fV,{activeFileKey:e.activeFileKey,setActiveFile:e.setActiveFile,deselectActiveFile:e.deselectActiveFile,filterFn:e.filterFn}):e.selectedTab===x.gr.PLUGINS?l.createElement(Y,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource}):l.createElement(V,{activeResource:e.activeResource,setActiveResource:e.setActiveResource,deselectActiveResource:e.deselectActiveResource})}function V(e){let{invitedWidgets:t,pendingReviewWidgets:i,approvedWidgets:a,developmentWidgets:r}=(0,T.E$)(),n=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return s.eD?t.length+i.length+a.length+r.length===0?l.createElement(x.n6,{tab:x.gr.WIDGETS}):l.createElement("div",{className:G.BA,onClick:e.deselectActiveResource},t.map(e=>l.createElement(U.sp.Tile,{key:e.id,plugin:e,containerClassName:n(e)?G.Ij:G.$z})),r.map(t=>l.createElement(U.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:n(t)?G.Ij:G.$z,showEditorTypeIcon:!0})),[...i,...a].map(t=>l.createElement(U.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:n(t)?G.Ij:G.$z}))):l.createElement(B,{tab:x.gr.WIDGETS})}function Y(e){let{invitedPlugins:t,pendingReviewPlugins:i,approvedPlugins:a,developmentPlugins:r}=(0,T.LR)(),n=t=>!!e.activeResource&&("localFileId"in e.activeResource&&"localFileId"in t?e.activeResource.localFileId===t.localFileId:"id"in e.activeResource&&"id"in t?e.activeResource.id===t.id:void 0);return s.eD?r.length+i.length+a.length+t.length===0?l.createElement(x.n6,{tab:x.gr.PLUGINS}):l.createElement("div",{className:G.BA,onClick:e.deselectActiveResource},t.map(e=>l.createElement(U.sp.Tile,{key:e.id,plugin:e,containerClassName:n(e)?G.Ij:G.$z})),r.map(t=>l.createElement(U.ke.Tile,{plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},key:t.localFileId,containerClassName:n(t)?G.Ij:G.$z,showEditorTypeIcon:!0})),[...i,...a].map(t=>l.createElement(U.tY.Tile,{key:t.id,plugin:t,onClick:i=>{i.stopPropagation(),e.setActiveResource(t)},containerClassName:n(t)?G.Ij:G.$z}))):l.createElement(B,{tab:x.gr.PLUGINS})}function K(e){return s.eD?l.createElement("div",{className:G.q5},(0,m.t)("community.universal_posting_modal.plugin_info.available",{numPlugins:e.numPlugins})):l.createElement("div",{className:G.q5},(0,m.t)("community.universal_posting_modal.plugin_info.unavailable"))}function H(e){return s.eD?l.createElement("div",{className:G.q5},(0,m.t)("community.universal_posting_modal.widget_info.available",{numWidgets:e.numWidgets})):l.createElement("div",{className:G.q5},(0,m.t)("community.universal_posting_modal.widget_info.unavailable"))}function J(e){let t;let i=(0,a.d4)(e=>e.user.email),r=(0,a.d4)(e=>e.orgById);if((0,a.d4)(e=>(0,A.Yj)(e))){let a=e.currentOrgId&&r[e.currentOrgId]?r[e.currentOrgId].name:null;t=l.createElement("div",{className:G.Js},a&&l.createElement(l.Fragment,null,a,l.createElement("span",null,"\xa0\xb7\xa0")),i)}else t=l.createElement("div",{className:G.Js},i);return l.createElement("div",{className:G.Yk},e.selectedTab===x.gr.FILES&&(0===e.numFiles?l.createElement("div",{className:G.q5},(0,m.t)("community.universal_posting_modal.file_info.available",{numFiles:e.numFiles})):l.createElement(x.IW,{query:e.searchQuery,setQuery:e.setSearchQuery,setSearchResults:e.setSearchResults})),e.selectedTab===x.gr.PLUGINS&&l.createElement(K,{numPlugins:e.numPlugins}),e.selectedTab===x.gr.WIDGETS&&l.createElement(H,{numWidgets:e.numWidgets}),t)}function Q(e){let t=(0,a.wA)(),i=(0,w.Pc)(),n=[],o={[x.gr.FILES]:(0,m.t)("community.view_bar.files"),[x.gr.PLUGINS]:(0,m.t)("community.view_bar.plugins"),[x.gr.WIDGETS]:(0,m.t)("community.view_bar.widgets")};return Object.keys(o).forEach(a=>{let s=o[a];n.push(l.createElement(j,{tab:a,mobileNavTabTitle:s,selectedTab:e.selectedTab,key:a,onClick:()=>{e.activeSearchQuery&&(t(y._z({})),t(y.ky())),(0,r.sx)("publish_type_changed",{userId:i.id,resourceType:s}),e.setSelectedTab(a)}},s))}),l.createElement("div",{className:G.Lm},l.createElement("div",{className:G.KE},n),l.createElement(c.s_,{className:G.g8,dispatch:()=>{(0,r.sx)("community_publish_modal",{step:S.WX.CLOSED}),t(h.Ce())}}))}var $=(e=>(e[e.Fetched=0]="Fetched",e[e.Fetching=1]="Fetching",e[e.NeverFetched=2]="NeverFetched",e))($||{});let q=(0,L.Ju)(function(e){let t=(0,w.Pc)(),i=(0,a.wA)(),o=(0,a.d4)(e=>!!e.user),s=(0,a.d4)(e=>e.currentUserOrgId),c=(0,n.ql)(s),A="loaded"===c.status,[L,W]=l.useState(2),[U,j]=l.useState({}),B=(0,T.Im)(),V=(0,k.ud)(),Y=(0,T.CI)(),K=(0,T.Dy)(),H=Object.keys(V).length;(0,R.IT)((0,g.se)()),(0,R.IT)((0,g.fd)()),l.useEffect(()=>{i(y._z({})),o&&(i(p._J()),i(f.aq()));let e=document.body.style.overflowY;return document.body.style.overflowY="hidden",()=>{document.body.style.overflowY=e}},[]),l.useEffect(()=>{if(!A||2!==L)return;let e=c.data.map(e=>e.key);0!==e.length&&(W(1),D.S.getHubFileDuplicates({fileKeys:e}).then(e=>{j(e.data.meta),W(0)}))},[L,A,c.data]);let $=l.useCallback(e=>{let t=U[e.key],i=e.editorType===O._Y.SLIDES;return!t&&!i},[U]),q=()=>{eo&&i(y.ky()),(0,r.sx)("community_publish_modal",{user:t.id,step:S.WX.CLOSED}),i(h.Ce())},X=async e=>{await i(E.rH({fileKey:e}))},Z=async e=>{e&&(et(e),V[e.key]||i(b.yJ({file:e})),await X(e.key))},[ee,et]=l.useState(null),ei=()=>et(null),[el,ea]=l.useState(null),[er,en]=l.useState(x.gr.FILES),[eo,es]=l.useState(""),[ec,ed]=l.useState([]),e_=l.useCallback(e=>{ed(e&&e.filter(e=>$(e.model)))},[$]);if(!o)return l.createElement(l.Fragment,null);let eu=A&&0===L;return l.createElement(P.Nb,{size:"any",className:G.aq,hide:q},l.createElement(Q,{activeSearchQuery:eo,selectedTab:er,setSelectedTab:en}),l.createElement(J,{selectedTab:er,currentOrgId:s,searchQuery:eo,setSearchQuery:es,setSearchResults:e_,numPlugins:Y,numWidgets:K,numFiles:H}),l.createElement(u.P,{className:G.jG,hideScrollbar:!0},!eu&&l.createElement("div",{className:G.g4},l.createElement(_.kt,{size:"small"})),eo&&l.createElement(x.fp,{activeSearchQuery:eo,activeFileKey:ee?.key||null,setActiveFile:Z,deselectActiveFile:ei,searchResults:ec}),eu&&!eo&&l.createElement(z,{selectedTab:er,activeFileKey:ee?.key||null,setActiveFile:Z,deselectActiveFile:ei,activeResource:el,setActiveResource:ea,deselectActiveResource:()=>ea(null),filterFn:$})),l.createElement("div",{className:G.qr},l.createElement("div",{className:G.PJ},(0,m.t)("community.universal_posting_modal.footer.choose_resource"),l.createElement(d.CY,{href:"https://help.figma.com/hc/articles/360040035974-Publish-Community-files",target:"_blank",trusted:!0},(0,m.t)("community.universal_posting_modal.footer.learn_more"))),l.createElement("div",{className:G.GC},l.createElement(M.M4,{onClick:q},(0,m.t)("general.cancel")),l.createElement(M.UC,{disabled:er===x.gr.FILES?!ee:er===x.gr.PLUGINS||er===x.gr.WIDGETS?!el:void 0,onClick:()=>{if(er===x.gr.FILES)ee&&((0,r.sx)("community_publish_modal",{user:t.id,step:S.WX.DETAILS,resourceType:F.bD.HUB_FILE,fileKey:ee.key,fileName:ee.name}),i((0,v.t)({fileKey:ee.key,isFullscreenOpen:!1,entryPoint:C.k2.UNIVERSAL_POSTING,canvasThumbnailPromise:(0,N.$)(ee.key,t),source:e.source})),et(null));else if((er===x.gr.PLUGINS||er===x.gr.WIDGETS)&&el){let e="localFileId"in el?el:B[el.id],l=e.localFileId;(0,r.sx)("community_publish_modal",{user:t.id,step:S.WX.DETAILS,resourceType:er===x.gr.PLUGINS?F.bD.PLUGIN:F.bD.WIDGET,pluginId:e.plugin_id,pluginName:e.name,localFileId:l}),i((0,I.r)({localFileId:l,entryPoint:C.k2.UNIVERSAL_POSTING})),ea(null)}}},(0,m.t)("general.next")))))},"Universal Posting Modal")},16172:(e,t,i)=>{i.d(t,{P:()=>P,v:()=>F});var l=i(411855),a=i(188507),r=i(805014),n=i(826212);if(443==i.j)var o=i(395096);var s=i(277154),c=i(336427),d=i(94489),_=i(918091),u=i(299009),m=i(39890),E=i(663844),p=i(14489),g=i(693565),f=i(76265),v=i(47795),I=i(542005),b=i(125682),h=i(427494),y=i(176160),S=i(484930),T=i(422417),N=i(929717),k=i(95224),w=i(487795);if(443==i.j)var O=i(949207);if(443==i.j)var R=i(156238);if(443==i.j)var A=i(432023);var F=(e=>(e.LOADED="post-to-feed-view-loaded",e.SELECT_NODE="post-to-feed-select-node",e))(F||{});function C(e){return l.createElement("div",{className:null!==e.isSelectedIdx?w.El:w.Vs,onClick:e.onClick,role:"button",tabIndex:0,ref:t=>{t&&e.observe(t)},"data-observer-guid":e.node.guid},l.createElement("div",{className:w.h3,style:{backgroundColor:e.backgroundColor}},l.createElement(m.x,{isLoading:!e.thumbnailUrl},()=>l.createElement("img",{className:w.xn,src:e.thumbnailUrl,alt:"",draggable:!1}))),l.createElement("div",{className:w.JO},l.createElement("div",{className:w.qp},e.node.name)),null!==e.isSelectedIdx&&1!==e.totalNumSelected&&l.createElement("div",{className:w.Jx},e.isSelectedIdx+1))}function D(e){let{toggleSelectNode:t}=e,i=(e.pageNode&&(0,n.colorToHex)(e.pageNode.backgroundColor))??"",[a,r]=l.useState(!1),o=l.useCallback(l=>{t(l,{pageId:e.pageNode.guid,pageBackgroundColor:i})},[t,e.pageNode.guid,i]);return l.createElement("div",{className:w.RW},e.showCollapsibleHeader&&l.createElement("div",{className:w.Vr,onClick:()=>r(e=>!e),role:"button",tabIndex:0},a?l.createElement(g.B,{svg:A.A,className:w.Rq}):l.createElement(g.B,{svg:O.A,className:w.Rq}),e.pageNode.name,"\xa0",l.createElement("span",{className:w.Du},"\xb7 ",e.nodes.length)),!a&&l.createElement("div",{className:w.Mc},e.nodes.map(t=>{let a=e.selectedNodeGuids?.indexOf(t.guid)??null;return l.createElement(C,{key:`node-${t.guid}`,node:t,thumbnailUrl:e.thumbnailByGuid[t.guid]?.url??"",backgroundColor:i,isSelectedIdx:-1===a?null:a,onClick:()=>o(t.guid),totalNumSelected:e.selectedNodeGuids?.length??null,observe:e.observe})})))}let L="feed-post-page-selector-menu";function P(){let e=l.useCallback((e,t)=>{let i=window.parent;window.self.origin===i.origin&&i&&i.postMessage({type:e,data:t})},[]),t=l.useRef(new d.jk("feed_post_to_file_load",{}));l.useEffect(()=>{t.current.start()},[]);let i=(0,h.aV)(),n=(0,h.eY)(),m=(0,y.tS)();l.useEffect(()=>{if(!i){t.current.stop();let i=t.current.getElapsedTime();(0,s.sx)("team_feed.post_from_file.file_load",{elapsedMs:i,fileKey:m}),e("post-to-feed-view-loaded",!0)}},[i,e,m]);let O=(0,a.d4)(e=>e.mirror.appModel.pagesList),A=l.useMemo(()=>O.reduce((e,t)=>({...e,[t.nodeId]:n.get(t.nodeId)}),{}),[O,n]),F=(0,a.wA)(),C=l.useMemo(()=>Object.values(A).flatMap(e=>e?e.uiOrderedChildren.map(t=>{let i=n.get(t);return i&&("FRAME"===i.type||"SECTION"===i.type)?{...i,pageId:e.guid,name:i?.name}:null}).filter(e=>e):[]).filter(e=>null!==e),[A,n]),P=l.useMemo(()=>{let e={};for(let t of C)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[C]),W=l.useMemo(()=>new S.Ef(C,{keys:["name"]}),[C]),[x,U]=l.useState(""),[M,G]=l.useState(null),[j]=(0,o.A)(x,200),B=l.useCallback(e=>{G(W.search(e))},[W]),z=l.useMemo(()=>{if(null===M)return null;let e={};for(let t of M)e[t.pageId]?e[t.pageId].push(t):e[t.pageId]=[t];return e},[M]);l.useEffect(()=>{""!==j&&B(j)},[j,B]);let V=(0,b.Um)(),Y=l.useRef(null),[K,H]=l.useState(null);l.useEffect(()=>{if(K||!n||!P||0===Object.keys(P).length)return;let e=n.get(Object.keys(P)[0]);e&&H(e)},[K,P,n]);let[J,Q]=l.useState({}),[$,q]=l.useState([]),X=(0,c.ZC)($),Z=l.useRef(null),[ee,et]=l.useState([]),ei=l.useCallback(e=>{let t=[];e.forEach(e=>{if(e.isIntersecting&&e.target instanceof HTMLElement){let i=e.target.dataset?.observerGuid;i&&t.push(i)}}),et(t)},[]),el=l.useMemo(()=>new IntersectionObserver(ei,{threshold:[.25]}),[ei]),ea=l.useCallback(e=>{el&&el.observe(e)},[el]),[er,en]=l.useState({});l.useEffect(()=>{if(0===ee.length)return;let e=ee.filter(e=>!er[e]);0!==e.length&&(0,I.Jr)().loadAllImagesUnder(e,r.MoD.NON_ANIMATED_ONLY,"feed.postFromFile").then(()=>{e.forEach(e=>{setTimeout(()=>{en(t=>{if(t[e])return t;let i=(0,k.BO)(e);return{...t,[e]:{url:URL.createObjectURL(new Blob([i])),data:i}}})},0)})})},[ee,er]),l.useEffect(()=>{$!==X&&e("post-to-feed-select-node",$.map(e=>({guid:e,thumbnail:er[e].data,backgroundColor:J[e]})))},[X,$,e,er,J]);let eo=l.useCallback((e,t)=>{er[e]&&(Q(i=>t.pageBackgroundColor?{...i,[e]:t.pageBackgroundColor}:i),q(t=>t.includes(e)?t.filter(t=>e!==t):t.length>=T.e3?t:[...t,e]))},[er]);return P&&0===Object.keys(P).length?l.createElement("div",{className:w.se},(0,f.t)("fig_feed.no_top_level_nodes")):K?l.createElement("div",{className:w.kL},l.createElement("div",{className:w.Y},l.createElement(p.IW,{query:x,className:w.ON,onChange:U,clearSearch:()=>{U(""),G(null)},focusOnMount:!1,iconClassName:w.qc,placeholder:(0,f.t)("fig_feed.search_frames")}),""===x&&l.createElement(l.Fragment,null,l.createElement("div",{role:"button",ref:Y,onClick:()=>{V?.type===L?F(v.oB()):F(v.j7({type:L}))},tabIndex:0,className:w.YZ},l.createElement("div",null,K.name),l.createElement(g.B,{svg:R.A,width:"8px",autosize:!0})),Y.current&&V?.type===L&&l.createElement(N.Cf,{showPoint:!1,targetRect:Y.current.getBoundingClientRect(),propagateCloseClick:!0},Object.keys(P).map(e=>l.createElement(_.MM,{key:e,onClick:()=>H(A[e]),checked:K.guid===e},A[e].name))))),l.createElement(E.P,{hideScrollbar:!0,className:w.jG,innerClassName:w.hu,scrollContainerRef:Z},""===x&&l.createElement(D,{pageNode:K,nodes:P[K.guid]||[],thumbnailByGuid:er,selectedNodeGuids:$,toggleSelectNode:eo,observe:ea}),""!==x&&(null===z?l.createElement("div",{className:w.Do},l.createElement(u.kt,{size:"large"})):Object.entries(z).length>0?Object.entries(z).map(([e,t])=>l.createElement(D,{key:e,pageNode:A[e],nodes:t,thumbnailByGuid:er,selectedNodeGuids:$,toggleSelectNode:eo,showCollapsibleHeader:!0,observe:ea})):l.createElement("div",{className:w.Lp},l.createElement("div",null,(0,f.tx)("fig_feed.no_frames_matching",{searchQuery:l.createElement(l.Fragment,null,l.createElement("span",{className:w.ZF},x))})))))):null}},933693:(e,t,i)=>{i.d(t,{A:()=>l.A,D:()=>a});var l=i(648005),a=(e=>(e.NEW_FILE="NEW_FILE",e.NEW_RESOURCE="NEW_RESOURCE",e.NEW_FILE_DROPDOWN="NEW_FILE_DROPDOWN",e.PROJECT_OVERFLOW_MENU="PROJECT_OVERFLOW_MENU",e.NEW_TEAM="NEW_TEAM",e.NEW_PROJECT="NEW_PROJECT",e.IMPORT="IMPORT",e.INVITE="INVITE",e.SHARE="SHARE",e.FAVORITE="FAVORITE",e.LOG_OUT="LOG_OUT",e.CLAIM="CLAIM",e.NEW_WHITEBOARD_FILE="NEW_WHITEBOARD_FILE",e.VIEW_COMMUNITY_PROFILE="VIEW_COMMUNITY_PROFILE",e.REQUEST_TO_EDIT="REQUEST_TO_EDIT",e.JOIN_TEAM="JOIN_TEAM",e.UPGRADE_TO_TEAM_ADMIN="UPGRADE_TO_TEAM_ADMIN",e.DROPDOWN="DROPDOWN",e.VIEW_MEMBERS="VIEW_MEMBERS",e.TEAM_OVERFLOW_MENU="TEAM_OVERFLOW_MENU",e.VIEW_LIBRARIES="VIEW_LIBRARIES",e.NEW_SITE_FILE="NEW_SITE_FILE",e.GET_DESKTOP_APP="GET_DESKTOP_APP",e.ADD_TO_CHROMEBOOK="ADD_TO_CHROMEBOOK",e.REQUEST_SENT_DESIGN="REQUEST_SENT_DESIGN",e.REQUEST_SENT_WHITEBOARD="REQUEST_SENT_WHITEBOARD",e.REQUEST_SENT_ALL="REQUEST_SENT_ALL",e.SETTINGS="SETTINGS",e))(a||{})},250953:(e,t,i)=>{function l(){return null}i.d(t,{VO:()=>n,YA:()=>r,AJ:()=>a}),i(263383),i(41922),new(i(127896)).b({name:"litmus",dependencies:[],exports:[{glob:"components.ts",sideEffects:!1},{glob:"litmus_view_selector.ts",sideEffects:!1},{glob:"is_litmus.ts",sideEffects:!1}],friendFiles:[],routeHints:["litmus"],eslint:{rules:{"react/no-array-index-key":"off","@typescript-eslint/no-explicit-any":"off"}}});let a=l,r=l,n=l},535397:(e,t,i)=>{i.d(t,{OF:()=>r,e7:()=>l,oL:()=>a});let l=function(){return!1},a=function(){return!1},r=function(){return!1}},64050:(e,t,i)=>{function l(){return null}i.d(t,{BX:()=>n,S7:()=>s,YP:()=>r,lV:()=>c,lt:()=>a,mh:()=>o});let a=l,r=l,n=l,o=l,s=l,c=l},214068:(e,t,i)=>{i.d(t,{S:()=>a});var l=i(263159);let a=(0,i(411855).memo)(function(e){return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,l.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5a.5.5 0 0 0-.5.5v5a.5.5 0 0 0 .5.5h5a.5.5 0 0 0 .5-.5v-1a.5.5 0 0 1 1 0v1a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 4 10.5v-5A1.5 1.5 0 0 1 5.5 4h1a.5.5 0 0 1 0 1zm4.793 0H8.5a.5.5 0 0 1 0-1H12v3.5a.5.5 0 0 1-1 0V5.707L8.854 7.854a.5.5 0 1 1-.708-.708z",clipRule:"evenodd"})})})},546369:(e,t,i)=>{i.d(t,{F:()=>r});var l=i(263159),a=i(411855);let r=443==i.j?(0,a.memo)(function(e){return(0,l.jsx)("svg",{width:"16",height:"16",fill:"none",viewBox:"0 0 16 16",...e,children:(0,l.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m12.257 9.312-5.758 3.455c-1.1.66-2.499-.132-2.499-1.415V4.648c0-1.282 1.4-2.075 2.499-1.415l5.758 3.455c.99.594.99 2.03 0 2.624m-.514-.857a.53.53 0 0 0 0-.91l-5.76-3.453A.65.65 0 0 0 5 4.648v6.704a.65.65 0 0 0 .984.557z",clipRule:"evenodd"})})}):null}}]);

//# debugId=c3547b8e-8d0b-57df-b801-7582faa0527a

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/645ac37f0631d6a21adf899500854f50553c6197/9254-db88b040cb23b7c0.min.js.map