"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="78fd778a-8063-552a-963a-268da4f1ffb8")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[576],{870576:(e,t,i)=>{i.r(t),i.d(t,{deserializeJSX:()=>iV,deserializeJSXElement:()=>iF,generateComponentsSchema:()=>eJ,generateSchema:()=>i_,getReactFunctionComponentDefinition:()=>iJ,reconcileJSX:()=>iX,reconcileJSXElement:()=>iH,serializeJSX:()=>iD});var r,n=i(924451),a=i(245954),o=i(724086);function l(e){return e?.isStateGroup?e:e?.type==="SYMBOL"?e.parentNode?.isStateGroup?e.parentNode:e:null}var s=i(512671);let u="Component",d="ComponentDefinitionRef",p="ComponenentSetDefinitionRef";function c(e){return e.startsWith(u)&&e!==d}function f(e){let t=l(e);if(t)return function(e){let t=(0,s.toTitleCase)(e,u);return d===t?"ComponentDefinitionRef2":t}(t.name);throw Error("Node is not a Component or ComponentSet")}function h(e){let t=(0,a.UN)(),i=t.getCurrentPage(),r=t.getInternalCanvas();if(i&&r){for(let t of(0,o.B)([i,r],{followInstances:!0}))if(f(t).toLowerCase()===e.toLowerCase())return m(t.guid)}return null}function m(e){let t=(0,a.UN)().get(e);if(t){if(t.isLooseComponent)return t;if(t.isStateGroup)return t.defaultVariant}return null}var g=i(48451),y=i(851169),b=i(694676),S=i(982672),z=i(805014),x=i(846288),T=i(130843),N=i(717180);function I(e){return"FRAME"===e.nodeType||"SYMBOL"===e.nodeType}function E({nodeShim:e,declarativeNode:t,oldDeclarativeNode:i}){t&&!e.isGroup&&"BOOLEAN_OPERATION"!==e.type&&["x","y"].forEach(r=>{let n=t.layoutMetadata?.[r],a=i?i?.layoutMetadata?.[r]:void 0;"number"==typeof n&&n!==a&&e.writeProperty(r,n)})}function w({nodeShim:e,declarativeNode:t,oldDeclarativeNode:i}){t&&!e.isGroup&&"BOOLEAN_OPERATION"!==e.type&&(i||(i=null),(0,g.c2)(t.layoutMetadata?.xConstraint,i?.layoutMetadata?.xConstraint)&&(0,g.c2)(t.layoutMetadata?.yConstraint,i?.layoutMetadata?.yConstraint)||function(e,t){let i,r,n,a,o,l;if(!e)return;let{xConstraint:s,yConstraint:u}=e.layoutMetadata??{},d="MIN",p="MIN",c=()=>(i||(i=t.getSize()),i),f=()=>(r||(r=t.getParentSizeForConstraints()),r);if(s)switch(s.type){case"left":"number"==typeof s.offset&&(o=s.offset);break;case"right":"number"==typeof s.offset&&(d="MAX",o=f().width-s.offset-c().width);break;case"center":"number"==typeof s.offset&&(d="CENTER",o=f().width/2-c().width/2+s.offset);break;case"left-right":"number"==typeof s.leftOffset&&"number"==typeof s.rightOffset&&(d="STRETCH",n=f().width-s.leftOffset-s.rightOffset,o=s.leftOffset);break;case"scale":if("number"==typeof s.leftOffsetPercent&&"number"==typeof s.rightOffsetPercent){d="SCALE";let e=s.leftOffsetPercent+s.rightOffsetPercent;n=f().width*((100-e)/100),o=f().width*s.leftOffsetPercent/100}}if(u)switch(u.type){case"top":"number"==typeof u.offset&&(l=u.offset);break;case"bottom":"number"==typeof u.offset&&(p="MAX",l=f().height-u.offset-c().height);break;case"center":"number"==typeof u.offset&&(p="CENTER",l=f().height/2-c().height/2+u.offset);break;case"top-bottom":"number"==typeof u.topOffset&&"number"==typeof u.bottomOffset&&(p="STRETCH",a=f().height-u.topOffset-u.bottomOffset,l=u.topOffset);break;case"scale":if("number"==typeof u.topOffsetPercent&&"number"==typeof u.bottomOffsetPercent){p="SCALE";let e=u.topOffsetPercent+u.bottomOffsetPercent;a=f().height*((100-e)/100),l=f().height*u.topOffsetPercent/100}}void 0!==o&&t.writeProperty("x",o),void 0!==l&&t.writeProperty("y",l),(n||a)&&t.resize(n??c().width,a??c().height),t.writeProperty("verticalConstraint",p),t.writeProperty("horizontalConstraint",d)}(t,e))}function O(e,t){for(let[i,r]of Object.entries(e))t({key:i,value:r})}var P=i(424557);function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class C{getIndices(e){let t=[],i={x:this.bounds.x+this.bounds.width/2,y:this.bounds.y+this.bounds.height/2},r=e.y<i.y,n=e.x<i.x,a=e.x+e.width>i.x,o=e.y+e.height>i.y;return r&&a&&t.push(0),n&&r&&t.push(1),n&&o&&t.push(2),a&&o&&t.push(3),t}split(){let e=this.bounds.width/2,t=this.bounds.height/2,i=this.bounds.x,r=this.bounds.y;for(let n of[{x:i+e,y:r},{x:i,y:r},{x:i,y:r+t},{x:i+e,y:r+t}]){let i=new C({bounds:{x:n.x,y:n.y,width:e,height:t},maxObjects:this.maxObjects,maxLevels:this.maxLevels,level:this.level+1});this.nodes.push(i)}}insert(e){if(this.nodes.length){for(let t of this.getIndices(e)){let i=this.nodes[t];i&&i.insert(e)}return}if(this.rects.push(e),this.rects.length>this.maxObjects&&this.level<this.maxLevels){for(let e of(this.nodes.length||this.split(),this.rects))for(let t of this.getIndices(e)){let i=this.nodes[t];i&&i.insert(e)}this.rects=[]}}retrieve(e){let t=this.getIndices(e),i=this.rects;if(this.nodes.length)for(let r of t){let t=this.nodes[r];t&&(i=i.concat(t.retrieve(e)))}return i}clear(){for(let e of(this.rects=[],this.nodes))e.clear();this.nodes=[]}toDebugString(){let e="  ".repeat(this.level),t=this.nodes.map(e=>e.toDebugString()).join("\n"),i=this.rects.map(e=>k(e)).join(", ");return`${e}QuadTree: [bounds: ${k(this.bounds)}]
  ${e}rects: ${i}
  ${e}nodes:

${t}`}constructor(e){v(this,"bounds",void 0),v(this,"nodes",[]),v(this,"rects",[]),v(this,"maxObjects",void 0),v(this,"maxLevels",void 0),v(this,"level",void 0),this.bounds=e.bounds,this.maxObjects=e.maxObjects??10,this.maxLevels=e.maxLevels??4,this.level=e.level??0}}function k(e){return`Rect(x: ${e.x}, y: ${e.y}, w: ${e.width}, h: ${e.height})`}var A=i(167436);function R(e){return e.reduce((e,t)=>{let i=t.absoluteBoundingBox;return i?(0,A.yX)(e,{x:i.x,y:i.y,width:i.w,height:i.h}):e},{x:1/0,y:1/0,width:-1/0,height:-1/0})}function L(e){return"childrenNodes"in e?e.childrenDisplayOrder===P.k.DOM||!e.absoluteRenderBounds||"BOOLEAN_OPERATION"===e.type||e.isStateGroup?e.childrenNodes:(function(e){let t=e.absoluteRenderBounds;if(!t)return[];let i=e.childrenNodes,r={};for(let[e,t]of i.entries())r[t.guid]=e;let n=Object.fromEntries(i.map(e=>[e.guid,[]])),a=new C({bounds:{x:t.x,y:t.y,width:t.w,height:t.h},maxObjects:10,maxLevels:4});for(let e of i){let t=e.absoluteRenderBounds??(e.mask?e.absoluteBoundingBox:void 0);t&&a.insert({x:t.x,y:t.y,width:t.w,height:t.h,guid:e.guid})}for(let e of i){let t=e.absoluteRenderBounds??(e.mask?e.absoluteBoundingBox:void 0);if(t){let i={x:t.x,y:t.y,width:t.w,height:t.h},r=a.retrieve(i);n[e.guid]=r.filter(e=>(function(e,t){let i=e.x<t.x+t.width&&e.x+e.width>t.x,r=e.y<t.y+t.height&&e.y+e.height>t.y;return i&&r})(i,e)).map(e=>e.guid)}}let o={},l=[];for(let e of i)if(!o[e.guid]){let t=new Set,i=[e.guid];for(;i.length>0;){let e=i.pop();if(!o[e])for(let r of(o[e]=!0,t.add(e),n[e]))o[r]||i.push(r)}l.push(t)}return l.map(e=>{let t=[];for(let i of e)t.push({guid:i,idx:r[i]});return t.sort((e,t)=>e.idx-t.idx).map(({idx:e})=>i[e])})})(e).sort((e,t)=>{let i=R(e),r=R(t);return Math.abs(i.y-r.y)>.1?i.y-r.y:Math.abs(i.x-r.x)>.1?i.x-r.x:0}).flat():[]}function D(e){return"childrenNodes"in e?e.childrenDisplayOrder===P.k.DOM?e.childrenNodes:e.reversedChildrenNodes:[]}var j=i(955389);function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class M{writeComponentProps(e){if("INSTANCE"!==this.type)return;e.componentId&&this.writeCustomProperty({key:"componentId",value:e.componentId}),e.sharedPluginData&&this.writeCustomProperty({key:"sharedPluginData",value:e.sharedPluginData}),e.componentProps&&this.writeCustomProperty({key:"componentProperties",value:e.componentProps});let t=this.getTSSceneNodeOrThrow(),i=!1;if(e.nestedInstancesVisibility)for(let[r,n]of Object.entries(e.nestedInstancesVisibility)){let e=t.getMatchingInstanceSublayer(r);if(!e)continue;let a=e.visible;e.visible=n,i=i||!a&&n}if(i&&t.materializeDescendants(),e.componentPropsNested)for(let[i,r]of Object.entries(e.componentPropsNested)){let e=t.getMatchingInstanceSublayer(i);e&&e.isVisibleInInstance&&new M({guid:e.guid,runtime:this.runtime}).writeComponentProps(r)}}writeProperty(e,t){this.runtime.safeWriteProperty(()=>{let i=this.getTSSceneNodeOrThrow();switch(e){case"fontName":{let e=this.runtime.getSafeFontNameOrNull(t);e&&(i.fontName=e);break}case"hyperlink":t&&i.setRangeHyperlink(0,-1,t);break;case"cornerRadius":"number"==typeof t&&i.setCornerRadiusAndClobber(t);break;case"boundVariables":if("object"==typeof t)for(let[e,r]of Object.entries(t))j.hp.includes(e)&&r&&"object"==typeof r&&"type"in r&&"id"in r&&"VARIABLE_ALIAS"===r.type&&"string"==typeof r.id&&i.setBoundVariable(e,r.id);break;default:i[e]=t}})}writeCustomProperty({key:e,value:t}){this.runtime.safeWriteProperty(()=>{let i=this.getTSSceneNodeOrThrow();switch(e){case"characters":"string"==typeof t&&(i.characters=t,i.update());break;case"componentId":if("string"==typeof t){let e=(0,a.UN)().get(t);e&&(i.swapComponent(e),i.updateIfIsNestedInstance())}break;case"componentProperties":"object"==typeof t&&i.setProperties(t,!0);break;case"sharedPluginData":if("object"==typeof t)for(let[e,r]of Object.entries(t)){if("string"!=typeof r){console.warn(`Attempting to set non-string sharedPluginData: ${e}=${JSON.stringify(r)}`);continue}i.setSharedPluginData("jsx",e,r)}break;case"vectorNetwork":t&&(0,T.iN)(i,t);break;case"flipVertical":{let e=i.relativeTransform;i.relativeTransform={...e,m11:(t?-1:1)*e.m11};break}case"flipHorizontal":{let e=i.relativeTransform;i.relativeTransform={...e,m00:(t?-1:1)*e.m00};break}case"lineType":t&&i.setRangeLineType(0,-1,t);break;default:(0,x.xb)(e)}})}writeTextRange(e){let{start:t,end:i,style:r}=e,n=this.getTSSceneNodeOrThrow();O(r,({key:e,value:r})=>{this.runtime.safeWriteProperty(()=>{switch(e){case"textTruncation":case"maxLines":case"fontWeight":break;case"fontName":if(r){let e=this.runtime.getSafeFontNameOrNull(r);e&&n.setRangeFontName(t,i,e)}break;case"fontSize":r&&n.setRangeFontSize(t,i,r);break;case"textCase":r&&n.setRangeTextCase(t,i,r);break;case"textDecoration":r&&n.setRangeTextDecoration(t,i,r);break;case"letterSpacing":r&&n.setRangeLetterSpacing(t,i,r);break;case"lineHeight":r&&n.setRangeLineHeight(t,i,r);break;case"fills":r&&n.setRangeFillPaints(t,i,r);break;case"hyperlink":r&&n.setRangeHyperlink(t,i,r);break;case"listOptions":r&&n.setRangeLineType(t,i,r);break;default:(0,x.xb)(e)}})}),n.update()}get type(){return this.getTSSceneNodeOrThrow().type}get isGroup(){return this.getTSSceneNodeOrThrow().isGroup}get children(){return this.getTSSceneNodeOrThrow().childrenGuids.map(e=>new M({guid:e,runtime:this.runtime}))}get childrenLayerOrdered(){return D(this.getTSSceneNodeOrThrow()).map(e=>new M({guid:e.guid,runtime:this.runtime}))}get childrenVisuallyOrdered(){return L(this.getTSSceneNodeOrThrow()).map(e=>new M({guid:e.guid,runtime:this.runtime}))}getSize(){let e=this.getTSSceneNodeOrThrow();e.update();let t=e.size;return{width:t.x,height:t.y}}getParentSizeForConstraints(){let e=this.getTSSceneNodeOrThrow();e.update();let t=(0,N.Ji)(e);if(!t)throw Error("Containing parent not found");let i=t.size;return{width:i.x,height:i.y}}resize(e,t){let i=this.getTSSceneNodeOrThrow();i.update(),i.resizeWithConstraints(e,t)}insertChild(e,t){let i=this.getTSSceneNodeOrThrow(),r=(0,a.UN)().get(t),n=i.isGroup;try{i.resizeToFit=!1,i.insertChild(r,e,{skipValidation:!0})}finally{n&&(i.resizeToFit=!0)}}removeNode(){this.getTSSceneNode()?.removeSelfAndChildren()}getTSSceneNode(){return this.sceneNodeCached=this.sceneNodeCached??(0,a.UN)().get(this.guid)??null,this.sceneNodeCached}getTSSceneNodeOrThrow(){let e=this.getTSSceneNode();if(!e)throw Error(`node not found: ${this.guid}`);return e}constructor({guid:e,runtime:t}){V(this,"guid",void 0),V(this,"runtime",void 0),V(this,"sceneNodeCached",null),this.guid=e,this.runtime=t}}function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class X{safeWriteProperty(e){this.errorGuard.guard(e)}getSafeFontNameOrNull(e){return this.resourceStatus.loadedFonts[e.family]?.[e.style]?e:this.resourceStatus.fontFallbacks[e.family]?.[e.style]??null}createNode(e,t=z.HzA.TRACK){let i;if(!e||"object"!=typeof e)throw Error("invalid node passed to createNode");let r=e.nodeType;switch(r){case"GROUP":(i=(0,a.UN)().createNode(r,{tracking:t})).isCullingDisabledForGroup=!0;break;case"BOOLEAN_OPERATION":if(i=(0,a.UN)().createNode(r,{tracking:t}),!e.requiredProps.booleanOperation)throw Error("BOOLEAN_OPERATION nodes must have a booleanOperation");i.booleanOperation=e.requiredProps.booleanOperation;break;case"CANVAS":case"ELLIPSE":case"LINE":case"REGULAR_POLYGON":case"SLICE":case"STAR":case"TEXT":case"VECTOR":case"FRAME":case"SYMBOL":i=(0,a.UN)().createNode(r,{tracking:t});break;case"RECTANGLE":case"ROUNDED_RECTANGLE":i=(0,a.UN)().createNode("ROUNDED_RECTANGLE",{tracking:t});break;case"INSTANCE":{if(!e.requiredProps.componentId)throw Error("INSTANCE nodes must have a componentId");let t=(0,a.UN)().get(e.requiredProps.componentId);if(t?.type!=="SYMBOL")throw Error(`Invalid component Id: ${e.requiredProps.componentId}`);let r=t.createInstance();if(!r)throw Error(`Failed to create instance for componentId: ${e.requiredProps.componentId}`);i=r;break}case"NONE":throw Error(`Attempting to create node with type=${r}`);default:throw Error(`Creating ${r} node not yet supported`)}return new M({guid:i.guid,runtime:this})}constructor({resourceStatus:e}){F(this,"resourceStatus",void 0),F(this,"errorGuard",void 0),this.errorGuard=(0,S.m)(),this.resourceStatus=e}}function H(e,t){return`family=${e.family}, style=${e.style}, weight=${t}`}async function $({declarativeNode:e}){let t=function(e){let t=[],i=[e],r=new Set;for(;i.length>0;){let e=i.pop();if(e){if(e.textMetadata?.style?.fontName&&e.textMetadata?.style?.fontWeight){let i=H(e.textMetadata.style.fontName,e.textMetadata.style.fontWeight);r.has(i)||(r.add(i),t.push({fontName:e.textMetadata.style.fontName,weight:e.textMetadata.style.fontWeight}))}if(e.textMetadata?.ranges){for(let i of e.textMetadata.ranges)if(i.style.fontName&&i.style.fontWeight){let e=H(i.style.fontName,i.style.fontWeight);r.has(e)||(r.add(e),t.push({fontName:i.style.fontName,weight:i.style.fontWeight}))}}e.renderMetadata?.children&&i.push(...e.renderMetadata.children)}}return t}(e),i={loadedFonts:{},fontFallbacks:{}};return await Promise.all(t.map(async e=>{let{fontName:t,weight:r}=e;try{await (0,b.EV)(t),i.loadedFonts[t.family]=i.loadedFonts[t.family]||{},i.loadedFonts[t.family][t.style]=!0;return}catch{}let n=(0,b.ye)(t.family,r,t.style.includes("Italic"));i.fontFallbacks[t.family]=i.fontFallbacks[t.family]||{};try{let e=n??{style:t.style,family:"Inter"};await (0,b.EV)(e),i.fontFallbacks[t.family][t.style]=e;return}catch{}i.fontFallbacks[t.family][t.style]=null})),i}async function B(){(0,b.$2)()}async function _({nodeId:e,declarativeNode:t,oldDeclarativeNode:i,serializerOptions:r}){try{let n=await $({declarativeNode:t}),o=new X({resourceStatus:n}),l=e?(0,a.UN)().get(e):null,s=l?l.parentNode:(0,a.UN)().getCurrentPage();if(!s)throw Error("Could not find parent node");let u=e&&l?l.parentNode?.childrenGuids.indexOf(e):s.childrenGuids.length;if(void 0===u)throw Error("Could not find index in parent");let d=e?new M({guid:e,runtime:o}):null,p=new M({guid:s.guid,runtime:o}),c=s.stackMode;if(y.l7.user("figma-jsx-reconcileDeclarativeNodes",()=>{d=function e({declarativeNode:t,oldDeclarativeNode:i,newParentDirection:r,oldParentDirection:n,nodeShim:a,parentNodeShim:o,indexInParent:l,runtime:s,serializerOptions:u}){if(!t)return null;let d=()=>{let e=s.createNode(t);return u.orderChildrenByXY?o.insertChild(l,e.guid):o.insertChild(Math.max(o.children.length-l,0),e.guid),e};if(!i&&!t)return null;if(i||(i=null),!i&&a&&a.removeNode(),i&&!t)return a?.removeNode(),null;if(!i&&t&&(a=d()),!t)return null;if(i&&!t?.renderMetadata.isUnknownNode&&i?.nodeType!==t?.nodeType&&(i=null,a?.removeNode(),a=d()),a||(a=d()),!t.renderMetadata?.isUnknownNode||t.renderMetadata?.isUnknownNode&&!i){for(let[e,r]of((0,g.c2)(i?.componentProps,t.componentProps)||a.writeComponentProps(t.componentProps),Object.entries(t.customProperties)))(0,g.c2)(i?.customProperties?.[e],r)||a.writeCustomProperty({key:e,value:r});for(let[e,r]of Object.entries(t.props))(0,g.c2)(i?.props?.[e],r)||a.writeProperty(e,r);s.safeWriteProperty(()=>{!function({declarativeNode:e,oldDeclarativeNode:t,nodeShim:i}){let r=t?.textMetadata,n=e?.textMetadata;if(!(!n||(0,g.c2)(r,n))&&(n.style&&O(n.style,({key:e,value:t})=>{let n=r?.style?.[e];if(!(0,g.c2)(n,t))switch(e){case"fills":case"fontWeight":break;case"fontName":t&&i.writeProperty("fontName",t);break;case"fontSize":t&&i.writeProperty("fontSize",t);break;case"textCase":t&&i.writeProperty("textCase",t);break;case"textDecoration":t&&i.writeProperty("textDecoration",t);break;case"letterSpacing":t&&i.writeProperty("letterSpacing",t);break;case"lineHeight":t&&i.writeProperty("lineHeight",t);break;case"maxLines":void 0!==t&&i.writeProperty("maxLines",t);break;case"textTruncation":t&&i.writeProperty("textTruncation",t);break;case"hyperlink":t&&i.writeProperty("hyperlink",t);break;case"listOptions":t&&i.writeCustomProperty({key:"lineType",value:t});break;default:(0,x.xb)(e)}}),"string"==typeof n.characters&&n.characters!==r?.characters&&i.writeCustomProperty({key:"characters",value:n.characters}),n.ranges))for(let e=0;e<n.ranges.length;e++){let t=n.ranges[e],a=r?.ranges?.[e];!(0,g.c2)(a,t)&&t&&i.writeTextRange(t)}}({declarativeNode:t,oldDeclarativeNode:i,nodeShim:a})})}s.safeWriteProperty(()=>{!function({nodeShim:e,declarativeNode:t,oldDeclarativeNode:i,newParentDirection:r,oldParentDirection:n}){t&&"GRID"!==r&&"GRID"!==n&&(i||(i=null),(t.layoutMetadata?.width!==i?.layoutMetadata?.width||t.layoutMetadata?.height!==i?.layoutMetadata?.height||t.layoutMetadata?.fallbackWidthIfHug!==i?.layoutMetadata?.fallbackWidthIfHug||t.layoutMetadata?.fallbackHeightIfHug!==i?.layoutMetadata?.fallbackHeightIfHug||r!==n||t.layoutMetadata?.direction!==i?.layoutMetadata?.direction)&&function(e,t,i){if(!e)return;let r=e.layoutMetadata?.width,n=e.layoutMetadata?.height,a=t.isGroup||"BOOLEAN_OPERATION"===t.type;if("TEXT"===e.nodeType&&("hug-contents"===r&&"hug-contents"===n?t.writeProperty("textAutoResize","WIDTH_AND_HEIGHT"):"hug-contents"!==r&&"hug-contents"===n?t.writeProperty("textAutoResize","HEIGHT"):t.writeProperty("textAutoResize","NONE")),!a&&("number"==typeof r||"number"==typeof n)){I(e)&&("number"==typeof r&&(e.layoutMetadata?.direction==="horizontal"&&t.writeProperty("stackPrimarySizing","FIXED"),e.layoutMetadata?.direction==="vertical"&&t.writeProperty("stackCounterSizing","FIXED")),"number"==typeof n&&(e.layoutMetadata?.direction==="horizontal"&&t.writeProperty("stackCounterSizing","FIXED"),e.layoutMetadata?.direction==="vertical"&&t.writeProperty("stackPrimarySizing","FIXED")));let i="LINE"===e.nodeType?0:.01,a="number"==typeof r?r:t.getSize().width||.01,o="number"==typeof n?n:t.getSize().height||i;t.resize(a,o)}try{"fill-parent"===r?t.writeProperty("stackHorizontalLayoutSize",z.mKm.FILL_CONTAINER):"hug-contents"===r&&I(e)&&t.writeProperty("stackHorizontalLayoutSize",z.mKm.HUG_CONTENT)}catch{"fill-parent"===r?"HORIZONTAL"===i?t.writeProperty("stackChildPrimaryGrow",1):"VERTICAL"===i&&(t.writeProperty("stackChildAlignSelf","STRETCH"),I(e)&&t.writeProperty("stackPrimarySizing","FIXED")):"hug-contents"===r&&I(e)&&("HORIZONTAL"===e.props.stackMode?t.writeProperty("stackPrimarySizing","RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"):"VERTICAL"===e.props.stackMode&&t.writeProperty("stackCounterSizing","RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))}try{"fill-parent"===n?t.writeProperty("stackVerticalLayoutSize",z.mKm.FILL_CONTAINER):"hug-contents"===n&&I(e)&&t.writeProperty("stackVerticalLayoutSize",z.mKm.HUG_CONTENT)}catch{"fill-parent"===n?"VERTICAL"===i?t.writeProperty("stackChildPrimaryGrow",1):"HORIZONTAL"===i&&(t.writeProperty("stackChildAlignSelf","STRETCH"),I(e)&&t.writeProperty("stackPrimarySizing","FIXED")):"hug-contents"===n&&I(e)&&("HORIZONTAL"===e.props.stackMode?t.writeProperty("stackCounterSizing","RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"):"VERTICAL"===e.props.stackMode&&t.writeProperty("stackPrimarySizing","RESIZE_TO_FIT_WITH_IMPLICIT_SIZE"))}}(t,e,r))}({nodeShim:a,declarativeNode:t,oldDeclarativeNode:i,newParentDirection:r,oldParentDirection:n})}),s.safeWriteProperty(()=>{E({nodeShim:a,declarativeNode:t,oldDeclarativeNode:i})}),s.safeWriteProperty(()=>{w({declarativeNode:t,nodeShim:a,oldDeclarativeNode:i})});let p=u.orderChildrenByXY?a.childrenVisuallyOrdered:a.childrenLayerOrdered,c=0,f=t.renderMetadata?.children??[],h=i?.renderMetadata?.children??[];for(let o=0;o<f.length;o++){let l=f[o];e({declarativeNode:l,oldDeclarativeNode:h[o],newParentDirection:t.props.stackMode??r,oldParentDirection:i?.props?.stackMode??n,indexInParent:c,nodeShim:p[o]??null,parentNodeShim:a,runtime:s,serializerOptions:u})&&c++}if("INSTANCE"!==a.type&&!t?.renderMetadata.isUnknownNode&&p.length>c){let e=p.length-c;for(;e>0;)u.orderChildrenByXY?a.childrenVisuallyOrdered[a.children.length-1].removeNode():a.childrenLayerOrdered[a.children.length-1].removeNode(),e--}if("FRAME"===t.nodeType&&0===a.children.length&&s.safeWriteProperty(()=>{!function({nodeShim:e,declarativeNode:t,oldDeclarativeNode:i}){let r,n;if(t&&0===e.children.length&&(i||(i=null),t.layoutMetadata?.width==="hug-contents"&&"number"==typeof t.layoutMetadata?.fallbackWidthIfHug&&t.layoutMetadata?.fallbackWidthIfHug!==i?.layoutMetadata?.fallbackWidthIfHug&&(r=t.layoutMetadata.fallbackWidthIfHug),t.layoutMetadata?.height==="hug-contents"&&"number"==typeof t.layoutMetadata?.fallbackHeightIfHug&&t.layoutMetadata?.fallbackHeightIfHug!==i?.layoutMetadata?.fallbackHeightIfHug&&(n=t.layoutMetadata?.fallbackHeightIfHug),r||n)){let t=e.getSize();e.resize(r??t.width,n??t.height),r&&e.writeProperty("stackHorizontalLayoutSize",z.mKm.HUG_CONTENT),n&&e.writeProperty("stackVerticalLayoutSize",z.mKm.HUG_CONTENT)}}({nodeShim:a,declarativeNode:t,oldDeclarativeNode:i})}),"GROUP"===t.nodeType||"BOOLEAN_OPERATION"===t.nodeType){if(0===a.children.length)return a.removeNode(),null;for(let e=0;e<f.length;e++){let t=f[e],i=h[e],r=u.orderChildrenByXY?a.children[e]:a.childrenLayerOrdered[e];s.safeWriteProperty(()=>{E({nodeShim:r,declarativeNode:t,oldDeclarativeNode:i})}),s.safeWriteProperty(()=>{w({nodeShim:r,declarativeNode:t,oldDeclarativeNode:i})})}"GROUP"===t.nodeType&&a.writeProperty("isCullingDisabledForGroup",!1)}return a}({declarativeNode:t,oldDeclarativeNode:i,nodeShim:d,parentNodeShim:p,indexInParent:u,runtime:o,newParentDirection:c,oldParentDirection:c,serializerOptions:r})}),!d)return null;await (0,b.FP)();let f=(0,a.UN)().get(d.guid);return f?.update(),f}finally{B()}}var J=i(104180);let U=function(e){return e},W=J.z.object({id:J.z.string().optional()}),G=U({name:"ID",includeInTailwind:!0,fieldGroups:new Set([]),outputSchema:()=>W,defaults:()=>({}),serialize:({guid:e},t)=>{if(t.ignoreDeveloperFriendlyIds)return{id:e};let i=(0,a.UN)().developerFriendlyIdFromGuid(e);return{id:i?.toString()}},deserialize:({params:{id:e}})=>{if("string"==typeof e)return{renderMetadata:{originalId:e}}}});class K{append(e){return this.data.push(e),this}codefence(e,t="jsx"){return this.data.push("```"),this.data.push(t),this.data.push("\n"),this.data.push(e()),this.data.push("\n"),this.data.push("```"),this}newline(){return this.data.push("\n"),this}toString(e=""){return this.data.join(e)}constructor(){!function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i}(this,"data",[])}}function Y(e,t){return e.split("\n").map(e=>`${t}${e}`).join("\n")}function Z(e){return`  return (
${Y(e,"  ".repeat(2))}
  )`}function Q(e){let t=e.replace(/\n/g,"").replace(/\{/g,"{\n").replace(/\}/g,"\n}").replace(/; /g,"\n").split("\n"),i=0,r=new K;for(let e of t)e.includes("}")&&i--,r.append(`${"  ".repeat(Math.max(0,i))}${e}`),e.includes("{")&&i++;return r.toString("\n")}function q(e){let t="DERIVED_BOOLEAN"===e.type?e.devFriendlyProp:e,i=t.key;return"index"in t?t.nonArrayKey:"DERIVED_BOOLEAN"===e.type?`!!${i}`:i}let ee=J.z.object({componentProps:J.z.record(J.z.string(),J.z.any()).optional()}),et=U({name:"Instances",includeInTailwind:!0,fieldGroups:new Set([]),outputSchema:()=>ee,defaults:()=>({}),serialize:(e,t,i)=>{if("INSTANCE"!==e.type||!e.symbolId)return;let r=(0,s.getInstanceNodeProps)(e,{enableTsArrays:!1,includeCustomImageAndIconProps:!!t.useCustomGroupAndImageFormatForFirstDraft,includeDefaultValues:!0});if(t.serializeAsComponentDefinition){let r="",n=e.componentPropertyReferences()?.mainComponent,a=e.isBubbled,o=n||a?i.getRootComponentTypeInfo()?.parsedDefs.find(t=>{if(a&&"NESTED_INSTANCE"===t.def.type){for(let r of s.getInstanceIdsForDef(i.getRootComponentTypeInfo()?.componentId??"",t))if(r===e.guid)return!0}return n&&t.rawProp===n}):void 0;if(o&&"key"in o.devFriendlyProp&&(r=q(o.devFriendlyProp)),r){if(t.topLevelComponentProps)return{componentProps:{},spreadAttribute:{type:"JSXSpreadAttribute",argument:r}};{let e=new K;return e.append(r),{componentProps:{type:"JSXExpressionContainer",expression:e.toString()}}}}}let n={};return Object.keys(r).length&&(n.componentProps=r),n},deserialize:({params:e,options:t,context:i,declarativeNodeRequiredProps:{componentId:r}})=>{let n=t.topLevelComponentProps?e:e.componentProps;return"object"==typeof n&&r?{componentProps:(0,s.usagePropsToRawProps)(n,r,e=>{let t=i.findComponentIdFromJSXName(e);return t?(0,s.getComponentInfoById)(t,{enableTsArrays:!1}):null})}:{}}}),ei=J.z.object({name:J.z.string().optional()}),er=U({name:"Name",includeInTailwind:!0,fieldGroups:new Set([]),outputSchema:()=>ei,defaults:()=>({}),serialize:(e,t)=>{if("TEXT"===e.type&&e.name===e.characters)return{};if("INSTANCE"===e.type){let t=l(e.mainComponent);if(e.name===t?.name)return{}}if("SYMBOL"===e.type&&t.serializeAsComponentDefinition||!e.isState&&!t.includeNames)return{};let i=en[e.type],r=e.name.replace(/\d/g,"").replace(/\s/g,"");return i&&i.includes(r)?{}:{name:e.name}},deserialize:({params:{name:e}})=>{if("string"==typeof e)return{props:{name:e}}}}),en={TEXT:["Text"],FRAME:["Frame"],VECTOR:["Vector"],BOOLEAN_OPERATION:["Union","Subtract","Intersect","Exclude"],STAR:["Star"],LINE:["Line"],ELLIPSE:["Ellipse"],RECTANGLE:["Rectangle"],ROUNDED_RECTANGLE:["Rectangle"],REGULAR_POLYGON:["Polygon"],SLICE:["Slice"],GROUP:["Group"]};var ea=i(791236);let eo=J.z.enum(["pass-through","normal","darken","multiply","color-burn","lighten","screen","color-dodge","overlay","soft-light","hard-light","difference","exclusion","hue","saturation","color","luminosity","normal","linear-burn","linear-dodge"]).describe("@name(BlendMode)");function el(e){if(e)return e.toLowerCase().replace(/_/g,"-")}function es(e){return e?e.toUpperCase().replace("-","_"):"NORMAL"}let eu=J.z.object({type:J.z.literal("JSXExpressionContainer"),expression:J.z.string()}),ed=J.z.object({r:J.z.number(),g:J.z.number(),b:J.z.number(),a:J.z.number()}),ep=J.z.union([J.z.string(),ed,eu]),ec=J.z.object({x:J.z.number(),y:J.z.number()}),ef=J.z.array(J.z.array(J.z.number()).length(3)).length(2),eh=J.z.object({color:ep,position:J.z.number()}),em=J.z.object({blendMode:eo.optional(),opacity:J.z.number().optional()}),eg=em.extend({type:J.z.literal("solid"),color:ep}),ey=em.extend({type:J.z.enum(["gradient-linear","gradient-radial","gradient-angular","gradient-diamond"]),gradientHandlePositions:J.z.array(ec).length(3),gradientStops:J.z.array(eh)}),eb=em.extend({type:J.z.literal("image"),imageRef:J.z.string().describe("The hash of the image to be used for this fill"),scaleMode:J.z.enum(["fill","fit","tile","crop"]).optional(),imageTransform:ef.optional().describe('Applicable only for scaleMode == "crop". Determines how the image is positioned (thus, cropped) within the layer.'),scalingFactor:J.z.number().optional().describe('Applicable only for scaleMode == "tile" (automatic for other modes). Determines the scaling (thus, repetition) of the image within the layer.'),rotation:J.z.number().optional().describe('Applicable only for scaleMode == "tile" | "fill" | "fit" (automatic for scaleMode == "CROP"). Determines the rotation of the image within the layer. Must be in increments of +90.')}),eS=J.z.union([eg,ey,eb]),ez=J.z.union([J.z.string(),J.z.array(eS),eu]).describe("@name(ColorOrPaintArray) Colors can be represented as 3 or 6 character hex values (#F000) or objects with rgba values from 0-1"),ex=J.z.object({className:J.z.string().optional().describe("A string of tailwind classes")});var eT=i(704037),eN=i(164559),eI=i(683502),eE=i(626325);let ew=J.z.enum(["start","end","center","baseline"]).describe("@name(AlignItems)"),eO=J.z.object({vertical:J.z.number().or(J.z.literal("auto")).or(eu),horizontal:J.z.number().or(J.z.literal("auto")).or(eu),type:J.z.literal("JSXExpressionContainer"),expression:J.z.string()}).partial(),eP=J.z.object({flex:J.z.enum(["vertical","horizontal"]).optional().describe("Auto layout direction"),padding:J.z.union([J.z.number(),J.z.object({vertical:J.z.number().or(eu),horizontal:J.z.number().or(eu),top:J.z.number().or(eu),left:J.z.number().or(eu),bottom:J.z.number().or(eu),right:J.z.number().or(eu),type:J.z.literal("JSXExpressionContainer"),expression:J.z.string()}).partial()]).optional(),spacing:J.z.union([J.z.literal("auto"),J.z.number(),eO]).optional().describe('Determines distance between children of this AutoLayout frame. A single number value or "auto" controls both horizontal and vertical gap. "auto" spacing is the same as justify-content: space-between in css.'),wrap:J.z.boolean().optional().describe('Determines whether children that overflow the bounds of this frame will wrap to a new line. Only applicable when direction is set to "horizontal"'),horizontalAlignItems:ew.optional(),verticalAlignItems:ew.exclude(["baseline"]).optional()});function ev(e,t,i,r){if(!e.isStack)return;let n={};"HORIZONTAL"===e.stackMode?(n.flex="horizontal",n.wrap="WRAP"===e.stackWrap,n.wrap&&(n.spacing={horizontal:i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.itemSpacing:void 0)??i.maybeNormalizePxValue(e.stackSpacing,"x"),vertical:i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.counterAxisSpacing:void 0)??i.maybeNormalizePxValue(e.stackCounterSpacing,"y")},"SPACE_BETWEEN"===e.stackCounterAlignContent&&(n.spacing.vertical="auto"),("SPACE_BETWEEN"===e.stackPrimaryAlignItems||"SPACE_EVENLY"===e.stackPrimaryAlignItems)&&(n.spacing.horizontal="auto"),(n.spacing.horizontal===n.spacing.vertical||"object"==typeof n.spacing.horizontal&&"object"==typeof n.spacing.vertical&&n.spacing.horizontal?.expression===n.spacing.vertical?.expression)&&(n.spacing=n.spacing.horizontal))):"VERTICAL"===e.stackMode&&(n.flex="vertical"),"WRAP"!==e.stackWrap&&"number"==typeof e.stackSpacing&&("SPACE_BETWEEN"===e.stackPrimaryAlignItems||"SPACE_EVENLY"===e.stackPrimaryAlignItems?n.spacing="auto":n.spacing=i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.itemSpacing:void 0)??i.maybeNormalizePxValue(e.stackSpacing,"HORIZONTAL"===e.stackMode?"x":"y"));let a="HORIZONTAL"===e.stackMode?"horizontalAlignItems":"verticalAlignItems";switch(e.stackPrimaryAlignItems){case"MIN":n[a]="start";break;case"MAX":n[a]="end";break;case"CENTER":n[a]="center";break;case"SPACE_EVENLY":case"SPACE_BETWEEN":n[a]=void 0;break;default:(0,x.xb)(e.stackPrimaryAlignItems)}let o="HORIZONTAL"===e.stackMode?"verticalAlignItems":"horizontalAlignItems";switch(e.stackCounterAlignItems){case"MIN":n[o]="start";break;case"MAX":n[o]="end";break;case"CENTER":n[o]="center";break;case"BASELINE":"horizontalAlignItems"===o?n[o]="baseline":n[o]="end";break;default:(0,x.xb)(e.stackCounterAlignItems)}let l=i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.paddingTop:void 0)??i.maybeNormalizePxValue(e.stackTopPadding,"y"),s=i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.paddingLeft:void 0)??i.maybeNormalizePxValue(e.stackLeftPadding,"x"),u=i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.paddingRight:void 0)??i.maybeNormalizePxValue(e.stackRightPadding,"x"),d=i.variableAliasToJSXExpressionContainer(t.includeVariables?e.boundVariables.paddingBottom:void 0)??i.maybeNormalizePxValue(e.stackBottomPadding,"y");return(t.normalizePxToRange01||(l!==s||s!==u||u!==d||d!==l)&&("object"!=typeof l||"object"!=typeof s||"object"!=typeof u||"object"!=typeof d||l.expression!==s.expression||s.expression!==u.expression||u.expression!==d.expression||d.expression!==l.expression)?n.padding={top:l,left:s,right:u,bottom:d}:n.padding=l,r&&(n=function(e,t){let i={};return"horizontal"===e.flex&&t.includes("stack-wrap")&&(i.wrap=e.wrap),(t.includes("stack-spacing")||t.includes("stack-primary-align-items")||t.includes("stack-counter-align-content"))&&(i.spacing=e.spacing),t.includes("stack-primary-align-items")&&("horizontal"===i.flex?i.horizontalAlignItems=e.horizontalAlignItems:i.verticalAlignItems=e.verticalAlignItems),t.includes("stack-counter-align-items")&&("horizontal"===i.flex?i.verticalAlignItems=e.verticalAlignItems:i.horizontalAlignItems=e.horizontalAlignItems),(t.includes("stack-padding-top")||t.includes("stack-padding-bottom")||t.includes("stack-padding-left")||t.includes("stack-padding-right"))&&(i.padding=e.padding),i}(n,r)),t.tailwind)?function(e){let{flex:t,wrap:i,horizontalAlignItems:r,verticalAlignItems:n,padding:a,spacing:o}=e,l=[];if(t&&("vertical"===t?l.push("flex-col"):"horizontal"===t&&l.push("flex")),o&&("number"==typeof o?l.push(`gap-${(0,eT.h)(o)}`):"auto"===o?(l.push("justify-between"),i&&l.push("content-between")):"object"==typeof o&&"horizontal"in o&&("number"==typeof o.horizontal?l.push(`gap-x-${(0,eT.h)(o.horizontal)}`):"auto"===o.horizontal&&"horizontal"===t&&l.push("justify-between"),"number"==typeof o.vertical?l.push(`gap-y-${(0,eT.h)(o.vertical)}`):"auto"===o.vertical&&("vertical"===t?l.push("justify-between"):i&&l.push("content-between")))),i&&l.push("flex-wrap"),r&&"start"!==r&&l.push(`${"horizontal"===t?"justify":"items"}-${r}`),n&&"start"!==n&&l.push(`${"horizontal"===t?"items":"justify"}-${n}`),a){if("number"==typeof a)l.push(`p-${(0,eT.h)(a)}`);else if("object"==typeof a&&!(0,eE.Bj)(a)&&void 0!==a.top&&void 0!==a.bottom&&void 0!==a.left&&void 0!==a.right&&!(0,eE.Bj)(a.top)&&!(0,eE.Bj)(a.bottom)&&!(0,eE.Bj)(a.left)&&!(0,eE.Bj)(a.right)){let{top:e,left:t,right:i,bottom:r}=a;e===r?e>0&&l.push(`py-${(0,eT.h)(e)}`):(e>0&&l.push(`pt-${(0,eT.h)(e)}`),r>0&&l.push(`pb-${(0,eT.h)(r)}`)),t===i?t>0&&l.push(`px-${(0,eT.h)(t)}`):(t>0&&l.push(`pl-${(0,eT.h)(t)}`),i>0&&l.push(`pr-${(0,eT.h)(i)}`))}}return{className:l.join(" ")}}(n):n}let eC=U({name:"Autolayout",includeInTailwind:!0,fieldGroups:new Set(["layout"]),outputSchema:e=>e.tailwind?ex:eP,defaults:({nodeInfo:e,options:t})=>e.isAutoLayout&&!t.tailwind?{padding:0,spacing:0,verticalAlignItems:"start",horizontalAlignItems:"start",wrap:!1,wrapSpacing:0}:{},serializeNodeInfoForDefaults:e=>({isAutoLayout:e.isStack}),deserializeNodeInfoForDefaults:e=>"flex"in e?{isAutoLayout:!!e.flex}:"className"in e&&e.className?{isAutoLayout:e.className.includes("flex")}:{},serialize:(e,t,i)=>ev(e,t,i,null),serializeOverrides:(e,t,i,r)=>ev(e,i,r,t),deserialize:({params:e,options:t,context:i,elem:r})=>{let n=e;t.tailwind&&(n=function(e){let{className:t}=e,i={},r={},n={};for(let{classParts:e,isNegative:a}of(i.flex=t?.includes("flex")?t.includes("flex-col")?"vertical":"horizontal":void 0,(0,eN.mu)(t))){let t=e[0];if(t){if("flex"===t)switch(e[1]){case"nowrap":i.wrap=!1;break;case"wrap":i.wrap=!0}else if("justify"===t)switch(e[1]){case"start":case"end":case"center":"horizontal"===i.flex?i.horizontalAlignItems=e[1]:"vertical"===i.flex&&(i.verticalAlignItems=e[1]);break;case"between":i.flex&&(n[i.flex]="auto")}else if("items"===t)switch(e[1]){case"start":case"end":case"center":"vertical"===i.flex?i.horizontalAlignItems=e[1]:"horizontal"===i.flex&&(i.verticalAlignItems=e[1])}else if("content"===t)"between"===e[1]&&(n.vertical="auto");else if(["p","pt","pb","pl","pr","py","px"].includes(t)){let n=()=>{let t=eI.pu[e[1]]??(0,eN.Hc)(e[1])??0;return a?-1*t:t};switch(t){case"p":i.padding=n();break;case"pt":r.top=n();break;case"pb":r.bottom=n();break;case"pl":r.left=n();break;case"pr":r.right=n();break;case"py":r.top=n(),r.bottom=n();break;case"px":r.left=n(),r.right=n()}}else if("gap"===t){let t=(()=>{let t=e.length-1,i=eI.pu[e[t]]??(0,eN.Hc)(e[t])??void 0;return void 0===i?i:a?-1*i:i})();if(void 0!==t){if(2===e.length)i.spacing=t;else switch(e[1]){case"x":n.horizontal=t;break;case"y":n.vertical=t}}}}}return Object.keys(r).length>0&&(i.padding=r),Object.keys(n).length>0&&("auto"===n.vertical&&void 0===n.horizontal?i.spacing="auto":n.horizontal===n.vertical?i.spacing=n.horizontal:i.spacing=n),i}(e));let{flex:a,wrap:o,horizontalAlignItems:l,verticalAlignItems:s,padding:u,spacing:d}=n;if(!a)return;let p={},c={},f={};"horizontal"===a?(p.stackMode="HORIZONTAL",p.stackWrap=o?"WRAP":"NO_WRAP",f.direction="horizontal"):"vertical"===a&&(p.stackMode="VERTICAL",f.direction="vertical");let h="horizontal"===a?l:s;"start"===h?p.stackPrimaryAlignItems="MIN":"end"===h?p.stackPrimaryAlignItems="MAX":"center"===h&&(p.stackPrimaryAlignItems="CENTER");let m="horizontal"===a?s:l;if("start"===m?p.stackCounterAlignItems="MIN":"end"===m?p.stackCounterAlignItems="MAX":"center"===m?p.stackCounterAlignItems="CENTER":"baseline"===m&&(p.stackCounterAlignItems="BASELINE"),void 0!==u){if("number"==typeof u)p.stackTopPadding=i.maybeDenormalizePxValue(u,"y"),p.stackLeftPadding=i.maybeDenormalizePxValue(u,"x"),p.stackRightPadding=i.maybeDenormalizePxValue(u,"x"),p.stackBottomPadding=i.maybeDenormalizePxValue(u,"y");else if((0,eE.Bj)(u)){let e=i.jsxExpressionContainerToVariableAlias(u,r);c.paddingTop=e,c.paddingLeft=e,c.paddingRight=e,c.paddingBottom=e}else{if("vertical"in u){if("number"==typeof u?.vertical)p.stackTopPadding=i.maybeDenormalizePxValue(u.vertical,"y"),p.stackBottomPadding=i.maybeDenormalizePxValue(u.vertical,"y");else if((0,eE.Bj)(u.vertical)){let e=i.jsxExpressionContainerToVariableAlias(u.vertical,r);c.paddingTop=e,c.paddingBottom=e}}if("horizontal"in u){if("number"==typeof u?.horizontal)p.stackLeftPadding=i.maybeDenormalizePxValue(u.horizontal,"x"),p.stackRightPadding=i.maybeDenormalizePxValue(u.horizontal,"x");else if((0,eE.Bj)(u.horizontal)){let e=i.jsxExpressionContainerToVariableAlias(u.horizontal,r);c.paddingLeft=e,c.paddingRight=e}}"top"in u&&("number"==typeof u?.top?p.stackTopPadding=i.maybeDenormalizePxValue(u.top,"y"):(0,eE.Bj)(u.top)&&(c.paddingTop=i.jsxExpressionContainerToVariableAlias(u.top,r))),"left"in u&&("number"==typeof u?.left?p.stackLeftPadding=i.maybeDenormalizePxValue(u.left,"x"):(0,eE.Bj)(u.left)&&(c.paddingLeft=i.jsxExpressionContainerToVariableAlias(u.left,r))),"right"in u&&("number"==typeof u?.right?p.stackRightPadding=i.maybeDenormalizePxValue(u.right,"x"):(0,eE.Bj)(u.right)&&(c.paddingRight=i.jsxExpressionContainerToVariableAlias(u.right,r))),"bottom"in u&&("number"==typeof u?.bottom?p.stackBottomPadding=i.maybeDenormalizePxValue(u.bottom,"y"):(0,eE.Bj)(u.bottom)&&(c.paddingBottom=i.jsxExpressionContainerToVariableAlias(u.bottom,r)))}}let g="horizontal"===a&&!!o;if("number"==typeof d)p.stackSpacing=i.maybeDenormalizePxValue(d,"horizontal"===a?"x":"y"),g&&(p.stackCounterSpacing=i.maybeDenormalizePxValue(d,"y"));else if("auto"===d)p.stackPrimaryAlignItems="SPACE_BETWEEN",g&&(p.stackCounterAlignContent="SPACE_BETWEEN");else if((0,eE.Bj)(d)){let e=i.jsxExpressionContainerToVariableAlias(d,r);c.itemSpacing=e,g&&(c.counterAxisSpacing=e)}else if("horizontal"===a&&"object"==typeof d&&(g&&"vertical"in d&&("number"==typeof d?.vertical?p.stackCounterSpacing=i.maybeDenormalizePxValue(d.vertical,"y"):d?.vertical==="auto"?p.stackCounterAlignContent="SPACE_BETWEEN":(0,eE.Bj)(d.vertical)&&(c.counterAxisSpacing=i.jsxExpressionContainerToVariableAlias(d.vertical,r))),"horizontal"in d&&("number"==typeof d?.horizontal?p.stackSpacing=i.maybeDenormalizePxValue(d.horizontal,"x"):d?.horizontal==="auto"?p.stackPrimaryAlignItems="SPACE_BETWEEN":(0,eE.Bj)(d.horizontal)&&(c.itemSpacing=i.jsxExpressionContainerToVariableAlias(d.horizontal,r))),(0,eE.Bj)(d))){let e=i.jsxExpressionContainerToVariableAlias(d,r);c.itemSpacing=e,c.counterAxisSpacing=e}return{props:Object.keys(c).length>0?{...p,boundVariables:c}:p,layoutMetadata:f}}}),ek=J.z.object({overrides:J.z.record(J.z.string(),J.z.any()).optional()}),eA=U({name:"Overrides",includeInTailwind:!0,fieldGroups:new Set,outputSchema:()=>ek,defaults:()=>({}),serialize(e,t,i){let r=e.overridesInternal,n={};for(let e of r){let r=(0,a.UN)().getFromDeveloperFriendlyId(ea.v.fromString(e.id));if(!r)continue;let l={},s=eC.serializeOverrides(r,e.overriddenFields,t,i);if(s&&Object.assign(l,s),Object.keys(l).length>0){var o;let t=n;for(let i of"I"==(o=e.id)[0]?o.substring(1).split(";"):[o])t.hasOwnProperty(i)||(t[i]={}),t=t[i];Object.assign(t,l)}}return{overrides:n}},deserialize:e=>({})}),eR=J.z.object({x:J.z.union([J.z.number(),J.z.object({type:J.z.union([J.z.literal("left"),J.z.literal("right"),J.z.literal("center")]),offset:J.z.number()}),J.z.object({type:J.z.literal("left-right"),leftOffset:J.z.number(),rightOffset:J.z.number()}),J.z.object({type:J.z.literal("scale"),leftOffsetPercent:J.z.number(),rightOffsetPercent:J.z.number()})]).optional(),y:J.z.union([J.z.number(),J.z.object({type:J.z.union([J.z.literal("top"),J.z.literal("bottom"),J.z.literal("center")]),offset:J.z.number()}),J.z.object({type:J.z.literal("top-bottom"),topOffset:J.z.number(),bottomOffset:J.z.number()}),J.z.object({type:J.z.literal("scale"),topOffsetPercent:J.z.number(),bottomOffsetPercent:J.z.number()})]).optional(),position:J.z.literal("absolute").optional(),length:J.z.union([J.z.literal("fill-parent"),J.z.number()]).optional(),width:J.z.union([J.z.literal("fill-parent"),J.z.literal("hug-contents"),J.z.number()]).optional(),height:J.z.union([J.z.literal("fill-parent"),J.z.literal("hug-contents"),J.z.number()]).optional(),fallbackWidthIfHug:J.z.number().optional(),fallbackHeightIfHug:J.z.number().optional(),flipHorizontal:J.z.boolean().optional(),flipVertical:J.z.boolean().optional(),maxWidth:J.z.number().nullable().optional(),minWidth:J.z.number().nullable().optional(),maxHeight:J.z.number().nullable().optional(),minHeight:J.z.number().nullable().optional()}),eL=ex.merge(eR.pick({x:!0,y:!0,flipHorizontal:!0,flipVertical:!0})),eD=U({name:"PositionSize",includeInTailwind:!0,fieldGroups:new Set(["layout"]),outputSchema:e=>e.tailwindOnly?ex:e.tailwind?eL:eR,defaults:({nodeType:e,nodeInfo:t,options:i})=>i.tailwind?{}:"TEXT"===e||"FRAME"===e&&t.isAutoLayout?{width:"hug-contents",height:"hug-contents"}:{},serialize:(e,t,i)=>{if(!e.size)return;let r=function(e,t,i){let r=i.isSerializationRoot(e);function n(e,t){return r?e:i.maybeNormalizePxValue(e,t)}if(t.normalizeRootXY&&r)return{};let a=e.parentNode?.isStackOrFixedSizeContainer&&e.parentNode?.isStack;if(a&&"AUTO"===e.stackPositioning||e.isGroup||"BOOLEAN_OPERATION"===e.type)return{};let o={};a&&(o.position="absolute");let l=(0,N.Ji)(e);if(!l||!eM(e,l)){let r=e.x,a=e.y;if(t.normalizeRootXY){let t=e.parentNode;for(;t&&"CANVAS"!==t.type;){if(t&&i.isSerializationRoot(t)){r-=t.x,a-=t.y;break}t=t?.parentNode??null}}return o.x=n(r,"x"),o.y=n(a,"y"),o}let{horizontalConstraint:s,verticalConstraint:u}=e;if(s)switch(s){case"MIN":o.x=n(e.x,"x");break;case"MAX":o.x={type:"right",offset:n(l.size.x-e.x-e.size.x,"x")};break;case"CENTER":o.x={type:"center",offset:n(e.x+e.size.x/2-l.size.x/2,"x")};break;case"STRETCH":o.x={type:"left-right",leftOffset:n(e.x,"x"),rightOffset:n(l.size.x-e.x-e.size.x,"x")};break;case"SCALE":let d=100*e.x/l.size.x,p=100-e.size.x/l.size.x*100-d;o.x={type:"scale",leftOffsetPercent:d,rightOffsetPercent:p};break;case"FIXED_MIN":case"FIXED_MAX":o.x=e.x;break;default:(0,x.xb)(s)}if(u)switch(u){case"MIN":o.y=n(e.y,"y");break;case"MAX":o.y={type:"bottom",offset:n(l.size.y-e.y-e.size.y,"y")};break;case"CENTER":o.y={type:"center",offset:n(e.y+e.size.y/2-l.size.y/2,"y")};break;case"STRETCH":o.y={type:"top-bottom",topOffset:n(e.y,"y"),bottomOffset:n(l.size.y-e.y-e.size.y,"y")};break;case"SCALE":let c=100*e.y/l.size.y,f=100-e.size.y/l.size.y*100-c;o.y={type:"scale",topOffsetPercent:c,bottomOffsetPercent:f};break;case"FIXED_MIN":case"FIXED_MAX":o.y=e.y;break;default:(0,x.xb)(u)}return o}(e,t,i),n=e.isGroup||"BOOLEAN_OPERATION"===e.type;if(e.isInstance)return t.tailwind?ej(r,!!t.tailwindOnly):r;let a=(0,N.Ji)(e);if("LINE"===e.type)return(a&&e.stackHorizontalLayoutSize===z.mKm.FILL_CONTAINER?r.length="fill-parent":n||(r.length=i.maybeNormalizePxValue(e.size.x,"x")),t.tailwind)?ej(r,!!t.tailwindOnly):r;let o=eM(e,a),{horizontalConstraint:l,stackHorizontalLayoutSize:s,verticalConstraint:u,stackVerticalLayoutSize:d,relativeTransform:p}=e;o&&("STRETCH"===l||"SCALE"===l)||(a&&s===z.mKm.FILL_CONTAINER?r.width="fill-parent":"TEXT"===e.type&&"WIDTH_AND_HEIGHT"===e.textAutoResize?r.width="hug-contents":s===z.mKm.HUG_CONTENT?(r.width="hug-contents",0===e.childrenGuids.length&&(t.ignoreHugContentsOnEmptyFrames?r.width=i.maybeNormalizePxValue(e.size.x,"x"):r.fallbackWidthIfHug=i.maybeNormalizePxValue(e.size.x,"x"))):n||(r.width=i.maybeNormalizePxValue(e.size.x,"x"))),o&&("STRETCH"===u||"SCALE"===u)||(a&&d===z.mKm.FILL_CONTAINER?r.height="fill-parent":"TEXT"===e.type&&("WIDTH_AND_HEIGHT"===e.textAutoResize||"HEIGHT"===e.textAutoResize)?r.height="hug-contents":d===z.mKm.HUG_CONTENT?(r.height="hug-contents",0===e.childrenGuids.length&&(t.ignoreHugContentsOnEmptyFrames?r.height=i.maybeNormalizePxValue(e.size.y,"y"):r.fallbackHeightIfHug=i.maybeNormalizePxValue(e.size.y,"y"))):n||(r.height=i.maybeNormalizePxValue(e.size.y,"y")));let c=Math.atan2(p.m10,p.m00),f=Math.cos(-c),h=Math.sin(-c),m=p.m00*f-p.m10*h,g=p.m01*h+p.m11*f;return(m<0&&(r.flipHorizontal=!0),g<0&&(r.flipVertical=!0),"number"==typeof e.minWidth&&(r.minWidth=i.maybeNormalizePxValue(e.minWidth,"x")),"number"==typeof e.maxWidth&&(r.maxWidth=i.maybeNormalizePxValue(e.maxWidth,"x")),"number"==typeof e.minHeight&&(r.minHeight=i.maybeNormalizePxValue(e.minHeight,"y")),"number"==typeof e.maxHeight&&(r.maxHeight=i.maybeNormalizePxValue(e.maxHeight,"y")),t.tailwind)?ej(r,!!t.tailwindOnly):r},deserialize:({params:e,options:t,context:i,depth:r})=>{let n=e;t.tailwind&&(n=function(e){let{className:t,x:i,y:r,flipHorizontal:n,flipVertical:a}=e,o={x:i,y:r,flipHorizontal:n,flipVertical:a};for(let{classParts:e,isNegative:i}of(0,eN.mu)(t)){let t=e[0];if(t){if("absolute"===t)o.position="absolute";else if(["top","left","bottom","right"].includes(t)){let r=()=>{let t=e.length-1,r=eI.pu[e[t]]??(0,eN.Hc)(e[t])??0;return i?-1*r:r};switch(t){case"left":case"right":if(o.x){if("object"==typeof o.x){let e=o.x;o.x={type:"left-right",leftOffset:"left"===e.type?e.offset:r(),rightOffset:"right"===e.type?e.offset:r()}}}else o.x={type:t,offset:r()};break;case"top":case"bottom":if(o.y){if("object"==typeof o.y){let e=o.y;o.y={type:"top-bottom",topOffset:"top"===e.type?e.offset:r(),bottomOffset:"bottom"===e.type?e.offset:r()}}}else o.y={type:t,offset:r()}}}else if(["w","h"].includes(t)){let i=()=>"full"===e[1]?"fill-parent":"fit"===e[1]?"hug-contents":eI.pu[e[1]]??(0,eN.Hc)(e[1])??void 0;if("w"===t){let e=i();void 0!==e&&(o.width=e)}else if("h"===t){let e=i();void 0!==e&&(o.height=e)}}else if(["min","max"].includes(t)){let i=()=>{let t=e.length-1;return"max"===e[0]&&"w"===e[1]&&eI.y$[e[t]]?eI.y$[e[t]]:eI.pu[e[t]]??(0,eN.Hc)(e[t])??void 0};if("min"===t){if("w"===e[1]){let e=i();void 0!==e&&(o.minWidth=e)}else if("h"===e[1]){let e=i();void 0!==e&&(o.minHeight=e)}}else if("max"===t){if("w"===e[1]){let e=i();void 0!==e&&(o.maxWidth=e)}else if("h"===e[1]){let e=i();void 0!==e&&(o.maxHeight=e)}}}}}return o.width||(o.width="hug-contents"),o.height||(o.height="hug-contents"),o}(e));let{length:a,width:o,height:l,fallbackWidthIfHug:s,fallbackHeightIfHug:u,minWidth:d,minHeight:p,maxWidth:c,maxHeight:f,flipVertical:h,flipHorizontal:m}=n,{props:g,layoutMetadata:y}=function({normalizedParams:e,context:t,depth:i}){let{x:r,y:n,position:a}=e,o={},l={};return"number"==typeof r?l.x=0===i?r:t.maybeDenormalizePxValue(r,"x"):"object"==typeof r&&(l.xConstraint=0===i?r:eV(r,t)),"number"==typeof n?l.y=0===i?n:t.maybeDenormalizePxValue(n,"y"):"object"==typeof n&&(l.yConstraint=0===i?n:eV(n,t)),"absolute"===a&&(o.stackPositioning="ABSOLUTE"),{props:o,layoutMetadata:l}}({normalizedParams:n,context:i,depth:r}),b={};return y.xConstraint?.type==="left-right"||y.xConstraint?.type==="scale"||(void 0!==o?y.width="number"==typeof o?i.maybeDenormalizePxValue(o,"x"):o:void 0!==a&&(y.width="number"==typeof a?i.maybeDenormalizePxValue(a,"x"):a)),t.ignoreHugContentsOnEmptyFrames||(void 0!==s&&(y.fallbackWidthIfHug=i.maybeDenormalizePxValue(s,"x")),void 0!==u&&(y.fallbackHeightIfHug=i.maybeDenormalizePxValue(u,"y"))),y.yConstraint?.type==="top-bottom"||y.yConstraint?.type==="scale"||void 0===l||(y.height="number"==typeof l?i.maybeDenormalizePxValue(l,"y"):l),void 0!==d&&(g.minWidth="number"==typeof d?i.maybeDenormalizePxValue(d,"x"):d),void 0!==p&&(g.minHeight="number"==typeof p?i.maybeDenormalizePxValue(p,"y"):p),void 0!==c&&(g.maxWidth="number"==typeof c?i.maybeDenormalizePxValue(c,"x"):c),void 0!==f&&(g.maxHeight="number"==typeof f?i.maybeDenormalizePxValue(f,"y"):f),void 0!==h&&(b.flipVertical=!!h),void 0!==m&&(b.flipHorizontal=!!m),{props:g,layoutMetadata:y,customProperties:b}}});function ej(e,t){let{x:i,y:r,position:n,length:a,width:o,height:l,minWidth:s,minHeight:u,maxWidth:d,maxHeight:p,flipHorizontal:c,flipVertical:f}=e,h=[],m={};"absolute"===n&&h.push("absolute"),void 0!==i&&("number"==typeof i?h.push((0,eT.s$)("left",i)):"object"==typeof i&&("right"===i.type?h.push((0,eT.s$)("right",i.offset)):"left-right"===i.type?(h.push((0,eT.s$)("left",i.leftOffset)),h.push((0,eT.s$)("right",i.rightOffset))):m.x=i)),void 0!==r&&("number"==typeof r?h.push((0,eT.s$)("top",r)):"object"==typeof r&&("bottom"===r.type?h.push((0,eT.s$)("bottom",r.offset)):"top-bottom"===r.type?(h.push((0,eT.s$)("top",r.topOffset)),h.push((0,eT.s$)("bottom",r.bottomOffset))):m.y=r)),void 0!==a&&("number"==typeof a?h.push(`w-${(0,eT.h)(a)}`):"fill-parent"===a&&h.push("w-full")),void 0!==o&&("number"==typeof o?h.push(`w-${(0,eT.h)(o)}`):"fill-parent"===o&&h.push("w-full")),void 0!==l&&("number"==typeof l?h.push(`h-${(0,eT.h)(l)}`):"fill-parent"===l&&h.push("h-full")),s&&h.push(`min-w-${(0,eT.h)(s)}`),d&&h.push(`max-w-${(0,eT.h)(d)}`),u&&h.push(`min-h-${(0,eT.h)(u)}`),p&&h.push(`max-h-${(0,eT.h)(p)}`);let g={className:h.join(" ")};return t?g:{...g,...m,flipHorizontal:c,flipVertical:f}}function eV(e,t){if(void 0===e)return e;if("number"==typeof e)return t.maybeDenormalizePxValue(e,"x");if("object"==typeof e)switch(e.type){case"left":case"right":case"top":case"bottom":case"center":return{...e,offset:t.maybeDenormalizePxValue(e.offset,"x")};case"left-right":return{...e,leftOffset:t.maybeDenormalizePxValue(e.leftOffset,"x"),rightOffset:t.maybeDenormalizePxValue(e.rightOffset,"x")};case"top-bottom":return{...e,topOffset:t.maybeDenormalizePxValue(e.topOffset,"y"),bottomOffset:t.maybeDenormalizePxValue(e.bottomOffset,"y")};case"scale":break;default:(0,x.xb)(e)}return e}function eM(e,t){let i=e.parentNode?.isStackOrFixedSizeContainer&&e.parentNode?.isStack;return t&&!t.isSection&&!t.isStack&&(!i||"ABSOLUTE"===e.stackPositioning)}let eF=J.z.object({hidden:J.z.boolean().optional()}),eX=U({name:"Visible",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>eF,defaults:()=>({hidden:!1}),serialize:(e,t,i)=>{if(t.serializeAsComponentDefinition){let t=e.componentPropertyReferences();if(t&&"visible"in t){let e=t.visible,r=i.getRootComponentTypeInfo(),n=r&&r.parsedDefs.find(t=>t.rawProp===e);if(n){let e=("DERIVED_BOOLEAN"===n.devFriendlyProp.type?n.devFriendlyProp.devFriendlyProp:n.devFriendlyProp).key;return{hidden:{type:"JSXExpressionContainer",expression:`!${e}`}}}}}return{hidden:!e.visible}},deserialize:({params:{hidden:e}})=>{if("boolean"==typeof e)return{props:{visible:!e}}}}),eH={name:"Instance",getJSXType(e,t,i){if("INSTANCE"===e.type){let t=e.mainComponent;if(!t)throw Error("Cannot find component for instance");return i.getJSXNameForComponent(t)}},fromJSXType(e,t,i){if(i.findComponentIdFromJSXName(e))return i.trackComponentLookupSuccess(),"INSTANCE";c(e)&&i.trackComponentLookupFailure()},fromJSXElement(e,t,i){let r=i.findComponentIdFromJSXName(e.type);if(r)return{requiredProps:{componentId:r}}},getFieldSerializers(e){let t=[];return e.includeIDs&&t.push(G),e.includeNames&&t.push(er),e.includeInstanceOverrides&&t.push(eA),t.push(et,eX,eD),t},getJSXChildren(e,t,i){if(!t.includeInstanceSublayers)return[]},fromJSXChildren:()=>({}),possibleTagNames:["ComponentXYZ"]};var e$=i(863410);let eB=null;function e_(e,t=null){let i=(0,s.getTypeInfoCached)(e,{enableTsArrays:!1}),r=[];for(let e of i.parsedDefs)switch(e.def.type){case"BOOLEAN":case"TEXT":case"NUMBER":break;case"INSTANCE_SWAP":case"VARIANT":r.push(`type ${e.typeRepr.typeName} = {${e.typeRepr.typeDefBody}}`)}let n=(null===eB&&(eB=eH.getFieldSerializers(e$.KQ).map(e=>`${e.name}Fields`)),eB);return"{}"!==i.propsTypeRepr.typeDefBody&&(n=[...n,`{ componentProps: ${i.propsTypeRepr.typeDefBody} }`]),r.push(`type ${t||i.jsxName} = React.FC<${n.join(" & ")}>`),r.join("\n")}async function eJ(e){let t="INSTANCE"===e.type?[e]:e.findAllWithCriteriaGUIDs({types:["INSTANCE","COMPONENT"]}).map(t=>e.sceneGraph.get(t)).filter(Boolean);if(0===t.length)return"";let i=(0,o.B)(t,{followInstances:!0});return i.reverse(),i.map(e=>{try{return e_(e)}catch(t){return`// Failed to generate schema for ${e.name}`}}).join("\n\n")}var eU=i(796517),eW=i(903570);let eG=e=>void 0!==e;function eK(e,t){return .001>Math.abs(e-t)?t:e}let eY="variables";function eZ(e){let t=(0,a.UN)(),i=t.getVariableNode(e);if(!i)return{collectionName:null,variableName:null};let r=t.getVariableCollectionNode(i.variableCollectionId);return r?{collectionName:r.name,variableName:i.name}:{collectionName:null,variableName:null}}function eQ(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class eq{getRootComponentTypeInfo(){return this.componentTypeInfo??null}getJSXNameForComponent(e){let t=l(e);if(!t)throw Error("Node is not a Component or Component Set");if(t.guid in this.componentIdToJSXName)return this.componentIdToJSXName[t.guid];let i=function({name:e,usedNames:t}){if(!t.has(e))return e;let i=e.match(/^(.*?)(\d*)$/),r=i?i[1]??"":e,n=1;return t.forEach(e=>{if(e.startsWith(r)){let t=parseInt(e.slice(r.length),10);!isNaN(t)&&t>n&&(n=t)}}),`${r}${n+1}`}({name:f(t),usedNames:new Set(Object.keys(this.componentJSXNameToId))});return this.componentIdToJSXName[t.guid]=i,this.componentJSXNameToId[i]=t.guid,i}getComponentJSXNameToIdMap(){return this.componentJSXNameToId}findComponentIdFromJSXName(e){let t=e.toLowerCase(),i=this.options.componentInfoByJSXName?.[e]?.guid??this.componentJSXNameToId[t];if(i&&(i=m(i)?.guid),!i&&c(e)){let r=h(e);r&&(i=r.guid,this.componentJSXNameToId[t]=i)}return i??null}variableAliasToJSXExpressionContainer(e){if(!e)return null;let t=eW.sD.fromString(e.id);return t?this.variableIdToJSXExpresssionContainer(t):null}variableIdToJSXExpresssionContainer(e){let{collectionName:t,variableName:i}=eZ(e);return t&&i?(this.trackVariableUsage(e),{type:"JSXExpressionContainer",expression:`${eY}[${JSON.stringify(t)}][${JSON.stringify(i)}]`}):null}variableDataToJSXExpressionContainer(e){if(e?.resolvedDataType==="COLOR"&&e.value?.alias){let t=e.value.alias,i=eW.sD.fromKiwi(t);if(i)return this.variableIdToJSXExpresssionContainer(i)}return null}jsxExpressionContainerToVariableId(e,t){if(!(0,eE.Bj)(e))return;let{isVariableExpression:i,collectionName:r,variableName:n}=function(e){if(!e.startsWith(`${eY}[`))return{isVariableExpression:!1};let t=e.match(/^variables\["([^"]+)"\]\["([^"]+)"\]$/);return t?{isVariableExpression:!0,collectionName:t[1],variableName:t[2]}:{isVariableExpression:!0,collectionName:void 0,variableName:void 0}}(e.expression);if(!i)return;if(!r||!n){this.trackDeserializeIssue({message:"Could not parse variable expression",context:{jsxElement:t}});return}let a=this.findVariable(r,n);if(!a){this.trackDeserializeIssue({message:"Could not find collection or variable",context:{jsxElement:t}});return}return a.id}jsxExpressionContainerToVariableData(e,t){let i=this.jsxExpressionContainerToVariableId(e,t);if(i)return{value:{alias:eW.sD.toKiwi(i)},dataType:"ALIAS",resolvedDataType:"COLOR"}}jsxExpressionContainerToVariableAlias(e,t){let i=this.jsxExpressionContainerToVariableId(e,t);if(i)return{type:"VARIABLE_ALIAS",id:i}}findVariableCollection(e){let t=this.variableCollectionNameToId[e];if(t)return(0,a.UN)().getVariableCollectionNode(t)??null;let i=(0,a.UN)().getLocalVariableCollectionNodes().find(t=>t.name===e);return i?(this.variableCollectionNameToId[e]=i.id,i):null}findVariable(e,t){let i=this.variableNameToId[t];if(i)return(0,a.UN)().getVariableNode(i)??null;let r=this.findVariableCollection(e);if(!r)return null;let n=(0,a.UN)(),o=r.variableIds.map(e=>n.getVariableNode(eW.sD.fromString(e))).filter(eG).find(e=>e.name===t);return o?(this.variableNameToId[t]=o.id,o):null}trackVariableUsage(e){this.variablesUsed.add(e)}getVariablesUsed(){return this.variablesUsed}trackAssetInfo(e,t){this.assetInfoByHash[e]=t}getAssets(){return this.assetInfoByHash}isSerializationRoot(e){return e.guid===this.rootId}maybeNormalizePxValue(e,t){return this.options.normalizePxToRange01&&"default"===this.options.flavor&&this.rootNodeSize?e/this.rootNodeSize[t]:e}maybeDenormalizePxValue(e,t){return this.options.normalizePxToRange01&&"default"===this.options.flavor&&this.rootNodeSize?e*this.rootNodeSize[t]:e}trackComponentLookup(){this.deserializeStats.numComponents+=1}trackComponentLookupSuccess(){this.trackComponentLookup(),this.deserializeStats.componentLookupSuccesses+=1}trackComponentLookupFailure(){this.trackComponentLookup(),this.deserializeStats.componentLookupFailures+=1}trackSerializeIssue(e){if(this.options.strict)throw new eU.LV(e.message,e.context);this.serializeIssues.push(e)}getSerializeIssues(){return this.serializeIssues}getDeserializeStats(){return{...this.deserializeStats}}trackDeserializeIssue(e){if(this.options.strict)throw new eU.Ug(e.message,e.context);this.deserializeIssues.push(e)}getDeserializeIssues(){return this.deserializeIssues}constructor(e,t){eQ(this,"rootId",void 0),eQ(this,"rootNodeSize",void 0),eQ(this,"options",void 0),eQ(this,"serializeIssues",[]),eQ(this,"deserializeStats",{numComponents:0,componentLookupSuccesses:0,componentLookupFailures:0}),eQ(this,"deserializeIssues",[]),eQ(this,"componentTypeInfo",void 0),eQ(this,"componentJSXNameToId",{}),eQ(this,"componentIdToJSXName",{}),eQ(this,"assetInfoByHash",{}),eQ(this,"variableCollectionNameToId",{}),eQ(this,"variableNameToId",{}),eQ(this,"variablesUsed",new Set),this.rootId=e.rootNode?.guid,this.rootNodeSize=e.rootNode?.size??e.originalSize,this.options=t,t.serializeAsComponentDefinition&&this.rootId&&(this.componentTypeInfo=(0,s.getComponentInfoById)(this.rootId,{enableTsArrays:!1}))}}var e0=i(245459);let e1=J.z.object({overrideKey:J.z.string().optional()}),e2=U({name:"OverrideKey",includeInTailwind:!0,fieldGroups:new Set([]),outputSchema:()=>e1,defaults:()=>({}),serialize:e=>{if(e.isSymbolSublayer){let t=e.overrideKey;if(t!==e0.AD&&t!=e.guid)return{overrideKey:t}}return{}},deserialize:e=>({})}),e4=J.z.object({rotation:J.z.number().describe("In degrees").optional()}),e5=U({name:"Rotation",includeInTailwind:!1,fieldGroups:new Set(["layout"]),outputSchema:()=>e4,defaults:()=>({rotation:0}),serialize:({rotation:e})=>({rotation:e}),deserialize:({params:e})=>{if(!("rotation"in e)||void 0===e.rotation)return;let{rotation:t}=e;return{props:{rotation:t}}}}),e6=J.z.object({blendMode:eo.optional()}),e8=U({name:"BlendMode",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>e6,defaults:()=>({blendMode:"pass-through"}),serialize:({blendMode:e})=>({blendMode:el(e)}),deserialize:({params:{blendMode:e}})=>{if(e)return{props:{blendMode:es(e)}}}});var e3=i(498098),e7=i(511611),e9=i(669957),te=i(106136);let tt={blendMode:"normal",opacity:1,rotation:0};function ti(e){return Object.keys(e).forEach(t=>{e[t]===tt[t]&&delete e[t],void 0===e[t]&&delete e[t]}),e}let tr={opacity:1,blendMode:"NORMAL",rotation:0};function tn(e){return Object.keys(e).forEach(t=>{e[t]===tr[t]&&delete e[t],void 0===e[t]&&delete e[t]}),e}function ta(e,t={},i){if(e.type){if("SOLID"===e.type){let r=(0,e3.si)(e.color);if(!r)return;let n=t.includeVariables?i.variableDataToJSXExpressionContainer(e.colorVar):void 0;return ti({type:"solid",color:n??r,blendMode:el(e.blendMode),opacity:n?void 0:e.opacity})}if(e.type.includes("GRADIENT"))return ti({type:e.type.toLowerCase().replace("_","-"),gradientStops:(e.stopsVar&&e.stopsVar.length>0?e.stopsVar:e.stops)?.map(e=>{let r=t.includeVariables&&"colorVar"in e?i.variableDataToJSXExpressionContainer(e.colorVar):void 0,n=e.color?e3.si(e.color):void 0,a=r??n;return a&&void 0!==e.position?{color:a,position:e.position}:null}).filter(e=>null!==e)??[],gradientHandlePositions:"GRADIENT_LINEAR"===e.type?(0,e9.gJ)(e.transform):(0,e9.NN)(e.transform),blendMode:el(e.blendMode),opacity:e.opacity});if("IMAGE"===e.type){if(!e.image||!e.image.hash){if(t.imagePlaceholderHex){let e=(0,e3.QW)(t.imagePlaceholderHex);if(e)return{type:"solid",color:(0,e3.si)(e)}}return}let i={type:"image",imageRef:t.excludeImageData?"unknown":(0,e7.B9)(e.image.hash),blendMode:el(e.blendMode),opacity:e.opacity,rotation:e.rotation};return e.imageScaleMode&&(i.scaleMode=function(e){switch(e){case"STRETCH":return"crop";case"TILE":return"tile";case"FIT":return"fit";case"FILL":return"fill"}}(e.imageScaleMode)),"STRETCH"===e.imageScaleMode&&e.transform&&(i.imageTransform=(0,te.Hi)(e.transform)),ti(i)}}}function to({paint:e,options:t,context:i,elem:r}){if("solid"===e.type){let n="string"==typeof e.color?(0,e3.QW)(e.color):e.color;if(!n)return;if((0,eE.Bj)(n)){if(!t.includeVariables)return;let a=i.jsxExpressionContainerToVariableData(n,r);if(!a)return;return tn({type:"SOLID",colorVar:a,blendMode:es(e.blendMode)})}{let t=Math.min(e.opacity??1,n.a);return n.a=1,tn({type:"SOLID",color:n,opacity:t,blendMode:es(e.blendMode)})}}if("gradient-angular"===e.type||"gradient-linear"===e.type||"gradient-radial"===e.type||"gradient-diamond"===e.type){let n=e.gradientStops.map(e=>{let n="string"==typeof e.color?(0,e3.QW)(e.color):e.color;if(n){var a;if((0,eE.Bj)(n)){if(!t.includeVariables)return;let a=i.jsxExpressionContainerToVariableData(n,r);if(!a)return;return{colorVar:a,color:{r:0,g:0,b:0,a:1},position:e.position}}return{color:(a={color:n,position:e.position}).color,colorVar:{value:{colorValue:a.color},dataType:"COLOR",resolvedDataType:"COLOR"},position:a.position}}}).filter(e=>void 0!==e),a=n.map(e=>({color:e.color,position:e.position}));return tn({type:e.type.toUpperCase().replace("-","_"),transform:(0,te.D6)((0,e9.cN)(e.type,e.gradientHandlePositions)),stopsVar:n,stops:a,opacity:e.opacity,blendMode:es(e.blendMode)})}if("image"===e.type){let i,r="unknown"===e.imageRef;if(!r)try{i=(0,e7.aD)(e.imageRef)}catch{r=!0}return r?t.imagePlaceholderHex?tn({type:"SOLID",color:(0,e3.QW)(t.imagePlaceholderHex),opacity:1,blendMode:es(e.blendMode)}):void 0:tn({type:"IMAGE",image:{hash:i},opacity:1,rotation:e.rotation,blendMode:es(e.blendMode),imageScaleMode:function(e){switch(e){case"fill":break;case"fit":return"FIT";case"tile":return"TILE";case"crop":return"STRETCH"}return"FILL"}(e.scaleMode),transform:e.imageTransform&&2===e.imageTransform.length&&e.imageTransform[0]?.length===3&&e.imageTransform[1]?.length===3?(0,te.D6)(e.imageTransform):void 0})}}var tl=i(42746);let ts=(e,t,i)=>{let r=(e=e.filter(e=>e.visible&&0!==e.opacity))[e.length-1];if(r&&"SOLID"===r.type&&(1===e.length&&"NORMAL"===r.blendMode||t.onlyIncludeTopPaint)){if(t.includeVariables){let e=i.variableDataToJSXExpressionContainer(r.colorVar);if(e)return e}return(0,e3.si)(r.color,r.opacity)}return e.map(e=>ta(e,t,i)).filter(eG)},tu=({fill:e,options:t,context:i,element:r})=>{if("string"==typeof e){let t=(0,e3.QW)(e);if(!t)return[];let i=t.a;return t.a=1,[{type:"SOLID",color:t,opacity:i}]}if(Array.isArray(e))return e.map(e=>to({paint:e,options:t,context:i,elem:r})).filter(eG);if(t.includeVariables&&(0,eE.Bj)(e)){let t=i.jsxExpressionContainerToVariableData(e,r);return t?[{type:"SOLID",colorVar:t}]:[]}return[]},td=J.z.object({fill:ez.optional()}),tp=ex.merge(td),tc=U({name:"Fill",includeInTailwind:!0,fieldGroups:new Set(["rendering"]),outputSchema:e=>e.tailwindOnly?ex:e.tailwind?tp:td,defaults:({nodeType:e,options:t})=>t.tailwind?{}:"TEXT"===e?{fill:"#000"}:{fill:[]},serialize:(e,t,i)=>{let{fills:r}=e;if(!r)return;let n={fill:ts(r,{excludeImageData:!!t.excludeImageData,imagePlaceholderHex:t.imagePlaceholderHex,onlyIncludeTopPaint:!!t.onlyIncludeTopPaint||!!t.tailwindOnly,includeVariables:!!t.includeVariables},i)};return t.tailwind?tf(n,e.type,!!t.tailwindOnly):n},deserialize:({params:e,options:t,nodeType:i,context:r,elem:n})=>{let a=e;t.tailwind&&(a=th(e,i));let{fill:o}=a;return o?{props:{fills:tu({fill:o,options:{excludeImageData:!!t.excludeImageData,imagePlaceholderHex:t.imagePlaceholderHex,includeVariables:!!t.includeVariables},context:r,element:n})}}:{props:{fills:[]}}}});function tf(e,t,i){let{fill:r}=e;return r?"string"==typeof r?"TEXT"===t&&"#000"===r?{}:function(e,t){let i=(0,e3.QW)(e);if(i){let e=(0,e3.si)({r:i.r,g:i.g,b:i.b,a:1}),r=(0,tl.JQ)(i.a);return{className:`${"TEXT"===t?"text":"bg"}-${(0,eT.iz)(e)}${r}`}}return{}}(r,t):Array.isArray(r)&&r.length>=1?i?{}:{fill:r}:{}:{}}function th(e,t){let{className:i,fill:r}=e,n={};if(r)return{fill:r};for(let{classParts:e}of(0,eN.mu)(i)){let t=e[0];if(t&&["bg","text"].includes(t)){let t=(0,eT.c1)(e);t&&("string"==typeof t?n.fill=t:"object"==typeof t&&"a"in t&&(n.fill=[{type:"solid",color:t,opacity:t.a}]))}}return n.fill||"TEXT"!==t||(n.fill=[{type:"solid",color:{r:0,g:0,b:0,a:1},opacity:1}]),n}let tm=J.z.object({cornerRadius:J.z.number().or(J.z.object({topLeft:J.z.number(),topRight:J.z.number(),bottomLeft:J.z.number(),bottomRight:J.z.number()})).describe("uniform corner radius, or 4 independent corner radii: topLeft topRight bottomRight bottomLeft").optional()}),tg=U({name:"CornerRadius",includeInTailwind:!0,fieldGroups:new Set(["rendering"]),outputSchema:e=>e.tailwind?ex:tm,defaults:({options:e})=>e.tailwind?{}:{cornerRadius:0},serialize:(e,t)=>{if(!e.cornerRadius&&!e.rectangleCornerRadiiIndependent)return;let i=e.rectangleCornerRadiiIndependent?{cornerRadius:{topLeft:e.rectangleTopLeftCornerRadius,topRight:e.rectangleTopRightCornerRadius,bottomRight:e.rectangleBottomRightCornerRadius,bottomLeft:e.rectangleBottomLeftCornerRadius}}:{cornerRadius:e.cornerRadius};return t.tailwind?function(e){let{cornerRadius:t}=e,i=[];if("number"==typeof t)i.push(`rounded${ty(t)}`);else if("object"==typeof t){let{topLeft:e,topRight:r,bottomLeft:n,bottomRight:a}=t;if(e===r&&r===n&&n===a)e>0&&i.push(`rounded${ty(e)}`);else{let t={topLeft:e>0,topRight:r>0,bottomLeft:n>0,bottomRight:a>0};t.topLeft&&t.bottomLeft&&e===n&&(i.push(`rounded-l${ty(e)}`),t.topLeft=!1,t.bottomLeft=!1),t.topRight&&t.bottomRight&&r===a&&(i.push(`rounded-r${ty(r)}`),t.topRight=!1,t.bottomRight=!1),t.topLeft&&t.topRight&&e===r&&(i.push(`rounded-t${ty(e)}`),t.topLeft=!1,t.topRight=!1),t.bottomLeft&&t.bottomRight&&n===a&&(i.push(`rounded-b${ty(n)}`),t.bottomLeft=!1,t.bottomRight=!1),t.topLeft&&i.push(`rounded-tl${ty(e)}`),t.bottomLeft&&i.push(`rounded-bl${ty(n)}`),t.topRight&&i.push(`rounded-tr${ty(r)}`),t.bottomRight&&i.push(`rounded-br${ty(a)}`)}}return{className:i.join(" ")}}(i):i},deserialize:({params:e,options:t})=>{let i=e;t.tailwind&&(i=function(e){let{className:t}=e,i={},r={topLeft:0,topRight:0,bottomLeft:0,bottomRight:0};for(let{classParts:e}of(0,eN.mu)(t)){let t=e[0];if(t&&"rounded"===t){if(1===e.length)i.cornerRadius=4;else{let t=eI.x_[e[1]],n=(0,eN.Hc)(e[1]);if("number"==typeof t)i.cornerRadius=t;else if(n)i.cornerRadius=n;else{let t=()=>{if(2===e.length)return 4;let t=e.length-1;return eI.x_[e[t]]??(0,eN.Hc)(e[t])??0};switch(e[1]){case"t":r.topLeft=t(),r.topRight=t();break;case"e":case"r":r.topRight=t(),r.bottomRight=t();break;case"b":r.bottomLeft=t(),r.bottomRight=t();break;case"s":case"l":r.bottomLeft=t(),r.topLeft=t();break;case"ss":case"tl":r.topLeft=t();break;case"se":case"tr":r.topRight=t();break;case"es":case"bl":r.bottomLeft=t();break;case"ee":case"br":r.bottomRight=t()}}}}}return Object.values(r).some(e=>e>0)&&(i.cornerRadius=r),"cornerRadius"in i||(i.cornerRadius=0),i}(e));let{cornerRadius:r}=i;return"number"==typeof r?{props:{cornerRadius:r}}:"object"==typeof r?{props:{rectangleTopLeftCornerRadius:r.topLeft,rectangleTopRightCornerRadius:r.topRight,rectangleBottomLeftCornerRadius:r.bottomLeft,rectangleBottomRightCornerRadius:r.bottomRight,rectangleCornerRadiiIndependent:!0}}:void 0}});function ty(e){return(0,eT.v6)(e,{alwaysUsePreciseValues:!0})}let tb=J.z.enum(["inside","outside","center"]),tS=J.z.enum(["none","round","square","arrow-lines","arrow-equilateral"]),tz=J.z.object({stroke:ez.optional(),strokeDashPattern:J.z.array(J.z.number()).optional().describe("<length> <gap>"),strokeWidth:J.z.number().or(J.z.object({top:J.z.number(),bottom:J.z.number(),left:J.z.number(),right:J.z.number()})).optional(),strokeAlign:tb.optional().describe("default inside alignment"),strokeCap:tS.optional()}),tx=ex.merge(tz.pick({stroke:!0,strokeDashPattern:!0,strokeAlign:!0,strokeCap:!0})),tT=U({name:"Stroke",includeInTailwind:!0,fieldGroups:new Set(["rendering"]),outputSchema:e=>e.tailwindOnly?ex:e.tailwind?tx:tz,defaults:({options:e})=>e.tailwindOnly?{}:e.tailwind?{strokeAlign:"inside",strokeCap:"none"}:{stroke:[],strokeAlign:"inside",strokeWidth:1,strokeCap:"none"},serialize:(e,t,i)=>{let{strokePaints:r,strokeAlign:n,strokeWeight:a,borderStrokeWeightsIndependent:o,dashPattern:l,strokeCap:s}=e,u=r.data.filter(e=>!!e.visible&&0!==e.opacity);if(!r||0===u.length)return;let d={stroke:function(e,t,i){let r=e[e.length-1];if(r&&"SOLID"===r.type&&(1===e.length||t.onlyIncludeTopPaint)){if(t.includeVariables){let e=i.variableDataToJSXExpressionContainer(r.colorVar);if(e)return e}return(0,e3.si)(r.color,r.opacity)}return e.map(e=>ta(e,t,i)).filter(eG)}(u,{excludeImageData:!!t.excludeImageData,imagePlaceholderHex:t.imagePlaceholderHex,onlyIncludeTopPaint:!!t.onlyIncludeTopPaint,includeVariables:!!t.includeVariables},i),strokeAlign:n.toLowerCase(),strokeWidth:o?{top:e.borderTopWeight,bottom:e.borderBottomWeight,left:e.borderLeftWeight,right:e.borderRightWeight}:a,strokeCap:s?.toLowerCase()};return(0!==l.length&&(d.strokeDashPattern=l),t.tailwind)?function(e,t,i){let{stroke:r,strokeDashPattern:n,strokeAlign:a,strokeCap:o}=e,l=[],s={strokeAlign:a,strokeCap:o,strokeDashPattern:n},u=!t.borderStrokeWeightsIndependent&&t.strokeWeight>0||t.borderStrokeWeightsIndependent&&[t.borderBottomWeight,t.borderLeftWeight,t.borderRightWeight,t.borderTopWeight].some(e=>e>0),d=(0,tl.DI)(t.strokePaints.data);if(d&&u){let{hexStr:e,opacitySuffix:t}=d;l.push(`border-${(0,eT.iz)(e)}${t}`)}else Array.isArray(r)&&(s.stroke=r);if(u){let e=e=>1===e?"":`-${(0,eT.qK)(e)}`;if(t.borderStrokeWeightsIndependent){let{borderLeftWeight:i,borderBottomWeight:r,borderRightWeight:n,borderTopWeight:a}=t;i===n&&n===r&&r===a?l.push(`border${e(i)}`):(i===n?i>0&&l.push(`border-x${e(i)}`):(i>0&&l.push(`border-l${e(i)}`),n>0&&l.push(`border-r${e(n)}`)),r===a?r>0&&l.push(`border-y${e(r)}`):(a>0&&l.push(`border-t${e(a)}`),r>0&&l.push(`border-b${e(r)}`)))}else l.push(`border${e(t.strokeWeight)}`)}let p=l.length>0?l.join(" "):void 0;return i?{className:p}:{...s,className:p}}(d,e,!!t.tailwindOnly):d},deserialize:({params:e,options:t,context:i,elem:r})=>{let n=e;t.tailwind&&(n=function(e){let{className:t,stroke:i,strokeAlign:r,strokeCap:n,strokeDashPattern:a}=e,o={strokeAlign:r,strokeCap:n,strokeDashPattern:a,stroke:i},l={left:0,right:0,top:0,bottom:0};for(let{classParts:e}of(0,eN.mu)(t)){let t=e[0],i=e[1];if(t&&"border"===t){let t=()=>{"stroke"in o||(o.stroke="#000")};if(i){if(i){let r=Number(i),n=isNaN(r)?(0,eN.Hc)(i,2)??0:r;if(n)o.strokeWidth=n,t();else if(["x","y","l","r","t","b"].includes(i)){let t=()=>{if(2===e.length)return 1;let t=e.length-1,i=e[t],r=Number(i);return isNaN(r)?(0,eN.Hc)(i,2)??0:r};switch(i){case"x":l.left=t(),l.right=t();break;case"y":l.top=t(),l.bottom=t();break;case"l":l.left=t();break;case"r":l.right=t();break;case"t":l.top=t();break;case"b":l.bottom=t()}}else{let t=(0,eT.c1)(e);if(t){let e="string"==typeof t?(0,e3.QW)(t):"object"==typeof t&&"r"in t?t:null;e&&(o.stroke=[{type:"solid",color:e,opacity:e.a}])}}}}else o.strokeWidth=1,t()}}return Object.values(l).some(e=>e>0)&&(o.strokeWidth=l),o}(e));let{stroke:a,strokeDashPattern:o,strokeAlign:l,strokeWidth:s,strokeCap:u}=n,d=l?.toUpperCase(),p=u?.toUpperCase(),c=a?function({stroke:e,options:t,context:i,element:r}){if("string"==typeof e){let t=(0,e3.QW)(e);return t?[{type:"SOLID",color:{r:t?.r,g:t?.g,b:t?.b,a:1},opacity:t.a}]:[]}if(Array.isArray(e))return e.map(e=>to({paint:e,options:t,context:i,elem:r})).filter(eG);if(t.includeVariables&&(0,eE.Bj)(e)){let t=i.jsxExpressionContainerToVariableData(e,r);return t?[{type:"SOLID",colorVar:t}]:[]}return[]}({stroke:a,options:t,context:i,element:r}):[];if(0===c.length)return{props:{strokePaints:{data:[],blobs:[]},dashPattern:o}};let f={};return f.strokePaints={data:c,blobs:[]},f.strokeAlign=d,f.strokeCap=p,f.dashPattern=o,"object"==typeof s?(f.borderStrokeWeightsIndependent=!0,f.borderTopWeight=s.top,f.borderBottomWeight=s.bottom,f.borderLeftWeight=s.left,f.borderRightWeight=s.right):f.strokeWeight=s,{props:f}}}),tN=J.z.object({type:J.z.literal("drop-shadow"),color:J.z.string().or(J.z.object({r:J.z.number(),g:J.z.number(),b:J.z.number(),a:J.z.number()})),offset:J.z.object({x:J.z.number(),y:J.z.number()}),blur:J.z.number(),blendMode:eo.optional(),spread:J.z.number().optional(),visible:J.z.boolean().optional(),showShadowBehindNode:J.z.boolean().optional()}).describe("@name(DropShadowEffect)"),tI=J.z.object({type:J.z.literal("inner-shadow"),color:J.z.string().or(J.z.object({r:J.z.number(),g:J.z.number(),b:J.z.number(),a:J.z.number()})),offset:J.z.object({x:J.z.number(),y:J.z.number()}),blur:J.z.number(),blendMode:eo.optional(),spread:J.z.number().optional(),visible:J.z.boolean().optional()}).describe("@name(InnerShadowEffect)"),tE=J.z.object({type:J.z.union([J.z.literal("layer-blur"),J.z.literal("background-blur")]),blur:J.z.number(),visible:J.z.boolean().optional()}).describe("@name(BlurEffect)"),tw=J.z.union([tN,tI,tE]);function tO(e){let t=el(e.blendMode);switch("normal"===t&&(t=void 0),e.type){case"DROP_SHADOW":if(!e.color||!e.offset||void 0===e.radius)return;let i={type:"drop-shadow",color:(0,e3.si)(e.color),offset:{x:e.offset.x,y:e.offset.y},blur:e.radius};return t&&(i.blendMode=t),e.spread&&(i.spread=e.spread),e.visible||(i.visible=!1),e.showShadowBehindNode&&(i.showShadowBehindNode=!0),i;case"INNER_SHADOW":if(!e.color||!e.offset||!e.radius)return;let r={type:"inner-shadow",color:(0,e3.si)(e.color),offset:{x:e.offset.x,y:e.offset.y},blur:e.radius};return t&&(r.blendMode=t),e.spread&&(r.spread=e.spread),e.visible||(r.visible=!1),r;case"FOREGROUND_BLUR":if(!e.radius)return;let n={type:"layer-blur",blur:e.radius};return e.visible||(n.visible=!1),n;case"BACKGROUND_BLUR":if(!e.radius)return;let a={type:"background-blur",blur:e.radius};return e.visible||(a.visible=!1),a;default:return}}function tP(e){switch(e.type){case"drop-shadow":return{type:"DROP_SHADOW",color:"string"==typeof e.color?(0,e3.QW)(e.color)??{r:0,g:0,b:0,a:1}:e.color,offset:{x:e.offset.x,y:e.offset.y},radius:e.blur,blendMode:es(e.blendMode),spread:e.spread??0,visible:e.visible??!0,showShadowBehindNode:e.showShadowBehindNode??!1};case"inner-shadow":return{type:"INNER_SHADOW",color:"string"==typeof e.color?(0,e3.QW)(e.color)??{r:0,g:0,b:0,a:1}:e.color,offset:{x:e.offset.x,y:e.offset.y},radius:e.blur,blendMode:es(e.blendMode),spread:e.spread??0,visible:e.visible??!0};case"layer-blur":return{type:"FOREGROUND_BLUR",radius:e.blur,visible:e.visible??!0};case"background-blur":return{type:"BACKGROUND_BLUR",radius:e.blur,visible:e.visible??!0}}}let tv=J.z.object({effect:tw.or(J.z.array(tw)).optional()}),tC=U({name:"Effects",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>tv,defaults:()=>({effect:[]}),serialize:({effects:e})=>{if(e&&0!==e.length){if(1===e.length){let t=tO(e[0]);if(t)return{effect:t}}return{effect:e.map(tO).filter(eG)}}},deserialize:({params:{effect:e}})=>e?Array.isArray(e)?{props:{effects:e.map(tP).filter(eG)}}:{props:{effects:[tP(e)]}}:void 0}),tk=J.z.object({mask:J.z.boolean().optional()}),tA=U({name:"Mask",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>tk,defaults:()=>({mask:!1}),serialize:({mask:e})=>({mask:e}),deserialize:({params:{mask:e}})=>{if(void 0!==e)return{props:{mask:e}}}}),tR=J.z.object({opacity:J.z.number().optional()}),tL=U({name:"Opacity",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>tR,defaults:()=>({opacity:1}),serialize:({opacity:e})=>{if("number"==typeof e)return{opacity:e}},deserialize:({params:{opacity:e}})=>{if("number"==typeof e)return{props:{opacity:e}}}}),tD=J.z.object({arcData:J.z.object({innerRadius:J.z.number(),endingAngle:J.z.number(),startingAngle:J.z.number()}).optional()}),tj=U({name:"ArcData",fieldGroups:new Set(["rendering"]),includeInTailwind:!1,outputSchema:()=>tD,defaults:({nodeType:e})=>"ELLIPSE"!==e?{}:{arcData:{innerRadius:0,startingAngle:0,endingAngle:6.2831854820251465}},serialize:e=>{if(!e.arcData)return{};let t={};return(0!==e.arcData.innerRadius||0!==e.arcData.startingAngle||6.2831854820251465!==e.arcData.endingAngle)&&(t.arcData={innerRadius:eK(e.arcData.innerRadius,0),startingAngle:eK(e.arcData.startingAngle,0),endingAngle:eK(e.arcData.endingAngle,6.2831854820251465)}),t},deserialize:({params:{arcData:e}})=>{if(void 0===e)return;let t=e.endingAngle??6.2831854820251465;return .001>Math.abs(t-6.2831854820251465)&&(t=6.2831854820251465),{props:{arcData:{startingAngle:eK(e.startingAngle??0,0),endingAngle:eK(t,6.2831854820251465),innerRadius:eK(e.innerRadius??0,0)}}}}}),tV=["FRAME","SYMBOL"],tM=J.z.object({overflow:J.z.enum(["hidden","visible"]).optional()}),tF=U({name:"Clipping",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>tM,defaults:({nodeType:e})=>tV.includes(e)?{overflow:"hidden"}:{},serialize:({type:e,frameMaskDisabled:t})=>{if(tV.includes(e))return{overflow:t?"visible":"hidden"}},deserialize:({params:{overflow:e}})=>{if("string"==typeof e)return{props:{frameMaskDisabled:"visible"===e}}}}),tX=J.z.object({horizontalAlignText:J.z.enum(["left","right","center","justified"]).optional(),verticalAlignText:J.z.enum(["top","center","bottom"]).optional()}),tH=U({name:"TextLayout",includeInTailwind:!0,fieldGroups:new Set(["text"]),outputSchema:e=>e.tailwind?ex:tX,defaults:({nodeType:e,options:t})=>"TEXT"!==e||t.tailwindOnly?{}:{horizontalAlignText:"left",verticalAlignText:"top"},serialize:({type:e,textAlignHorizontal:t,textAlignVertical:i},r)=>{if("TEXT"!==e)return;let n={};if(t)switch(t){case"LEFT":default:n.horizontalAlignText="left";break;case"CENTER":n.horizontalAlignText="center";break;case"RIGHT":n.horizontalAlignText="right";break;case"JUSTIFIED":n.horizontalAlignText="justified"}if(i)switch(i){case"TOP":default:n.verticalAlignText="top";break;case"CENTER":n.verticalAlignText="center";break;case"BOTTOM":n.verticalAlignText="bottom"}return r.tailwind?function(e){let{horizontalAlignText:t,verticalAlignText:i}=e,r=[];if(t&&"left"!==t)switch(t){case"center":r.push("text-center");break;case"right":r.push("text-right");break;case"justified":r.push("text-justify")}if(i&&"top"!==i)switch(i){case"center":r.push("align-middle");break;case"bottom":r.push("align-bottom")}return{className:r.join(" ")}}(n):n},deserialize:({params:e,options:t})=>{let i=e;t.tailwind&&(i=function(e){let{className:t}=e,i={};for(let{classParts:e}of(0,eN.mu)(t)){let t=e[0];if(t){if("text"===t)switch(e[1]){case"left":i.horizontalAlignText="left";break;case"center":i.horizontalAlignText="center";break;case"right":i.horizontalAlignText="right";break;case"justify":i.horizontalAlignText="justified"}else if("align"===t)switch(e[1]){case"top":i.verticalAlignText="top";break;case"middle":i.verticalAlignText="center";break;case"bottom":i.verticalAlignText="bottom"}}}return i}(e));let{horizontalAlignText:r,verticalAlignText:n}=i,a={};return r&&(a.textAlignHorizontal=function(e){switch(e){case"left":default:return"LEFT";case"center":return"CENTER";case"right":return"RIGHT";case"justified":return"JUSTIFIED"}}(r)),n&&(a.textAlignVertical=function(e){switch(e){case"top":default:return"TOP";case"center":return"CENTER";case"bottom":return"BOTTOM"}}(n)),{props:a}}});var t$=i(497239),tB=i(345458);let t_=J.z.object({fontFamily:J.z.string().optional(),fontSize:J.z.number().optional(),fontWeight:J.z.number().optional(),italic:J.z.boolean().optional(),lineHeight:J.z.union([J.z.literal("auto"),J.z.string().describe("Eg. 100% or 20px"),J.z.number().describe("Raw values will be automatically inferred as px units")]).optional(),letterSpacing:J.z.union([J.z.string().describe("Eg. 100% or 20px"),J.z.number().describe("Raw values will be automatically inferred as px units")]).optional(),textCase:J.z.union([J.z.literal("original"),J.z.literal("upper"),J.z.literal("lower"),J.z.literal("title"),J.z.literal("small_caps"),J.z.literal("small_caps_forced")]).optional(),textDecoration:J.z.union([J.z.literal("none"),J.z.literal("underline"),J.z.literal("strikethrough")]).optional(),href:J.z.string().optional(),truncate:J.z.boolean().or(J.z.number()).optional().describe("Whether the text should truncate if it overflows the size of the node. Set to a number to truncate after a specific number of lines."),fill:ez.optional()}),tJ=ex.merge(t_.pick({fontFamily:!0,letterSpacing:!0,textCase:!0,textDecoration:!0,truncate:!0,fill:!0})),tU=U({name:"Font",includeInTailwind:!0,fieldGroups:new Set(["text"]),outputSchema:e=>e.tailwindOnly?ex:e.tailwind?tJ:t_,defaults:({nodeType:e,options:t})=>"TEXT"!==e||t.tailwindOnly?{}:{fontFamily:"Inter",fontWeight:400,fontSize:12,lineHeight:"auto",letterSpacing:0,textCase:"original",textDecoration:"none",truncate:!1,italic:!1},serialize:({type:e,fontName:t,fontSize:i,lineHeightOrMixed:r,letterSpacing:n,textCase:a,textDecoration:o,textTruncation:l,maxLines:s,hyperlink:u},d,p)=>{if("TEXT"!==e||!t||""===t.family)return;let c={fontName:t,fontSize:i,lineHeight:"mixed"!==r?r:void 0,letterSpacing:n,textCase:a,textDecoration:o,maxLines:s,textTruncation:l,hyperlink:"mixed"!==u?u:void 0},f={jsxType:"Text",paintOptions:{excludeImageData:d.excludeImageData,imagePlaceholderHex:d.imagePlaceholderHex}},h=tG(c,f,p);return d.tailwind?tK(h,c,f,!!d.tailwindOnly):h},deserialize:({params:e,options:t,context:i,elem:r})=>{let n=e,a={jsxType:"Text",paintOptions:{excludeImageData:t.excludeImageData,imagePlaceholderHex:t.imagePlaceholderHex}};return t.tailwind&&(n=tY(e,a)),{textMetadata:{style:tW({props:n,options:a,context:i,elem:r})}}}});function tW({props:e,options:t,context:i,elem:r}){let n={};if("number"==typeof e.fontSize&&(n.fontSize=i.maybeDenormalizePxValue(e.fontSize,"y")),e.fontFamily&&(n.fontName={family:e.fontFamily,style:(0,tB.SJ)(e.fontWeight,e.italic)??"Regular",postscript:""},n.fontWeight=e.fontWeight??400),void 0!==e.lineHeight){let t=(0,t$.O)(e.lineHeight);t&&("AUTO"===t.units?n.lineHeight={units:"PERCENT",value:100}:"PIXELS"===t.units?n.lineHeight={...t,value:i.maybeDenormalizePxValue(t.value,"y")}:"PERCENT"===t.units?n.lineHeight={units:"RAW",value:t.value/100}:n.lineHeight=t)}if(void 0!==e.letterSpacing){let t=(0,t$.O)(e.letterSpacing);t&&("AUTO"===t.units?n.letterSpacing={units:"PERCENT",value:100}:0===t.value?n.letterSpacing={units:"PERCENT",value:0}:"PIXELS"===t.units?n.letterSpacing={...t,value:i.maybeDenormalizePxValue(t.value,"x")}:n.letterSpacing=t)}return e.textCase&&(n.textCase=function(e){switch(e){case"original":return"ORIGINAL";case"upper":return"UPPER";case"lower":return"LOWER";case"title":return"TITLE";case"small_caps":return"SMALL_CAPS";case"small_caps_forced":return"SMALL_CAPS_FORCED";default:(0,x.xb)(e)}}(e.textCase)),e.textDecoration&&(n.textDecoration=function(e){switch(e){case"none":return"NONE";case"underline":return"UNDERLINE";case"strikethrough":return"STRIKETHROUGH";default:(0,x.xb)(e)}}(e.textDecoration)),e.href&&(n.hyperlink={value:e.href,type:"URL"}),"Text"===t.jsxType&&(n.textTruncation=e.truncate?"ENDING":"DISABLED","number"==typeof e.truncate?n.maxLines=e.truncate:!0===e.truncate?n.maxLines=1:n.maxLines=null),"Span"===t.jsxType&&e.fill&&(n.fills={blobs:[],data:tu({fill:e.fill,options:t.paintOptions??{},context:i,element:r})}),n}function tG(e,t,i){let r={};if(e.fontName?.family&&(r.fontFamily=e.fontName.family),e.fontSize&&(r.fontSize=i.maybeNormalizePxValue(e.fontSize,"y")),e.fontName?.style&&"Regular"!==e.fontName.style){let{fontWeight:t,italic:i}=(0,tB.PT)(e.fontName.style);r.fontWeight=t,i&&(r.italic=!0)}return"object"==typeof e.lineHeight&&("PERCENT"===e.lineHeight.units&&(100===e.lineHeight.value?r.lineHeight="auto":r.lineHeight=(0,t$.S)(e.lineHeight.value,"%")),"RAW"===e.lineHeight.units&&(r.lineHeight=e.lineHeight.value),"PIXELS"===e.lineHeight.units&&(r.lineHeight=(0,t$.S)(i.maybeNormalizePxValue(e.lineHeight.value,"y"),"px"))),e.letterSpacing&&(0===e.letterSpacing.value?r.letterSpacing=0:("PERCENT"===e.letterSpacing.units&&(r.letterSpacing=(0,t$.S)(e.letterSpacing.value,"%")),"RAW"===e.letterSpacing.units&&(r.letterSpacing=e.letterSpacing.value),"PIXELS"===e.letterSpacing.units&&(r.letterSpacing=(0,t$.S)(i.maybeNormalizePxValue(e.letterSpacing.value,"x"),"px")))),e.textCase&&(r.textCase=function(e){switch(e){case"ORIGINAL":return"original";case"UPPER":return"upper";case"LOWER":return"lower";case"TITLE":return"title";case"SMALL_CAPS":return"small_caps";case"SMALL_CAPS_FORCED":return"small_caps_forced";default:(0,x.xb)(e)}}(e.textCase)),e.textDecoration&&(r.textDecoration=function(e){switch(e){case"NONE":return"none";case"UNDERLINE":return"underline";case"STRIKETHROUGH":return"strikethrough";default:(0,x.xb)(e)}}(e.textDecoration)),e.hyperlink&&(r.href=e.hyperlink.value),e.listOptions&&(r.listOptions=function(e){switch(e){case"PLAIN":case"BLOCKQUOTE":case"HEADER":return"none";case"ORDERED_LIST":return"ordered";case"UNORDERED_LIST":return"unordered";default:(0,x.xb)(e)}}(e.listOptions)),"Text"===t.jsxType&&"ENDING"===e.textTruncation&&(r.truncate=!((e.maxLines??0)>1)||e.maxLines),"Span"===t.jsxType&&e.fills&&(r.fill=ts(e.fills.data,t.paintOptions??{},i)),r}function tK(e,t,i,r){let{fontSize:n,fontWeight:a,textDecoration:o,italic:l,lineHeight:s,textCase:u,fill:d,...p}=e,c=[];if(a&&400!==a&&c.push(`font-${(0,eT.jd)(a)}`),n&&12!==n&&c.push(`text-${(0,eT.KY)(n)}`),o)switch(o){case"underline":c.push("underline");break;case"strikethrough":c.push("line-through")}l&&c.push("italic");let f=t.lineHeight;if(s&&"auto"!==s&&f&&c.push(`leading-${(e=>{switch(e.units){case"RAW":return(0,eT.rt)(100*e.value,"PERCENT");case"PERCENT":return(0,eT.rt)(e.value,"PERCENT");case"PIXELS":return(0,eT.rt)(e.value,"PIXELS");default:(0,x.xb)(e.units)}})(f)}`),d){let e=tf({fill:d},"TEXT",r);e.className?c.push(e.className):e.fill?p.fill=e.fill:"Span"===i.jsxType&&c.push("text-black")}if(u&&"original"!==u)switch(u){case"upper":c.push("uppercase");break;case"lower":c.push("lowercase");break;case"title":c.push("capitalize");break;default:p.textCase=u}let h=c.length>0?c.join(" "):void 0;return r?{className:h}:{...p,className:h}}function tY(e,t){let{className:i,...r}=e;for(let{classParts:e,className:n}of(0,eN.mu)(i)){let a=e[0];if(a){if("font"===a){let t=(()=>{let t=e.length-1;return eI.sJ[e[t]]})();t&&(r.fontWeight=t)}else if("text"===a){let n=(()=>{let t=e.length-1;return eI.fx[e[t]]??(0,eN.Hc)(e[t])})();if(n&&(r.fontSize=n),"Span"===t.jsxType){let e=th({className:i,fill:r.fill},"TEXT");r.fill=e.fill}}else if("leading"===a){let t=(()=>{let t=e.length-1,i=eI.u0[e[t]];if(i)return i;let r=eI.Cv[e[t]];if(r)return`${r}px`;let n=(0,eN.Hc)(e[t]);if(n)return`${n.toFixed(0)}px`;let a=(0,eN.kX)(e[t]);return a?a/100:null})();t&&(r.lineHeight=t)}else"underline"===n?r.textDecoration="underline":"line-through"===n?r.textDecoration="strikethrough":"italic"===n?r.italic=!0:"uppercase"===n?r.textCase="upper":"lowercase"===n?r.textCase="lower":"capitalize"===n&&(r.textCase="title")}}return r}let tZ=J.z.object({sides:J.z.number().optional()}),tQ=U({name:"Sides",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>tZ,defaults:()=>({sides:3}),serialize:({count:e})=>{if("number"==typeof e)return{sides:e}},deserialize:({params:{sides:e}})=>{if("number"==typeof e)return{props:{count:e}}}}),tq=J.z.object({data:J.z.string().optional().describe("If specified, refers to an asset containing the vector data")}),t0=U({name:"VectorData",includeInTailwind:!0,fieldGroups:new Set(["rendering"]),outputSchema:()=>tq,defaults:()=>({}),serialize:(e,t,i)=>{if(t.excludeVectorData||t.inlineVectorData||!e.vectorDataInfo)return;let r=function(e){let t=e.vectorDataInfo,i=(0,e7.Et)(t.blobs[t.data.vectorNetworkBlob].bytes);return`asset:${i.slice(0,8)}`}(e);return i.trackAssetInfo(r,{type:"vector",data:(0,n.V)({type:"VectorData",props:{},children:t1(e,t,i)})}),{data:r}},deserialize:({params:e,options:t,context:i})=>{if(t.excludeVectorData||t.inlineVectorData||!t.assetsByName)return{};let r=e.data;if(r&&t.assetsByName[r]){let e=t.assetsByName[r];if("vector"===e.type){let r=n.parseJSX(e.data)?.[0];if(r){let{cornerRadius:e,vectorNetwork:n}=t2({element:r,options:t,context:i});return{props:{cornerRadiusOrMixed:e},customProperties:{vectorNetwork:n}}}}}return{}}});function t1(e,t,i){let r=(0,T.Kx)(e),n=(0,T.Hn)(r),a=e.cornerRadiusOrMixed;return n.map(e=>{let r=e.data;if(t.tempExternalPathData){let e=function(e){let t=(0,e7.yS)(e);return`asset:${t.slice(0,8)}`}(r);i.trackAssetInfo(e,{type:"vector-path",data:r}),r=e}let n={fillRule:e.windingRule.toLowerCase(),data:r};return"number"==typeof a&&0!==a&&(n.cornerRadius=a),{type:"Path",props:n,children:[]}})}function t2({element:e,options:t,context:i}){let r;let n=e.children,a=[];for(let o of n){if(!(0,eE.id)(o)){i.trackDeserializeIssue({message:"Invalid vector child",context:{jsxElement:e}});continue}"Path"===o.type&&("string"==typeof o.props.fillRule||"string"==typeof o.props.data)&&("number"==typeof o.props.cornerRadius&&(r=o.props.cornerRadius),t.tempExternalPathData||a.push({windingRule:o.props.fillRule.toUpperCase(),data:o.props.data}))}return t.tempExternalPathData?{cornerRadius:r,vectorNetwork:void 0}:{cornerRadius:r,vectorNetwork:(0,T.VS)(a)}}let t4=J.z.enum(["union","intersect","subtract","xor"]),t5=J.z.object({operation:t4.optional()}),t6=U({name:"BooleanOperation",includeInTailwind:!1,fieldGroups:new Set(["rendering"]),outputSchema:()=>t5,defaults:()=>({}),serialize:({booleanOperation:e})=>{if("string"==typeof e)return{operation:function(e){switch(e){case"UNION":return"union";case"INTERSECT":return"intersect";case"SUBTRACT":return"subtract";case"XOR":return"xor";default:(0,x.xb)(e)}}(e)}},deserialize:({params:{operation:e}})=>{if(e)return{requiredProps:{booleanOperation:function(e){switch(e){case"union":return"UNION";case"intersect":return"INTERSECT";case"subtract":return"SUBTRACT";case"xor":return"XOR";default:(0,x.xb)(e)}}(e)}}}}),t8=J.z.object({sharedPluginData:J.z.record(J.z.string(),J.z.any()).optional()}),t3=U({name:"SharedPluginData",includeInTailwind:!0,fieldGroups:new Set([]),outputSchema:()=>t8,defaults:()=>({}),serialize:()=>({}),deserialize:({params:{sharedPluginData:e}})=>({customProperties:{sharedPluginData:e}})}),t7=[G,e2,er,eX,t6,et,eC,eD,e5,tU,tH,tj,tc,tT,tC,e8,tF,tg,tA,tL,tQ,t0,t3];var t9=i(473407);function ie({node:e,element:t,props:i,validKeys:r,defaults:n}){if(i)for(let a of Object.keys(i)){if(r&&!r.has(a))throw Error(`Prop ${a} not a valid key`);if("className"===a)i[a]&&(t.props[a]?t.props[a]=[t.props[a],i[a]].join(" "):t.props[a]=i[a]);else{if(void 0!==t.props[a])throw Error(`Prop ${a} already set on node ${e.guid}`);if(n&&a in n&&(0,g.c2)(i[a],n[a]))continue;t.props[a]=i[a]}}}function it({node:e,nodeSerializers:t,options:i,context:r,depth:n,serializeReason:a,excludeChildren:o}){if(i?.includeNodeTypes&&!i.includeNodeTypes.includes(e.type)||n>0&&i?.filterFunction&&!i?.filterFunction(e,{depth:"serialize-jsx"===a?n:null}))return null;for(let l of t){let s=l.getJSXType(e,i,r);if(!s)continue;let u={type:s,props:{},children:[]},d=l.getFieldSerializers(i);d.sort((e,t)=>{let i=t7.indexOf(e),r=t7.indexOf(t);return(-1===i?t7.length:i)-(-1===r?t7.length:r)});let p={};for(let t of d=(0,t9.c)(d,{...i})){let r=t.serializeNodeInfoForDefaults?.(e,i);r&&Object.assign(p,r)}let c=l?.toJSXElement?.(e,u,i,r);for(let t of(c&&ie({node:e,element:u,props:c}),d)){let n;let a=t.outputSchema(i).shape;if(!a)throw Error(`No output schema in fieldSerializer=${t.name} for flavor=${i.flavor}`);let o=new Set(Object.keys(a));try{n=t.serialize(e,i,r)}catch(i){r.trackSerializeIssue({message:`Could not serialize ${t.name} fields`+(i instanceof Error?`: ${i.message}`:""),context:{guid:e.guid}});continue}let l=t.defaults({nodeType:e.type,tagName:s,nodeInfo:p,options:i}),d="Instances"===t.name&&i.topLevelComponentProps&&n?.componentProps?n.componentProps:n;ie({node:e,element:u,props:d,defaults:l,validKeys:"Instances"===t.name?new Set(Object.keys(d)):o}),"Instances"===t.name&&i.topLevelComponentProps&&(u.spreadAttribute=n?.spreadAttribute)}let f=l?.getJSXChildren?.(e,i,r);if(f)u.children=f;else if(!o&&"childrenNodes"in e&&e.childrenNodes)for(let o of i.orderChildrenByXY?L(e):D(e)){let e=it({node:o,nodeSerializers:t,options:i,context:r,depth:n+1,serializeReason:a});e&&u.children.push(e)}return u}return r.trackSerializeIssue({message:"Unable to serialize node",context:{guid:e.guid}}),null}!function(e){e[e.CONTINUE=0]="CONTINUE",e[e.BREAK=1]="BREAK",e[e.SKIP=2]="SKIP"}(r||(r={}));let ii=new Set(["props","requiredProps","componentProps","customProperties","textMetadata","renderMetadata","layoutMetadata"]);function ir(e,t,i){if(t){for(let r of Object.keys(t))if(ii.has(r))for(let[n,a]of Object.entries(t[r])){if(void 0!==e[r][n])throw Error(`prop ${r}.${n} already set elem=${JSON.stringify(i)}, declarativeNode=${JSON.stringify(e)}`);e[r][n]=a}}}function ia({jsxElement:e,nodeSerializers:t,options:i,context:r,depth:n}){for(let a of t){let o=a.fromJSXType(e.type,i,r);if(!o)continue;if(i?.includeNodeTypes&&!i.includeNodeTypes.includes(o))return null;let l=a.getFieldSerializers(i),s={};for(let t of l){let r=t.deserializeNodeInfoForDefaults?.(e.props,i);r&&Object.assign(s,r)}let u={nodeType:o,requiredProps:{},props:{},customProperties:{},componentProps:{},textMetadata:{},layoutMetadata:{},renderMetadata:{}},d=a.fromJSXElement?.(e,i,r);for(let t of(d&&ir(u,d,e),l)){let a=t.outputSchema(i);if(!a)throw Error(`No output schema in fieldSerializer=${t.name} for flavor=${i.flavor}`);let l=a.safeParse(e.props);if(!l.success){console.error("props doesn't match schema",l.error);continue}let d=t.deserialize({params:{...t.defaults({nodeType:o,tagName:e.type,nodeInfo:s,options:i}),..."INSTANCE"===o&&"Instances"===t.name&&i.topLevelComponentProps?e.props:l.data},options:i,context:r,nodeType:o,depth:n,declarativeNodeRequiredProps:{...u.requiredProps},elem:e});ir(u,d,e)}let p=a?.fromJSXChildren?.(e,u,i,r);if(p)ir(u,p,e);else if(e.children.length){for(let a of(u.renderMetadata.children=[],e.children))if(a){if((0,eE.id)(a)){u.renderMetadata.children.push(...function e(a){let o=[];if("Fragment"===a.type||""===a.type)for(let t of a.children)(0,eE.id)(t)&&o.push(...e(t));else{let e=ia({jsxElement:a,nodeSerializers:t,options:i,context:r,depth:n+1});e&&o.push(e)}return o}(a));continue}r.trackDeserializeIssue({message:"Unhandled child value",context:{jsxElement:e}})}}return u}return(r.trackDeserializeIssue({message:"Unable to deserialize element",context:{jsxElement:e}}),i.transformUnhandledNodes)?ia({jsxElement:(0,eU.Aw)(e),nodeSerializers:t,options:{...i,tailwind:!0},context:r,depth:n}):null}function io(e){let t=[t3];return e.includeIDs&&(t.push(G),t.push(e2)),e.includeNames&&t.push(er),t}function il(e){let t=io(e);return t.push(eX,eD,e5),t}function is(e){let t=il(e);return t.push(tc,tT,tC,e8,tg,tA,tL),t}let iu={name:"Star",getJSXType(e){if("STAR"===e.type)return"Star"},fromJSXType(e){if("Star"===e)return"STAR"},getFieldSerializers:e=>is(e),possibleTagNames:["Star"]},id={name:"Document",getJSXType(e){if("DOCUMENT"===e.type)return"Document"},fromJSXType(e){if("Document"===e)return"DOCUMENT"},getFieldSerializers:()=>[],possibleTagNames:["Document"]},ip={name:"Page",getJSXType(e){if("CANVAS"===e.type)return"Page"},fromJSXType(e){if("Page"===e)return"CANVAS"},getFieldSerializers:e=>io(e),possibleTagNames:["Page"]},ic={name:"Default",getJSXType(e){if("BOOLEAN_OPERATION"===e.type)return"BooleanOperation"},fromJSXType(e){if("BooleanOperation"===e)return"BOOLEAN_OPERATION"},getFieldSerializers(e){let t=is(e);return t.push(t6),t},possibleTagNames:["BooleanOperation"]},ih=["fontName","fontSize","textCase","textDecoration","letterSpacing","lineHeight","hyperlink","listOptions","fills"],im=["UnorderedList","OrderedList","ListItem","Link","Span"],ig={name:"Text",getJSXType(e){if("TEXT"===e.type){if(e.hyperlink&&"mixed"!==e.hyperlink)return"Link";let t=e.getRangeLineType(0,e.characters.length-1);if("mixed"!==t&&"PLAIN"!==t){if("ORDERED_LIST"===t)return"OrderedList";if("UNORDERED_LIST"===t)return"UnorderedList"}return"Text"}},fromJSXType(e){if("Text"===e||"Link"===e||"OrderedList"===e||"UnorderedList"===e)return"TEXT"},getFieldSerializers(e){let t=[];return e.includeIDs&&t.push(G),e.includeNames&&t.push(er),t.push(eX,eD,e5,tU,tH,tc,tT,tC,e8,tL),t},getJSXChildren(e,t,i){if(t.serializeAsComponentDefinition){let t=e.componentPropertyReferences();if(t&&"characters"in t){let e=t.characters,r=i.getRootComponentTypeInfo(),n=r&&r.parsedDefs.find(t=>t.rawProp===e);if(n)return[{type:"JSXExpressionContainer",expression:q(n.devFriendlyProp)}]}}if(t.includeVariables){let t=i.variableAliasToJSXExpressionContainer(e.boundVariables.characters);if(t)return[t]}return e.characters?iy(e,t,i):[]},fromJSXChildren(e,t,i,r){let n=e.children[0];if(i.includeVariables&&n&&1===e.children.length&&(0,eE.Bj)(n)){let t=r.jsxExpressionContainerToVariableId(n,e);return t?{props:{boundVariables:{characters:{type:"VARIABLE_ALIAS",id:t}}}}:{}}let a=function e({element:t,options:i,context:r,declarativeNode:n,offset:a=0}){let o=[];for(let[l,s]of t.children.entries()){if("string"==typeof s){o.push({start:a,end:a+s.length,characters:s,style:{}}),a+=s.length;continue}if((0,eE.Bj)(s))continue;if(!im.includes(s.type)){r.trackDeserializeIssue({message:"Unexpected child type",context:{jsxElement:t}});continue}let u=s.children[0];if("UnorderedList"===s.type||"OrderedList"===s.type||"Link"===s.type&&"object"==typeof u&&["UnorderedList","OrderedList"].includes(u.type)){let e=o[o.length-1];e&&(e.characters=e.characters+"\n",e.end+=1,a+=1)}let d=e({element:s,options:i,context:r,declarativeNode:n,offset:a}),p=d[d.length-1],c=l===t.children.length-1;if("UnorderedList"===s.type||"OrderedList"===s.type)p&&!c&&(p.characters=p.characters+"\n",p.end+=1);else if("ListItem"===s.type)p&&!c&&(p.characters=p.characters+"\n",p.end+=1);else if("Link"===s.type){let e=s.children[s.children.length-1];p&&!c&&"object"==typeof e&&["UnorderedList","OrderedList"].includes(e.type)&&(p.characters=p.characters+"\n",p.end+=1)}else if("Span"===s.type&&(1!==s.children.length||"string"!=typeof s.children[0])){r.trackDeserializeIssue({message:"Unexpected span child",context:{jsxElement:t}});continue}let f=s.props,h={jsxType:"Span",paintOptions:{excludeImageData:i.excludeImageData,imagePlaceholderHex:i.imagePlaceholderHex}};i.tailwind&&(f=tY(s.props,h));let m=tW({props:{fontFamily:f.fontWeight?n.textMetadata?.style?.fontName?.family??"":"",...f},options:h,context:r,elem:s});o.push(...d.map(e=>({...e,style:{...m,...e.style}})));let g=o[o.length-1];g&&(a=g.end)}switch(t.type){case"UnorderedList":case"OrderedList":return o.map(e=>({...e,style:{...e.style,listOptions:"UnorderedList"===t.type?"UNORDERED_LIST":"ORDERED_LIST"}}))}return o}({element:e,options:i,context:r,declarativeNode:t,offset:0});return{textMetadata:{characters:a.map(e=>e.characters).join(""),ranges:a}}},possibleTagNames:["Text","Link","UnorderedList","OrderedList"]};function iy(e,t,i){let r={jsxType:"Span",paintOptions:{excludeImageData:t.excludeImageData,imagePlaceholderHex:t.imagePlaceholderHex}},n=e.getRangeLineType(0,e.characters.length-1),a=tG({fontName:e.fontName,fontSize:e.fontSize,lineHeight:"mixed"!==e.lineHeightOrMixed?e.lineHeightOrMixed:void 0,letterSpacing:e.letterSpacing,textCase:e.textCase,fills:{data:e.fills,blobs:[]},textDecoration:e.textDecoration,hyperlink:"mixed"===e.hyperlink?null:e.hyperlink,listOptions:"mixed"===n?"PLAIN":n},r,i),o=e.getStyledTextSegments(ih).reduce((e,t)=>{if(0===e.length)e.push([t]);else{let i=e[e.length-1],r=i[0];r?.listOptions===t.listOptions?i.push(t):e.push([t])}return e},[]);return o.map((e,n)=>{let l=e[0];if(!l)return null;let s=l.listOptions,u=n===o.length-1;if("PLAIN"===s){let n=e[e.length-1];return n&&!u&&n.characters.endsWith("\n")&&(n.characters=n.characters.slice(0,-1)),e.map(e=>{let n=ib(e,a,t,i);return 0===Object.keys(n).length?e.characters:{type:n.href?"Link":"Span",props:t.tailwind?tK(n,e,r,!!t.tailwindOnly):n,children:[e.characters]}})}return function(e,n){let l=e[0];if(!l)return[];let s=l.listOptions,u=1===e.length,d=(function(e,t){let i=e.map(e=>e.characters.split("\n").map(t=>({...e,characters:t}))),r=[];for(let[e,t]of i.entries()){let n=i[e-1];if(!n){r.push(...t.map(e=>[e]));continue}if(n[n.length-1]?.characters==="")r.push(...t.map(e=>[e]));else{let e=r[r.length-1];e&&(e.push(t[0]),t.shift()),r.push(...t.map(e=>[e]))}}return r=r.map(e=>e.filter(e=>""!==e.characters)).filter((e,i)=>e.length>0&&e[0]?.characters!==""||i===r.length-1&&t)})(e,n).map(e=>(function({line:e,listHasSameStyling:n}){let o=e.map(e=>{if(n)return e.characters;let o=ib(e,a,t,i);if(0===Object.keys(o).length)return e.characters;let l=iS(o);return{type:o.href?"Link":"Span",props:t.tailwind?tK(o,e,r,!!t.tailwindOnly):l,children:[e.characters]}});return 1===o.length&&"object"==typeof o[0]&&"Span"===o[0].type?{type:"ListItem",props:o[0].props,children:o[0].children}:{type:"ListItem",props:{},children:o}})({line:e,listHasSameStyling:u}));if(!(o.length>1)&&!a.href)return d;{let e={};if(u){let n=ib(l,a,t,i);if(Object.keys(n).length>0){let i=iS(n);e=t.tailwind?tK(n,l,r,!!t.tailwindOnly):i}}return e.href?[{type:"Link",props:e,children:[{type:"UNORDERED_LIST"===s?"UnorderedList":"OrderedList",props:{},children:d}]}]:[{type:"UNORDERED_LIST"===s?"UnorderedList":"OrderedList",props:e,children:d}]}}(e,u)}).filter(e=>null!==e).flat()}function ib(e,t,i,r){let n=tG(e,{jsxType:"Span",paintOptions:{excludeImageData:i.excludeImageData,imagePlaceholderHex:i.imagePlaceholderHex}},r),a={};for(let[e,i]of Object.entries(n))(0,g.c2)(t[e],i)||(a[e]=i);return a}function iS(e){let t={};for(let[i,r]of Object.entries(e))"listOptions"!==i&&(t[i]=r);return t}let iz={name:"Vector",getJSXType(e){if("VECTOR"===e.type)return"Vector"},fromJSXType(e){if("Vector"===e)return"VECTOR"},getFieldSerializers(e){let t=[];return e.includeIDs&&t.push(G),e.includeNames&&t.push(er),e.excludeVectorData||e.inlineVectorData||t.push(t0),t.push(eX,eD,e5,tc,tT,tC,e8,tL),t},getJSXChildren:(e,t,i)=>!t.excludeVectorData&&(!t.fieldGroups||t.fieldGroups.includes("rendering"))&&e.vectorDataInfo&&t.inlineVectorData?t1(e,t,i):[],fromJSXChildren(e,t,i,r){if(i.excludeVectorData||!i.inlineVectorData)return{};let{cornerRadius:n,vectorNetwork:a}=t2({element:e,options:i,context:r});return{props:{cornerRadius:n},customProperties:{vectorNetwork:a}}},possibleTagNames:["Vector"]},ix={name:"Frame",getJSXType(e,t){if("FRAME"===e.type&&!e.isGroup)return t.useDivTagsForFrames?"div":"Frame"},fromJSXType(e,t){if("Frame"===e||"div"===e&&t.useDivTagsForFrames||e===d&&t.tempDeserializeComponentsAsFrames)return"FRAME"},getFieldSerializers(e){let t=is(e);return t.push(eC),t.push(tF),t},possibleTagNames:["Frame"]},iT={name:"Ellipse",getJSXType(e){if("ELLIPSE"===e.type)return"Ellipse"},fromJSXType(e){if("Ellipse"===e)return"ELLIPSE"},getFieldSerializers(e){let t=is(e);return t.push(tj),t},possibleTagNames:["Ellipse"]},iN={name:"Component",getJSXType(e,t){if("SYMBOL"===e.type)return t.serializeAsComponentDefinition?t.useDivTagsForFrames?"div":"Frame":d},fromJSXType(e,t){if(e===d&&!t.tempDeserializeComponentsAsFrames)return"SYMBOL"},getFieldSerializers(e){let t=is(e);return t.push(eC),t.push(tF),e.includeNames||t.push(er),t},possibleTagNames:[d]},iI={name:"ComponentSet",getJSXType(e,t){if("FRAME"===e.type&&e.isStateGroup)return p},fromJSXType(e,t){if(e===p)return"FRAME"},fromJSXElement:(e,t)=>({props:{isStateGroup:!0}}),getFieldSerializers(e){let t=is(e);return t.push(eC),t.push(tF),t},possibleTagNames:["Frame"]},iE={name:"Group",getJSXType(e){if(e.isGroup||"GROUP"===e.type)return"Group"},fromJSXType(e){if("Group"===e)return"GROUP"},getFieldSerializers:e=>il(e),possibleTagNames:["Group"]},iw={name:"Rectangle",getJSXType(e){switch(e.type){case"RECTANGLE":case"ROUNDED_RECTANGLE":return"Rectangle"}},fromJSXType(e){if("Rectangle"===e)return"ROUNDED_RECTANGLE"},getFieldSerializers:e=>is(e),possibleTagNames:["Rectangle"]},iO={name:"Line",getJSXType(e){if("LINE"===e.type)return"Line"},fromJSXType(e){if("Line"===e)return"LINE"},getFieldSerializers:e=>is(e),possibleTagNames:["Line"]},iP={name:"Slice",getJSXType(e){if("SLICE"===e.type)return"Slice"},fromJSXType(e){if("Slice"===e)return"SLICE"},getFieldSerializers:e=>il(e),possibleTagNames:["Slice"]},iv={name:"Polygon",getJSXType(e){if("REGULAR_POLYGON"===e.type)return"Polygon"},fromJSXType(e){if("Polygon"===e)return"REGULAR_POLYGON"},getFieldSerializers(e){let t=is(e);return t.push(tQ),t},possibleTagNames:["Polygon"]},iC="Unknown",ik={name:"Unknown",getJSXType:()=>iC,fromJSXType(e){if(e===iC)return"FRAME"},getJSXChildren:()=>[],fromJSXChildren:()=>({}),fromJSXElement(e,t,i){if(e.type===iC){let r={};return"name"in e.props||("string"==typeof e.props?.originalType?r.name=`Unhandled ${e.props?.originalType}`:r.name="Unhandled Node"),t.unknownNodeFallbackHex?r.fills=tu({fill:t.unknownNodeFallbackHex,options:{},context:i,element:e}):r.fills=[],{props:r,renderMetadata:{isUnknownNode:!0}}}},toJSXElement(e,t){if(t.type===iC)return{originalType:e.type}},getFieldSerializers:e=>il(e),possibleTagNames:[iC]},iA={name:"Sticky",getJSXType(e){if("STICKY"===e.type)return"Sticky"},fromJSXType(e){},getFieldSerializers:e=>il({...e,includeNames:!1}),getJSXChildren:(e,t,i)=>e.textSublayer?iy(e.textSublayer,t,i):[],fromJSXChildren:(e,t,i,r)=>({}),possibleTagNames:["Sticky"]},iR={name:"Section",getJSXType(e){if("SECTION"===e.type)return"Section"},fromJSXType(e){},getFieldSerializers:e=>is(e),possibleTagNames:["Section"]};function iL(e){let t={...e$.KQ,...e},i=[iI,ix,iE,iP,iN,iT,iv,eH,ig,iz,ic,id,ip,iO,iw,iu,iR,iA,ik];return t.testOnlyOmitNodeSerializers?i.filter(e=>!t.testOnlyOmitNodeSerializers||!t.testOnlyOmitNodeSerializers.includes(e.name)):i}function iD(e,t={}){let{jsxElement:i,...r}=ij(e,t);return{jsxStr:(0,n.V)(i),...r}}function ij(e,t={}){let i={...e$.KQ,...t,tailwind:t.tailwind||t.tailwindOnly},l=new eq({rootNode:e},i),s={node:e,options:i,nodeSerializers:iL(i),context:l,depth:0,serializeReason:"serialize-jsx"},u=i.focusNodeId?function({node:e,nodeSerializers:t,options:i,context:n,serializeReason:o}){let l=(0,a.UN)(),s=i.focusNodeId;if(!s)return null;let u=l.get(s);if(!u)return n.trackSerializeIssue({message:"Focus node not found",context:{guid:s}}),null;let d={},p=[u];if(u.guid!==e.guid){let t=u.parentNode;for(;t&&t.guid!==e.guid&&"CANVAS"!==t.type;){p.push(t);let e=t.parentNode;if(!e)return null;t=e}if(!t||t.guid!==e.guid)return n.trackSerializeIssue({message:"Focus node is not a descendant of the node",context:{guid:s}}),null;p.push(t)}let c=new Set,f=0,h=u;for(let[e,a]of p.entries()){if(i.maxSerializeNodes&&f>=i.maxSerializeNodes)break;h=a,function(e,t,i){let r=[e];for(;r.length;){let e=r.shift();if(!e)continue;let{node:n,depth:a}=e;if(t.has(n.guid))continue;t.add(n.guid);let o=i({node:n,depth:a});if(1===o)break;if(2!==o)for(let e of n.childrenNodes)r.push({node:e,depth:a+1})}}({node:a,depth:p.length-e-1},c,({node:e,depth:a})=>{if(i.maxSerializeNodes&&f>=i.maxSerializeNodes)return r.BREAK;let l=it({node:e,nodeSerializers:t,options:i,context:n,depth:a,serializeReason:o,excludeChildren:!0});return l?(d[e.guid]=l,f++,e.isInstance&&!i.includeInstanceSublayers||e.isInImmutableFrame)?r.SKIP:r.CONTINUE:r.SKIP})}return!function e(t,i){for(let r of t.childrenNodes)e(r,i);i(t)}(h,e=>{let t=d[e.guid];if(t)for(let r of i.orderChildrenByXY?L(e):D(e)){let e=d[r.guid];e&&t.children.push(e)}}),d[h.guid]||null}(s):it(s);if(!u)throw new eU.LV("Unable to serialize node",{guid:e.guid});let d=i.ignoreFetchingComponentData?{}:function(e,t,i){let r={};for(let a of(0,o.B)([e],{followInstances:!0})){let e=it({node:a,options:t,nodeSerializers:iL(t),context:i,depth:0,serializeReason:"referenced-component"});if(e){let o=(0,n.V)(e),l=i.getJSXNameForComponent(a);if(r[l]={guid:a.guid,name:a.name,jsxStr:o,jsxName:l},t.includeTypescriptTypes)try{r[l].typescriptType=e_(a,l)}catch(e){if(t.strict)throw e}}}return r}(e,i,l),p=i.includeVariables?function(e){let t=(0,a.UN)(),i={};for(let r of e){let e=t.getVariableNode(r);if(e){let r=t.getVariableCollectionNode(e.variableCollectionId);if(!r)continue;let n=r.name;i[n]||(i[n]={}),i[n][e.name]=e.valuesByMode[r.defaultModeId]}}return 0===Object.keys(i).length?null:function(e){let t=new K;for(let[i,r]of(t.append("const variables = {"),t.newline(),Object.entries(e))){for(let[e,n]of(t.append(`  ${JSON.stringify(i)}: {`),t.newline(),Object.entries(r))){if("object"==typeof n&&"type"in n&&"VARIABLE_ALIAS"===n.type){let i=eW.sD.fromString(n.id);if(!i)continue;let{collectionName:r,variableName:a}=eZ(i);if(!r||!a)continue;t.append(`    ${JSON.stringify(e)}: () => variables[${JSON.stringify(r)}][${JSON.stringify(a)}],`)}else t.append(`    ${JSON.stringify(e)}: ${JSON.stringify(n)},`);t.newline()}t.append("  },"),t.newline()}return t.append("}"),t.toString()}(i)}(l.getVariablesUsed())??void 0:void 0;return{jsxElement:u,componentInfoByJSXName:d,assetsByName:l.getAssets(),originalSize:e.size,issues:l.getSerializeIssues(),...i.includeVariables?{variablesObjDefinition:p}:{}}}async function iV(e,t={}){let i=n.S(e)?.[0];return i?iF(i,t):{node:null,issues:[]}}async function iM(e,t,i){if(!t.componentInfoByJSXName)return;let r=(0,a.UN)();for(let n of function e(t){let i=new Set;for(let r of(c(t.type)&&i.add(t),t.children))if(r instanceof Object&&!("expression"in r))for(let t of e(r))i.add(t);return i}(e)){let a=n.type,o=t.componentInfoByJSXName[a];if(!o||!o.jsxStr||h(a))continue;let l=await iV(o.jsxStr,t);if(l.node&&"SYMBOL"===l.node.type){let n=f(l.node);t.componentInfoByJSXName[n]={guid:l.node.guid,jsxStr:o.jsxStr,name:l.node.name,jsxName:n};let a=r.getInternalCanvas();a?a.appendChild(l.node):i.trackDeserializeIssue({message:"Could not find hidden canvas to place deserialized component",context:{jsxElement:e}})}}}async function iF(e,t={}){let i={...e$.KQ,...t,componentInfoByJSXName:{...t.componentInfoByJSXName||{}}},r=new eq({originalSize:i.originalSize},i);await iM(e,i,r);let n=ia({jsxElement:e,options:i,context:r,nodeSerializers:iL(i),depth:0});if(!n)return{node:null,issues:r.getDeserializeIssues(),stats:r.getDeserializeStats()};let a=await _({declarativeNode:n,oldDeclarativeNode:void 0,serializerOptions:i});return a?{node:a,issues:r.getDeserializeIssues(),stats:r.getDeserializeStats()}:{node:null,issues:r.getDeserializeIssues(),stats:r.getDeserializeStats()}}async function iX({nodeId:e,jsxStr:t,oldJSXStr:i,options:r={}}){let a=n.S(t)?.[0];return a?iH({jsxElement:a,nodeId:e,oldJSXElement:i?n.S(i)?.[0]:void 0,options:r}):{node:null,issues:[]}}async function iH({jsxElement:e,nodeId:t,oldJSXElement:i,options:r={}}){if(!e)return{node:null,issues:[]};let n={...e$.KQ,...r},o=t?(0,a.UN)().get(t)??void 0:void 0,l=new eq({rootNode:o,originalSize:n.originalSize},n),s=ia({jsxElement:e,options:n,context:l,nodeSerializers:iL(n),depth:0}),u=l.getDeserializeStats();if(!s)return{node:null,issues:l.getDeserializeIssues(),stats:u};if(t){if(!o)return{node:null,issues:l.getDeserializeIssues()};i||(i=ij(o,n).jsxElement)}let d=i?ia({jsxElement:i,options:n,context:l,nodeSerializers:iL(n),depth:0}):null;return{node:await _({nodeId:t,declarativeNode:s,oldDeclarativeNode:d,serializerOptions:n}),issues:l.getDeserializeIssues(),stats:u}}let i$=/^@name\(([A-Za-z1-9]+)\)\s*(.*)/;function iB(e){let t=e.match(i$);return t?{name:t[1]??"",description:t[2]??""}:{name:"",description:e}}async function i_(e){let t={...e$.KQ,...e},i=iL(t),r=`/**
Figma JSX Typings

Generated from jsx-cli

cd share/jsx-cli
bazel run build_dist
node cli.js generate-react-props path/to/output.d.ts
*/

import React, { FC, ReactNode } from 'react'`,n={},a=[],o=[],l={},s={};for(let e of i){let i=[];i.push(...(0,t9.c)([...e.getFieldSerializers(t).filter(e=>"SharedPluginData"!==e.name)],{...t}));let r=function(e,t,i){let r={};return e.forEach(e=>{let n=e.outputSchema(i),a=e.name+"Fields",o={};Object.entries(n.shape).forEach(([e,i])=>{let r="ZodOptional"===i._def.typeName,n=function e(t,i,r=!1){let{name:n}=iB(t.description??"");if(!r&&n){if(!i[n]){let r=e(t,i,!0);r&&(i[n]=r)}return n}if("ZodOptional"===t._def.typeName)return`${e(t._def.innerType,i,r)}`;if("ZodNumber"===t._def.typeName)return"number";if("ZodString"===t._def.typeName)return"string";if("ZodBoolean"===t._def.typeName)return"boolean";if("ZodArray"===t._def.typeName){let r=e(t._def.type,i),n=t._def.exactLength?.value;return n?`[${Array(n).fill(r).join(", ")}]`:`${r}[]`}if("ZodObject"===t._def.typeName){let r=Object.fromEntries(Object.entries(t._def.shape()).map(([t,r])=>[t,e(r,i)]));if("'JSXExpressionContainer'"===r.type){let{type:e,expression:t,...i}=r;if(!(Object.keys(i).length>0))return null;r=i}return`{ ${Object.entries(r).map(([e,t])=>`${e}: ${t}`).join("; ")} }`}return"ZodEnum"===t._def.typeName?t._def.values.map(e=>`'${e}'`).join(" | "):"ZodUnion"===t._def.typeName?t._def.options.map(t=>e(t,i)).filter(Boolean).join(" | "):"ZodNullable"===t._def.typeName?`${e(t._def.innerType,i,r)} | null`:"ZodLiteral"===t._def.typeName?"string"==typeof t._def.value?`'${t._def.value}'`:`${t._def.value}`:"any"}(r?i._def.innerType:i,t);n&&(o[e]={type:n,descriptionRaw:i.description,optional:r})});let l=Object.entries(o).map(([e,{type:t,descriptionRaw:i,optional:r}])=>{let{description:n}=iB(i??""),a=n?`  /** ${n} */
`:"";return`${a}  ${e}${r?"?":""}: ${t};`}).join("\n");l&&(r[a]=`{
${l}
}`)}),r}(i,l,t);for(let i of(Object.assign(n,r),Array.isArray(e.possibleTagNames)?e.possibleTagNames:e.possibleTagNames(t))){let e=Object.keys(r).map(e=>`${e}`).join(" & ");s[i]||(s[i]=e)}}for(let[e,t]of Object.entries(l))a.push(`type ${e} = ${t}`);for(let[e,t]of Object.entries(s))t?o.push(`export const ${e}: FC<
${t}
>`):o.push(`export const ${e}: FC<{}>`);let u=[];for(let[e,t]of Object.entries(n).sort(([e],[t])=>e.localeCompare(t)))u.push(`type ${e} = ${t}`);return[r,a.join("\n\n"),u.join("\n\n"),o.join("\n")].join("\n\n")}function iJ(e,t,i){if(!("SYMBOL"===e.type||e.isStateGroup))throw Error(`Expected SYMBOL or isStateGroup, got: ${e.type}`);t={includePropsType:!0,enableTsArrays:!1,serializeAllVariants:!1,maxVariantsResultSize:void 0,topLevelComponentProps:!1,formatJSX:!0,...t};let r=(0,s.getComponentInfoById)(e.guid,{enableTsArrays:!!t.enableTsArrays});if(!r)throw Error(`Could not find typeInfo for node: ${e.guid}`);let n=Object.values(r.prefixTypes),a=new K,o=r.parsedDefs.map(e=>"DERIVED_BOOLEAN"===e.devFriendlyProp.type?"":"SIMPLE_CHOICE"===e.devFriendlyProp.type?"VARIANT"===e.def.type&&"defaultValue"in e.def?`${e.devFriendlyProp.key} = ${JSON.stringify(e.def.defaultValue)}`:e.devFriendlyProp.key:"GROUPED_INSTANCE_SWAP"===e.devFriendlyProp.type||"IMAGE"===e.devFriendlyProp.type?e.devFriendlyProp.key:"SIMPLE"===e.devFriendlyProp.type?"defaultValue"in e.def?`${e.devFriendlyProp.key} = ${JSON.stringify(e.def.defaultValue)}`:e.devFriendlyProp.key:"ARRAY"===e.devFriendlyProp.type?t.enableTsArrays?0!==e.devFriendlyProp.index?"":e.devFriendlyProp.key:e.devFriendlyProp.nonArrayKey:void(0,x.xb)(e.devFriendlyProp)).filter(Boolean);if(t.includePropsType){let e=`${r.jsxName}Props`;o.length>0&&r.propsTypeRepr.typeDefBody&&(a.append(`type ${e} = `),a.append(Q(r.propsTypeRepr.typeDefBody)),a.newline()),a.append(`function ${r.jsxName}(`),o.length>0&&(t.topLevelComponentProps?(a.append(`{ ${o.join(", ")} }`),a.append(`: ${e}`)):a.append(`{componentProps} : {componentProps: ${e}}`)),a.append(") {")}else a.append(`const ${r.jsxName}: React.FC<${r.propsTypeRepr.typeDefBody??"{}"}> = (`),o.length>0&&a.append(`{${o.join(", ")}}`),a.append(") => {");if(a.newline(),!t.topLevelComponentProps&&o.length>0&&(a.append(`  const { ${o.join(", ")} } = componentProps`),a.newline()),"SYMBOL"===e.type)a.append(t.formatJSX?Z(iW(e,t,i)):`  return ${iW(e,t,i)}`),a.newline(),a.append("}");else if(e.isStateGroup){let r=!0;if(t.serializeAllVariants){let n=t.maxVariantsResultSize,o=0;for(let l of e.childrenNodes){let e=new K;if("SYMBOL"!==l.type)continue;let u=l.variantProperties();if(u){if(r&&t.formatJSX&&e.append("  "),r||e.append(" else "),e.append("if ("),e.append(Object.entries(u).map(([e,t])=>`${(0,s.toCamelCase)(e)} === ${JSON.stringify(t)}`).join(" && ")),e.append(") {"),t.formatJSX?(e.newline(),e.append(Y(Z(iW(l,t,i)),"  ")),e.newline(),e.append("  }")):(e.append(`    return ${iW(l,t,i)}`),e.newline(),e.append("}")),n){let t=e.toString().length;if(!r&&o+t>n)break;o+=t}a.append(e.toString()),r=!1}}t.formatJSX?(a.newline(),a.append("  return null")):a.append("  return null;")}else{let r=e.defaultVariant;r?a.append(t.formatJSX?Z(iW(r,t,i)):`  return ${iW(r,t,i)}`):a.append("return null")}a.newline(),a.append("}")}return{nodeId:e.guid,prefixTypes:t.formatJSX?n.map(e=>(function(e){if(e===s.CUSTOM_IMAGE_TYPE_STR)return e;let t=e.indexOf("{"),i=e.lastIndexOf("}");return -1===t||-1===i?e:e.substring(0,t)+Q(e.substring(t,i+1))+e.substring(i+1)})(e)):n,jsxStr:a.toString()}}let iU={serializeAsComponentDefinition:!0,flavor:"default",tailwind:!0,tailwindOnly:!0,includeIDs:!1,includeNames:!1,normalizeRootXY:!0,ignoreFetchingComponentData:!0};function iW(e,t,i={}){if("SYMBOL"!==e.type)throw Error(`Unexpected node type: ${e.type}`);return function(e,t={}){let{jsxElement:i,...r}=ij(e,t);return{jsxStr:(0,n.V)(i),...r}}(e,{...iU,topLevelComponentProps:t.topLevelComponentProps,...i}).jsxStr||"null"}}}]);

//# debugId=78fd778a-8063-552a-963a-268da4f1ffb8

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/08a23b347619e26ece4f7da341a4c60a98cb2f55/576-b292ee73a81eb506.min.js.map