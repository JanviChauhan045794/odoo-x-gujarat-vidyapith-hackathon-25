"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f9fe2750-c954-573a-80f3-5adac5bb0cb9")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[634],{480648:(e,t,a)=>{a.d(t,{$E:()=>u,$I:()=>m,$i:()=>o,Bf:()=>i,FH:()=>E,Fu:()=>d,ON:()=>l,WB:()=>p,Wf:()=>s,cx:()=>r,g1:()=>c,hD:()=>g,kL:()=>n,lO:()=>h,m4:()=>f,uU:()=>_,vq:()=>b});let n="shapes_sidebar--container--xAuta",r="shapes_sidebar--shadowContainer--WvEo9",l="shapes_sidebar--searchBar--MubYN",i="shapes_sidebar--shapesGrid--Fxda4",o="shapes_sidebar--seeAdditionalShapesButton--r-sNZ",s="shapes_sidebar--sidebarTileGrayScale--xWZIx",c="shapes_sidebar--swtTileSvgContainer--poVFu",d="shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",m="shapes_sidebar--lockedShapesSidebarTile--Qlofk shapes_sidebar--shapesSidebarTileBase--OjIj-",u="shapes_sidebar--sidebarSwtSvg--LuGXO",p="shapes_sidebar--selectedShapesSidebarTile--O3B8N shapes_sidebar--shapesSidebarTile--OBmOz shapes_sidebar--shapesSidebarTileBase--OjIj-",E="shapes_sidebar--chevronContainer--C6OWV",_="shapes_sidebar--sectionButton--Dip98",g="shapes_sidebar--connectorSpawnAnimation--RWzF1",f="shapes_sidebar--inlineUpsellContainer--oQyNT",h="shapes_sidebar--sidebarThumbnailSvg--15Iw-",b="shapes_sidebar--shapesSidebarLibraryItemTile--rL5X6"},488898:(e,t,a)=>{a.d(t,{s:()=>H});var n=a(411855),r=a(188507),l=a(629019),i=a.n(l),o=a(139879),s=a(563192),c=a(76265),d=a(622667),m=a(176160),u=a(183739),p=a(689102),E=a(688656),_=a(575561),g=a(125769),f=a(20620),h=a(138225),b=a(662068),v=a(563259),T=a(875877),y=a(663844),w=a(736041),C=a(140835),S=a(475824),I=a(1518),N=a(82497),L=a(240327),O=a(465424),k=a(219403),A=a(828239),R=a(668581),x=a(720670),M=a(122164);let D="color_palette_picker--header__iconButton--rFfgT";function P({customColorPalettes:e,closeColorPalettePicker:t,paletteType:a}){let l=(0,p.cD)(),o=(0,r.d4)(e=>(0,N._)(l,e)),[s,d]=(0,T.fp)(R.Ze),[m,u]=n.useState(!1),E=(0,f.Z9)(),_=n.useRef(null),g={uuid:L.fJ,name:(0,c.t)("whiteboard.color_palettes.figjam_colors"),baseColors:(0,k.TS)(a).map(e=>I.z5.format(e))};if(!e)return n.createElement("div",null);let h=[g].concat(e).map((e,a)=>n.createElement(F,{index:a,key:e.uuid,palette:e,isSelected:E.uuid===e.uuid,containerRef:_,defaultColorPaletteLength:g.baseColors.length,closeColorPalettePicker:t}));return n.createElement(C.fu,{name:O.e0.COLOR_PALETTE_PICKER},n.createElement("div",{className:i()({"color_palette_picker--wrapper--DVGTu":!0,"color_palette_picker--wrapper_onClose--zERit":s})},n.createElement("div",{ref:_,className:i()({"color_palette_picker--container--2HK33 modal--modalShadowFigJam--lkEJ2":!0,"color_palette_picker--container_onClose--NlCEf":s}),onAnimationEnd:()=>{s&&(d(!1),t())}},n.createElement(B,{teamName:o?.name||"",showBottomBorder:m}),n.createElement("div",{className:"color_palette_picker--paletteList--jdLIl"},n.createElement(y.P,{maxHeight:290,innerClassName:"color_palette_picker--scrollContainer__inner--GF0-Z",onScroll:e=>{e>0?u(!0):u(!1)}},h)))))}function F({palette:e,isSelected:t,index:a,containerRef:r,defaultColorPaletteLength:l,closeColorPalettePicker:o}){let s=(0,f.$v)(e.baseColors),c=(0,f.Bw)(),d=n.useRef(0===a?0:2*Math.random()*(a%2?1:-1)),m=r?.current?.offsetHeight||0,u={"--rowRotation":`rotate(${t?0:d.current}deg)`,"--translatePaletteRow":`${Math.max(m-80-32*a,0)}px`};return n.createElement("button",{className:i()({"color_palette_picker--paletteRow--9Pdbd":!0,"color_palette_picker--paletteRow_selected--um2Cd":t}),style:u,onClick:()=>{if(!t){let t=e.uuid===L.fJ?l:e.baseColors.length;c(e.uuid,t)}o(!0)},type:"button","data-tooltip-type":E.Ib.TEXT,"data-tooltip":e.name,"data-tooltip-max-width":200,"data-tooltip-show-above":!0,"data-testid":`color-palette-row-${e.uuid}`},s.map((t,a)=>n.createElement(A.cd,{key:e.uuid+S.F.format(t)+"-"+a,size:"medium",value:t,paletteType:"base",background:"light"})))}function B(e){let t=(0,r.wA)(),a=(0,f.X8)();return n.createElement("div",{className:i()({"color_palette_picker--header--m9FBq":!0,"color_palette_picker--header_bottomBorder--PRGsS":e.showBottomBorder})},e.teamName?(0,c.tx)("whiteboard.color_palettes.color_palette_picker.team_palettes",{teamName:e.teamName}):(0,c.t)("whiteboard.color_palettes.color_palette_picker.team_palettes_no_name"),a&&n.createElement("div",{className:"color_palette_picker--header__rightHand--z-7ux"},n.createElement(h.K,{onClick:()=>{t(w.$O({type:x.dV.type}))},"aria-label":(0,c.t)("whiteboard.color_palettes.dropdown.new_palette"),htmlAttributes:{"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.new_palette"),"data-tooltip-show-above":!0,"data-testid":"create-color-palette-button"}},n.createElement(b.e,{className:D})),n.createElement(h.K,{onClick:()=>{t(w.$O({type:M.j.type,data:{entryPoint:"whiteboard"}}))},"aria-label":(0,c.t)("whiteboard.color_palettes.dropdown.manage_palettes"),htmlAttributes:{"data-tooltip-type":E.Ib.TEXT,"data-tooltip":(0,c.t)("whiteboard.color_palettes.dropdown.manage_palettes"),"data-tooltip-show-above":!0,"data-testid":"manage-color-palettes-button"}},n.createElement(v.P,{className:D}))))}function H(e){let t=(0,p.cD)(),a=(0,r.d4)(e=>!!e.user),l=(0,f.WR)(),i=(0,f.VR)(),[s]=(0,o.IT)((0,u.iP2)({teamId:t}),{enabled:!!t}),c=l?s.data?.colorPalettesForTeam||[]:i?[i]:[],d=(0,m.q5)(),E=(0,r.d4)(e=>!!(d&&!t&&d.canManage&&e.currentUserOrgId)),_=a&&(E||l||t&&!!i),h=e.isInDltSubmenu?2:16,{closeColorPalettePicker:b,isColorPalettePickerOpen:v}=e.colorPalettePickerState;return _?n.createElement(g.A,{isOpen:v,onClose:b,positionY:(e,t)=>e.y-h-t.height,target:n.createElement(U,{shouldShowMoveToTeamTooltip:E,colorPalettePickerState:e.colorPalettePickerState,disabled:e.disabled,recordingKey:e.recordingKey,isInDltSubmenu:e.isInDltSubmenu}),renderPopoverContents:()=>n.createElement(P,{customColorPalettes:c,closeColorPalettePicker:b,paletteType:e.paletteType})}):null}function U({recordingKey:e,colorPalettePickerState:t,shouldShowMoveToTeamTooltip:a,disabled:l,isInDltSubmenu:o}){let m=(0,r.wA)();return n.createElement("div",{key:"caret",className:i()("color_palettes_submenu_picker--submenuPickerContainer--GTTBT",{"color_palettes_submenu_picker--submenuPickerContainerNested--wuRz-":!o,"color_palettes_submenu_picker--disabled--scEBs":l})},n.createElement(_.$n,{buttonStyle:{height:"100%",backgroundColor:"inherit"},caret:"up",animateCaret:o,isNewSubmenu:o,tabIndex:-1,active:"NONE",onClick:a?e=>{let t=e.target.closest("button");t&&m(d.eB({target:{kind:E.Ui.TEXT,text:(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team")},targetRect:t.getBoundingClientRect(),position:E.Zj.ABOVE}))}:()=>{if(!t)return;let{openColorPalettePicker:e,closeColorPalettePicker:a,isColorPalettePickerOpen:n}=t;n?a(!0):e()},testId:"color-palettes-picker-caret",recordingKey:(0,s.Pt)(e,"colorPalettesPickerCaret"),tooltip:a?(0,c.t)("whiteboard.color_palettes.tooltip.move_to_team"):void 0}))}},171327:(e,t,a)=>{a.d(t,{XH:()=>D,eX:()=>k,ng:()=>V,nm:()=>P,tA:()=>M,w5:()=>x});var n=a(411855),r=a(188507),l=a(570446),i=a(230208),o=a(841962),s=a(746643),c=a(563192),d=a(771952),m=a(693565),u=a(265851),p=a(76265),E=a(923219),_=a(965636),g=a(756044),f=a(788894),h=a(169253),b=a(219403),v=a(575561),T=a(274225),y=a(828239),w=a(690893),C=a(58502),S=a(578769),I=a(52921),N=a(389679),L=a(55443),O=a(659207);function k(e){return(0,r.d4)(t=>{let a=t.mirror.selectionProperties.whiteboardNumSelectedByType;return!!(a&&a[e])})}let A=(e,t)=>(!e.strokeStyle||!t.strokeStyle||e.strokeStyle===t.strokeStyle)&&(!e.strokeWeight||!t.strokeWeight||(0,f.Ru)(e.strokeWeight,e.strokeType)===(0,f.Ru)(t.strokeWeight,t.strokeType)),R=e=>String(e.strokeStyle??"")+String(e.strokeWeight??"");function x(){let e=!k("SHAPE_WITH_TEXT"),t=!k("SECTION");return e&&t}function M(){let e=!k("VECTOR"),t=!k("HIGHLIGHT");return e&&t}function D(){let e=M(),t=!k("CONNECTOR");return e&&t}function P(){let[e,t]=(0,_.lJ)("whiteboardStrokeStyle"),[a,r]=(0,_.lJ)("whiteboardStrokeWeight"),[i,f]=n.useState(!1),y=k("VECTOR"),S=k("HIGHLIGHT"),I=k("CONNECTOR"),N=k("INSTANCE"),L=k("SECTION"),O=(k("SHAPE_WITH_TEXT")||L||N)&&!I&&!S&&!y,P=(0,o.kc)().figjam_diagramming_improvements_v1&&O,K=(0,b.TS)("base"),[G,j]=(0,_.lJ)("whiteboardStrokeColor"),z=n.useCallback(e=>{e&&t(e,g.zk.NO)},[t]),[Z,$]=n.useState(e);n.useEffect(()=>{i||$(e)},[e,i]);let Y=n.useCallback(e=>{t(e),$(e)},[t]),X=n.useCallback(t=>{j(t),"none"===e&&Y("solid")},[j,Y,e]),J=n.useCallback(()=>{z(Z)},[z,Z]),Q=n.useCallback(e=>{i&&z(e.strokeStyle)},[z,i]),q={strokeStyle:e,strokeWeight:a,strokeType:y?"VECTOR":S?"HIGHLIGHT":I?"CONNECTOR":"NONE"},ee=M(),et=x(),ea=D(),en=(0,d.g)(),er=[];if(et&&(y?er.push({strokeWeight:h.wv,strokeType:"VECTOR"},{strokeWeight:h.uM,strokeType:"VECTOR"}):S?er.push({strokeWeight:h.g5,strokeType:"HIGHLIGHT"},{strokeWeight:h.Iz,strokeType:"HIGHLIGHT"}):I&&er.push({strokeWeight:h.wv,strokeType:"CONNECTOR"},{strokeWeight:h.uM,strokeType:"CONNECTOR"})),ee&&(er.length>0&&er.push("divider"),er.push({strokeStyle:"solid",strokeType:"SHAPE"},{strokeStyle:"dashed",strokeType:"SHAPE"})),ea&&er.push({strokeStyle:"none",strokeType:"VECTOR"}),0===er.length)return null;let el=(0,p.t)("whiteboard.inline_menu.line_style");return n.createElement(T.Fn,{value:q,onChange:e=>{e.strokeStyle&&Y(e.strokeStyle),e.strokeWeight&&r(e.strokeWeight)},optionEquality:A,renderButton:({onClick:e,onKeyDown:t,activeOptionId:a,ref:r,active:l})=>{let i;if(q.strokeStyle||q.strokeWeight){if(q.strokeStyle&&q.strokeWeight){let e=W(q.strokeStyle),t=V(q.strokeWeight);i=t?(0,p.t)("whiteboard.inline_menu.line_style_label_both",{currentStrokeStyle:e.toLocaleLowerCase(),currentStrokeWeight:t.toLocaleLowerCase()}):(0,p.t)("whiteboard.inline_menu.line_style_label_singular",{currentLineStyle:e.toLocaleLowerCase()})}else{let e=U(q);i=e?(0,p.t)("whiteboard.inline_menu.line_style_label_singular",{currentLineStyle:e.toLocaleLowerCase()}):void 0}}else i=void 0;return n.createElement(v.K0,{tooltip:el,svg:C.A,active:l?"NORMAL":"NONE",onPointerDown:e,onKeyDown:t,ref:r,recordingKey:(0,c.Pt)("whiteboardStrokeControl","strokeSelectorButton"),caret:"down",role:"combobox",ariaLabel:i,ariaActiveDescendant:a,ariaControls:en})},options:er,renderOption:({value:e,onClick:t,isSelected:a,id:r,isFocused:l})=>{let o=e=>{i&&t(e)};return P&&"divider"!==e?n.createElement(w.c,{key:(0,c.Pt)("whiteboardStrokeControlStrokeStyleKey",R(e)),icon:n.createElement(m.B,{className:u.s.colorIconOnbrand.$,svg:H(e,y,S,I)}),value:R(e),htmlAttributes:{onPointerUp:i?e=>o(e):s.lQ,onMouseLeave:J,onMouseEnter:()=>Q(e)}},W(void 0!==e.strokeStyle?e.strokeStyle:"none")):n.createElement(n.Fragment,{key:"divider"!==e?R(e):"divider"},"divider"!==e&&n.createElement(F,{value:e,id:r,svg:H(e,y,S,I),onOptionClick:o,isSelected:a,isFocused:l}),"divider"===e&&n.createElement(v.wv,null))},additionalContentsBottom:P?n.createElement(B,{strokeColor:G&&(0,E.hS)(G)?G:void 0,defaultPaletteColors:K,setWhiteboardStrokeColor:X}):void 0,OptionWrapper:P?function({children:e}){return n.createElement("div",{className:u.s.flex.flexRow.itemsCenter.itemsStart.h32.my4.px4.bb1.bSolid.colorBorderMenu.$},n.createElement(w.b,{value:Z,onChange:Y,legend:n.createElement(l.q,null,el),recordingKey:"whiteboardStrokeControlStrokeStyle"},e))}:(0,T.SC)(el,en),onToggleMenuOpen:t=>{i&&!t&&Z!==e&&z(Z),f(t)}})}function F({value:e,id:t,svg:a,onOptionClick:r,isSelected:l,isFocused:i}){return n.createElement(v.K0,{id:t,svg:a,tooltip:U(e),onPointerUp:r,active:l?"LOUD":"NONE",recordingKey:(0,c.Pt)("whiteboardStrokeControl","strokeSelectorOption",R(e)),role:"option",focused:i})}function B({strokeColor:e,defaultPaletteColors:t,setWhiteboardStrokeColor:a}){return n.createElement("div",{className:u.s.flex.flexRow.mx8.mb8.$},t.map(t=>n.createElement(y.cd,{key:(0,i.F_)(t),value:t,paletteType:"base",background:"dark",selectionState:e&&(0,i.F_)(e)===(0,i.F_)(t)?"selected":"unselected",onClick:()=>{a(t)},recordingKey:(0,c.Pt)("whiteboardStrokeControl","strokeSelectorOption",(0,i.F_)(t))})))}function H(e,t,a,n){return e.strokeStyle?function(e){switch(e){case"solid":return O.A;case"dashed":return I.A}return S.A}(e.strokeStyle):e.strokeWeight?function(e,t,a,n){if(t)switch(e){case h.wv:break;case h.uM:return N.A}else if(a)switch(e){case h.g5:break;case h.Iz:return N.A}else if(n)switch(e){case h.eQ:break;case h._W:return N.A}return L.A}(e.strokeWeight,t,a,n):S.A}function U(e){return e.strokeStyle?W(e.strokeStyle):e.strokeWeight?V(e.strokeWeight):void 0}function V(e){switch(e){case h.wv:return(0,p.t)("whiteboard.delightful_toolbar.thin");case h.uM:return(0,p.t)("whiteboard.delightful_toolbar.thick");default:return}}function W(e){switch(e){case"solid":return(0,p.t)("whiteboard.inline_menu.stroke_solid");case"dashed":return(0,p.t)("whiteboard.inline_menu.stroke_dashed");default:return(0,p.t)("whiteboard.inline_menu.stroke_none")}}},402004:(e,t,a)=>{a.r(t),a.d(t,{DelightfulToolbarWithErrorBoundary:()=>ae});var n=a(411855),r=a(188507),l=a(708159),i=a(805014),o=a(629019),s=a.n(o),c=a(991458),d=a(931223),m=a(524696),u=a(875877),p=a(746643),E=a(747484),_=a(896948),g=a(499875),f=a(76265),h=a(4035),b=a(535461),v=a(916348),T=a(140835),y=a(972311),w=a(631016),C=a(58590),S=a(49039),I=a(427494),N=a(798361),L=a(176160),O=a(314540),k=a(708862),A=a(838200),R=a(614948),x=a(907626),M=a(20620),D=a(753716),P=a(259224),F=a(324588),B=a(520244),H=a(880721),U=a(265851),V=a(736041),W=a(17607),K=a(408407),G=a(190253),j=a(977838),z=a(633644),Z=a(540680),$=a(162476);function Y(e){let t=(0,r.wA)(),a=(0,K.a9)(),[l,i]=(0,n.useState)(!0);(0,j.h)(l);let o=(0,L.tS)(),s=(0,Z.FL)();if(!l)return null;let c=e.shouldShowCurf?n.createElement(B.$n,{variant:"primary",onClick:()=>{if(!a)return;let e=G.oM.WHITEBOARD;t(V.to({type:z.Y,data:{orgId:a.org_id,orgUser:a,entryPoint:W.PE.CurfProvisionalAccessBanner,licenseType:e,fileKey:o??""},showModalsBeneath:!0}))}},(0,f.t)("fullscreen.toolbar_banner.provisional_access.curf.cta")):void 0;return n.createElement($.p,{leftContent:{icon:n.createElement(H.a,null)},content:n.createElement("div",null,n.createElement("span",{className:U.s.textBodyLargeStrong.$},e.text)),trackingContext:"Provisional Access DLT Banner",isFloatingBanner:!0,shouldHide:s,onClose:()=>{i(!1)},rightContent:c})}var X=a(93338),J=a(617721),Q=a(278695),q=a(45362),ee=a(117736),et=a(567095),ea=a(74960);let en=(0,n.memo)(function(){let e=(0,I.aV)(),t=(0,q.kD)(),a=(0,ee.b4)(),r=(0,L.q5)();if(!(0,q.tS)()||e)return null;let l={icon:n.createElement(X.Q,null)},i=t?.publishedByUser?.handle?n.createElement("div",null,(0,f.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_team_template",{userName:n.createElement("b",null,t?.publishedByUser.handle)})):(0,f.tx)("whiteboard.delightful_toolbar.custom_template_banner.youre_viewing_a_template");return n.createElement($.p,{leftContent:l,content:i,rightContent:n.createElement(er,{onCopyClick:()=>{t&&r&&a({templateIdentifier:{type:et.vt.TeamTemplate,file_key:t.fileKey},templateName:t.name})}}),trackingContext:"Custom Template Notice DLT Banner"})});function er(e){return n.createElement("div",{className:U.s.flex.gap8.itemsCenter.mr6.$},n.createElement(ea.RJ,{viewOnly:!0,variant:"brand-secondary"}),n.createElement(J.V,{onClick:e.onCopyClick,variant:"primary",trackingProperties:{trackingDescriptor:Q.c.USE_IN_NEW_FILE}},(0,f.tx)("whiteboard.delightful_toolbar.custom_template_banner.new_file_button")))}var el=a(279037),ei=a(220482),eo=a(688656),es=a(591844),ec=a(720826),ed=a(788894),em=a(911569),eu=a(246089),ep=a(433);let eE="select-and-hand",e_={offsetX:-8,offsetY:0};function eg(){let e=(0,r.d4)(e=>e.mirror.appModel.currentTool===i.NLJ.SELECT),t=(0,C.LR)(),a=n.useCallback(()=>{t(!1),i.glU.triggerActionInUserEditScope("set-tool-default-figjam",{source:F.fK})},[t]);return n.createElement(eu.IB,{ButtonLayout:em.Z,toolType:"select",className:ep.Lt,recordingKey:(0,ed.hx)("select"),isSelected:e,onClick:a,"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"set-tool-default-desc-figjam",tooltipLocation:"left",tooltipOffset:e_,isEnabledForViewers:!0,hasOpenSubmenu:!1},n.createElement(ec.wB,null))}function ef(){let e=(0,r.d4)(e=>e.mirror.appModel.currentTool===i.NLJ.HAND),t=(0,C.LR)(),a=n.useCallback(()=>{t(!1),i.glU.triggerActionInUserEditScope("set-tool-hand",{source:F.fK})},[t]);return n.createElement(eu.IB,{ButtonLayout:em.Z,toolType:"hand",className:ep.sD,recordingKey:(0,ed.hx)("hand"),isSelected:e,onClick:a,"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"set-tool-hand",tooltipLocation:"left",tooltipOffset:e_,onboardingKey:es.N,isEnabledForViewers:!0,hasOpenSubmenu:!1},n.createElement(ec.jN,null))}function eh(){return n.createElement("div",{className:ep.fp,"data-element-target":eE},n.createElement(eg,null),n.createElement(ef,null))}var eb=a(306708),ev=a(756055),eT=a(855723);let ey=(0,n.memo)(function(e){let{dltRef:t}=e,a=(0,I.aV)(),[r,l]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let e=t.current;if(!e)return;let a=e=>{(0,ei.n3)(e.target,(0,ei.Tc)(eE))||l(!0)};return e.addEventListener("click",a),()=>e.removeEventListener("click",a)},[t]);let i=(0,n.useMemo)(()=>({icon:n.createElement(el._,null),text:(0,f.t)("whiteboard.delightful_toolbar.view_only")}),[]),o=(0,n.useMemo)(()=>(0,f.tx)("whiteboard.delightful_toolbar.version_history_banner_text",{selectIcon:n.createElement(eb.kf,{icon:eT.A}),handIcon:n.createElement(eb.kf,{icon:ev.A})}),[]);return a||!r?null:n.createElement($.p,{leftContent:i,content:o,trackingContext:"Version history DLT Banner",onClose:()=>l(!1)})});var ew=a(910164),eC=a(343373),eS=a(786140),eI=a(605931);let eN=(0,n.memo)(function(e){let{dltRef:t}=e,a=(0,I.aV)(),[r,l]=(0,n.useState)(!0),i=(0,eC.GS)(),o=(0,R.N)()===R.Q.REQUEST_NEEDED;(0,n.useEffect)(()=>{let e=t.current;if(!e||o)return;let a=e=>{(0,ei.n3)(e.target,(0,ei.Tc)(eE))||l(!0)};return e.addEventListener("click",a),()=>e.removeEventListener("click",a)},[t,o]);let s=(0,n.useMemo)(()=>o?{icon:n.createElement(el._,null)}:{icon:n.createElement(el._,null),text:(0,f.t)("whiteboard.delightful_toolbar.view_only")},[o]),[c,d,m]=function(e){let[t,a]=(0,n.useState)(!1),[r,l]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!e)return;let t=setTimeout(()=>{a(!0),setTimeout(()=>a(!1),200)},1e3),n=setTimeout(()=>{l(!0),setTimeout(()=>l(!1),200)},1100),r=setTimeout(()=>{o(!0),setTimeout(()=>o(!1),200)},1200);return()=>{clearTimeout(t),clearTimeout(n),clearTimeout(r)}},[e]),[t,r,i]}(r),u=(0,eS.S)(),p=!!L.q5()?.org?.figjamDisabledAt,E=(0,n.useMemo)(()=>u&&p?(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text_figjam_disabled_by_org_no_chat",{commentKey:n.createElement(eI.uk,{isPressed:c}),emoteKey:n.createElement(eI.VQ,{isPressed:d})}):u?o?(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text_no_chat_in_exp",{commentKey:n.createElement(eI.uk,{isPressed:c}),emoteKey:n.createElement(eI.VQ,{isPressed:d})}):(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text_no_chat",{commentKey:n.createElement(eI.uk,{isPressed:c}),emoteKey:n.createElement(eI.VQ,{isPressed:d})}):p?(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text_figjam_disabled_by_org",{commentKey:n.createElement(eI.uk,{isPressed:c}),chatKey:n.createElement(eI.fn,{isPressed:d}),emoteKey:n.createElement(eI.VQ,{isPressed:m})}):o?(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text_in_exp",{commentKey:n.createElement(eI.uk,{isPressed:c}),chatKey:n.createElement(eI.fn,{isPressed:d}),emoteKey:n.createElement(eI.VQ,{isPressed:m})}):(0,f.tx)("whiteboard.delightful_toolbar.view_only_banner_text",{commentKey:n.createElement(eI.uk,{isPressed:c}),chatKey:n.createElement(eI.fn,{isPressed:d}),emoteKey:n.createElement(eI.VQ,{isPressed:m})}),[u,p,c,d,m,o]),_=(0,n.useMemo)(()=>n.createElement("div",{style:ew.sx.if(i,{marginRight:"5px"}).$},n.createElement(ea.RJ,{viewOnly:!0,variant:"primary",recordingKey:"dltBannerViewPermission",hideViewOnlyText:!0})),[i]);if(a||!r)return null;let g=i?o?()=>{l(!1),e.onClose&&e.onClose(!0)}:void 0:()=>l(!1);return n.createElement($.p,{leftContent:s,content:E,rightContent:_,trackingContext:"View-only DLT Banner",onClose:g,isFloatingBanner:o})});var eL=a(873137),eO=a(554147),ek=a(593587),eA=a(643225),eR=a(15092),ex=a(948927),eM=a(142783),eD=a(619229),eP=a(144349),eF=a(391288),eB=a(17779),eH=a(563192),eU=a(722294),eV=a(827988),eW=a(843747),eK=a(71975),eG=a(767543),ej=a(140433),ez=a(965361),eZ=a(253544),e$=a(392789);function eY(){let e=(0,I.aV)(),t=(0,u.md)(eZ.wg),[a,r]=(0,u.fp)(eL.gT),l=(0,R.N)();return(n.useEffect(()=>{!e&&a&&(t||l===R.Q.NO_REQUEST_NEEDED)&&r(!1)},[e,t,l,a,r]),e||t||l===R.Q.DATA_LOADING)?n.createElement(n.Fragment,null):n.createElement("div",{className:a?ep.qG:ep.Xn},n.createElement(eW.X,{"data-onboarding-key":e$.aE},n.createElement(eW.I,null,n.createElement(eK.kF,{editorTheme:"whiteboard"},n.createElement(eX,null)))))}function eX(){let e=(0,ez.n6)(),{activeToolId:t,activateTool:a,topLevelMode:r,editModeType:l}=(0,ej.rM)(eG.lW),o=r===i.lyf.HISTORY,s=(0,eG.uh)(),c=(0,eG.zr)(l);return n.createElement(n.Fragment,null,c&&n.createElement(n.Fragment,null,n.createElement(eV.N,{toolId:i.NLJ.SELECT,icon:n.createElement(eD.H,null),onActivateTool:a,activeToolId:t,tooltipText:(0,f.t)("fullscreen_actions.set-tool-default"),tooltipShortcut:s(i.NLJ.SELECT)}),n.createElement(eV.N,{toolId:i.NLJ.HAND,icon:n.createElement(eP.t,null),onActivateTool:a,activeToolId:t,tooltipText:(0,f.t)("fullscreen_actions.set-tool-hand"),tooltipShortcut:s(i.NLJ.HAND)})),!o&&n.createElement(eV.N,{toolId:i.NLJ.COMMENTS,icon:e>0?n.createElement(eF.X,null):n.createElement(eB.f,null),onActivateTool:a,activeToolId:t,recordingKey:eH.Pt("toolbarView","toolComment"),tooltipText:(0,f.t)("fullscreen_actions.comment"),tooltipShortcut:s(i.NLJ.COMMENTS)}),n.createElement(eU.F,null))}var eJ=a(48929),eQ=a(475824),eq=a(511611),e0=a(841962),e1=a(612724),e2=a(693565),e5=a(434992),e3=a(169253),e4=a(970717);function e6({width:e,height:t,offsetX:a,offsetY:r,imageSrc:l,imageWidth:i,imageHeight:o}){return n.createElement("div",{className:ep.bY,style:{width:e,height:t,background:`url(${l})`,backgroundPosition:`${-a}px ${-r}px`,backgroundSize:`${i}px ${o}px`}})}var e8=a(18840);function e7(e){let{isThick:t,placeholderType:a,children:r}=e,l=(0,e8.$)(t),i=(0,e8.$)(a),o=l&&!i,s=(0,n.useMemo)(()=>o?t?"dlt_thick_marker_wrapper--animateGrow--3RPxo":"dlt_thick_marker_wrapper--animateShrink--uvdf9":t?"dlt_thick_marker_wrapper--thick---a4z7":"dlt_thick_marker_wrapper--thin--Fpc7d",[t,o]);return n.createElement("div",{className:s},r)}var e9=a(889148),te=a(383658);function tt({action:e}){let t=(0,u.md)(eJ.GI),a=(0,u.md)(eJ.IZ),r=eQ.F.format(t.paints?.[0]?.color),l=eQ.F.format(a.paints?.[0]?.color);return"set-tool-eraser"===e?n.createElement(tl,{type:"Eraser",size:"Big"}):"set-tool-highlighter"===e?n.createElement(tl,{type:"Highlighter",size:"Big",color:l}):"set-tool-pencil"===e?n.createElement(tl,{type:"Pencil",size:"Big",color:r}):"set-tool-washi-tape"===e?n.createElement(tl,{type:"Washi tape",size:"Big"}):null}function ta({action:e}){let t="set-tool-eraser"===e?"Eraser":"set-tool-highlighter"===e?"Highlighter":"set-tool-pencil"===e?"Pencil":"set-tool-washi-tape"===e?"Washi tape":null;return t&&n.createElement(tl,{type:t,size:"Big",isPlaceholder:!0})}let tn={imageSrc:(0,e0.ck)("73db92005c6f44c51579c75c42abbba8b471b4af"),imageWidth:356,imageHeight:136},tr={EraserBig:{offsetX:4,offsetY:0,width:68,height:136,...tn},EraserSmall:{offsetX:82,offsetY:40,width:64,height:96,...tn},EraserBigPlaceholder:{offsetX:152,offsetY:0,width:68,height:136,...tn},PencilBigPlaceholder:{offsetX:220,offsetY:0,width:68,height:136,...tn},HighlighterBigPlaceholder:{offsetX:288,offsetY:0,width:68,height:136,...tn}};function tl({type:e,size:t,color:a,isPlaceholder:r=!1}){let l=(0,u.md)(eJ.GI),i=(0,u.md)(eJ.IZ),o=l.strokeWeight===e3.uM,s=i.strokeWeight===e3.Iz;if(r)switch(e){case"Washi tape":return n.createElement(e2.B,{svg:te.A,className:ep.cf});case"Eraser":case"Highlighter":case"Pencil":let c=tr[`${e}${t}Placeholder`];return n.createElement(e7,{isThick:"Pencil"===e&&o||"Highlighter"===e&&s,placeholderType:r?e:void 0},e6(c))}else switch(e){case"Eraser":return e6(tr["Big"===t?"EraserBig":"EraserSmall"]);case"Highlighter":let d="Big"===t?n.createElement(ts,{color:a}):n.createElement(tc,{color:a});return n.createElement(e7,{isThick:s},d);case"Pencil":let m="Big"===t?n.createElement(ti,{color:a}):n.createElement(to,{color:a});return n.createElement(e7,{isThick:o},m);case"Washi tape":return n.createElement(tu,{size:t})}}function ti({color:e=e9.jR}){return n.createElement("svg",{className:s()({[ep.jU]:!0,[ep.cq]:!0}),width:"48",height:"136",viewBox:"20 0 48 136",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_5757_63520)"},n.createElement("g",{filter:"url(#filter0_i_5757_63520)"},n.createElement("path",{d:"M39.3445 33C37.3713 33 35.6436 34.3242 35.1308 36.2296L21.338 85.3986C20.4502 88.5634 20.0001 91.8349 20.0001 95.1218L20 136H68V95.1388C68 91.8408 67.5468 88.5585 66.6532 85.384L52.8339 36.2922C52.3435 34.356 50.6011 33 48.6038 33H39.3445Z",fill:"white"}),n.createElement("path",{d:"M39.3445 33C37.3713 33 35.6436 34.3242 35.1308 36.2296L21.338 85.3986C20.4502 88.5634 20.0001 91.8349 20.0001 95.1218L20 136H68V95.1388C68 91.8408 67.5468 88.5585 66.6532 85.384L52.8339 36.2922C52.3435 34.356 50.6011 33 48.6038 33H39.3445Z",fill:"url(#paint0_linear_5757_63520)"})),n.createElement("g",{opacity:"0.36",filter:"url(#filter1_f_5757_63520)"},n.createElement("rect",{x:"39",y:"34",width:"12",height:"102",fill:e,className:ep.cq})),n.createElement("path",{d:"M39.3445 33C37.3713 33 35.6436 34.3242 35.1308 36.2296L21.338 85.3986C20.4502 88.5634 20.0001 91.8349 20.0001 95.1218L20 136H68V95.1388C68 91.8408 67.5468 88.5585 66.6532 85.384L52.8339 36.2922C52.3435 34.356 50.6011 33 48.6038 33H39.3445Z",fill:"white",fillOpacity:"0.3"}),n.createElement("path",{d:"M35.3715 36.2972L35.3716 36.2972L35.3722 36.2946C35.8557 34.4983 37.4844 33.25 39.3445 33.25H48.6038C50.4867 33.25 52.1292 34.5284 52.5915 36.3536L52.5915 36.3536L52.5932 36.3599L66.4125 85.4517C67.3 88.6042 67.75 91.8638 67.75 95.1388V135.75H20.25L20.2501 95.1218C20.2501 91.8577 20.6971 88.6089 21.5787 85.4661L35.3715 36.2972Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),n.createElement("path",{d:"M42.5019 17.1186C42.6985 16.4551 43.308 16 44 16V16C44.692 16 45.3015 16.4551 45.4981 17.1186L50.5 34H37.5L42.5019 17.1186Z",fill:e,className:ep.cq}),n.createElement("path",{d:"M45.2584 17.1896L50.1652 33.75H37.8348L42.7416 17.1896C42.9067 16.6323 43.4187 16.25 44 16.25C44.5813 16.25 45.0933 16.6323 45.2584 17.1896Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_i_5757_63520",x:"20",y:"33",width:"48",height:"104.091",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"3.27273"}),n.createElement("feGaussianBlur",{stdDeviation:"0.545455"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.54 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_5757_63520"})),n.createElement("filter",{id:"filter1_f_5757_63520",x:"32",y:"28",width:"24",height:"114",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5757_63520"})),n.createElement("linearGradient",{id:"paint0_linear_5757_63520",x1:"20",y1:"151",x2:"67.9944",y2:"150.483",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.262579",stopColor:"white",stopOpacity:"0.0823736"}),n.createElement("stop",{offset:"0.743368",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.2"})),n.createElement("clipPath",{id:"clip0_5757_63520"},n.createElement("rect",{width:"88",height:"136",fill:"white"}))))}function to({color:e=e9.jR}){return n.createElement("svg",{className:ep.Kb,width:"64",height:"96",viewBox:"0 0 64 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_i_5757_63551)"},n.createElement("path",{d:"M28.8964 23.3333C27.5809 23.3333 26.4291 24.2161 26.0872 25.4863L16.892 58.2656C16.3002 60.3755 16 62.5565 16 64.7478L16 92H48V64.7591C48 62.5605 47.6979 60.3723 47.1021 58.2559L37.8893 25.5281C37.5623 24.2373 36.4008 23.3333 35.0692 23.3333H28.8964Z",fill:"white"}),n.createElement("path",{d:"M28.8964 23.3333C27.5809 23.3333 26.4291 24.2161 26.0872 25.4863L16.892 58.2656C16.3002 60.3755 16 62.5565 16 64.7478L16 92H48V64.7591C48 62.5605 47.6979 60.3723 47.1021 58.2559L37.8893 25.5281C37.5623 24.2373 36.4008 23.3333 35.0692 23.3333H28.8964Z",fill:"url(#paint0_linear_5757_63551)"})),n.createElement("g",{opacity:"0.36",filter:"url(#filter1_f_5757_63551)"},n.createElement("rect",{x:"28",y:"24",width:"8",height:"68",fill:e,className:ep.cq})),n.createElement("path",{d:"M28.8964 23.3333C27.5809 23.3333 26.4291 24.2161 26.0872 25.4863L16.892 58.2656C16.3002 60.3755 16 62.5565 16 64.7478L16 92H48V64.7591C48 62.5605 47.6979 60.3723 47.1021 58.2559L37.8893 25.5281C37.5623 24.2373 36.4008 23.3333 35.0692 23.3333H28.8964Z",fill:"white",fillOpacity:"0.3"}),n.createElement("path",{d:"M26.3279 25.5539L26.3279 25.5539L26.3286 25.5513C26.6411 24.3902 27.6939 23.5833 28.8964 23.5833H35.0692C36.2863 23.5833 37.3481 24.4096 37.6469 25.5894L37.6468 25.5895L37.6486 25.5958L46.8615 58.3236C47.451 60.418 47.75 62.5834 47.75 64.7591V91.75H16.25L16.25 64.7478C16.25 62.5793 16.547 60.421 17.1327 58.3331L26.3279 25.5539Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),n.createElement("path",{d:"M31.0016 12.7457C31.1326 12.3034 31.539 12 32.0003 12V12C32.4616 12 32.868 12.3034 32.9991 12.7457L36.3337 24H27.667L31.0016 12.7457Z",fill:e,className:ep.cq}),n.createElement("path",{d:"M32.7594 12.8168L35.9988 23.75H28.0018L31.2413 12.8168C31.3409 12.4806 31.6497 12.25 32.0003 12.25C32.3509 12.25 32.6598 12.4806 32.7594 12.8168Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}),n.createElement("defs",null,n.createElement("filter",{id:"filter0_i_5757_63551",x:"16",y:"23.3333",width:"32",height:"69.394",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"2.18182"}),n.createElement("feGaussianBlur",{stdDeviation:"0.363636"}),n.createElement("feComposite",{in2:"hardAlpha",operator:"arithmetic",k2:"-1",k3:"1"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.54 0"}),n.createElement("feBlend",{mode:"normal",in2:"shape",result:"effect1_innerShadow_5757_63551"})),n.createElement("filter",{id:"filter1_f_5757_63551",x:"24",y:"20",width:"16",height:"76",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2",result:"effect1_foregroundBlur_5757_63551"})),n.createElement("linearGradient",{id:"paint0_linear_5757_63551",x1:"16",y1:"102",x2:"47.9963",y2:"101.655",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.2"}),n.createElement("stop",{offset:"0.262579",stopColor:"white",stopOpacity:"0.0823736"}),n.createElement("stop",{offset:"0.743368",stopColor:"white",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.2"}))))}function ts({color:e=e9.wO}){return n.createElement("svg",{width:72,height:"136",viewBox:"8 10 76 136",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{filter:"url(#filter0_dddd_5186_59156)"},n.createElement("mask",{id:"mask0_5186_59156",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"18",y:"42",width:"56",height:"104"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 42H38.6877C36.651 42 35 43.651 35 45.6877V52.7536C35 65.7533 29.8239 78.2181 20.6154 87.3939C18.9411 89.0622 18 91.3286 18 93.6921V99.9765V146H46H74V99.9765V93.6921C74 91.3286 73.0589 89.0622 71.3846 87.3939C62.1761 78.2181 57 65.7533 57 52.7536V45.6877C57 43.651 55.349 42 53.3123 42H46Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_5186_59156)"},n.createElement("mask",{id:"path-2-inside-1_5186_59156",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 42H38.6877C36.651 42 35 43.651 35 45.6877V52.7536C35 65.7533 29.8239 78.2181 20.6154 87.3939C18.9411 89.0622 18 91.3286 18 93.6921V99.9765V146H46H74V99.9765V93.6921C74 91.3286 73.0589 89.0622 71.3846 87.3939C62.1761 78.2181 57 65.7533 57 52.7536V45.6877C57 43.651 55.349 42 53.3123 42H46Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 42H38.6877C36.651 42 35 43.651 35 45.6877V52.7536C35 65.7533 29.8239 78.2181 20.6154 87.3939C18.9411 89.0622 18 91.3286 18 93.6921V99.9765V146H46H74V99.9765V93.6921C74 91.3286 73.0589 89.0622 71.3846 87.3939C62.1761 78.2181 57 65.7533 57 52.7536V45.6877C57 43.651 55.349 42 53.3123 42H46Z",fill:"#FDFDFD"}),n.createElement("path",{d:"M20.6154 87.3939L20.9683 87.7481H20.9683L20.6154 87.3939ZM18 146H17.5V146.5H18V146ZM74 146V146.5H74.5V146H74ZM71.3846 87.3939L71.0317 87.7481L71.3846 87.3939ZM38.6877 42.5H46V41.5H38.6877V42.5ZM35.5 45.6877C35.5 43.9272 36.9272 42.5 38.6877 42.5V41.5C36.3749 41.5 34.5 43.3749 34.5 45.6877H35.5ZM35.5 52.7536V45.6877H34.5V52.7536H35.5ZM20.9683 87.7481C30.271 78.4784 35.5 65.8863 35.5 52.7536H34.5C34.5 65.6204 29.3769 77.9577 20.2625 87.0397L20.9683 87.7481ZM18.5 93.6921C18.5 91.4615 19.3882 89.3226 20.9683 87.7481L20.2625 87.0397C18.494 88.8019 17.5 91.1956 17.5 93.6921H18.5ZM18.5 99.9765V93.6921H17.5V99.9765H18.5ZM18.5 146V99.9765H17.5V146H18.5ZM46 145.5H18V146.5H46V145.5ZM46 146.5H74V145.5H46V146.5ZM74.5 146V99.9765H73.5V146H74.5ZM74.5 99.9765V93.6921H73.5V99.9765H74.5ZM74.5 93.6921C74.5 91.1956 73.506 88.8019 71.7375 87.0397L71.0317 87.7481C72.6118 89.3226 73.5 91.4615 73.5 93.6921H74.5ZM71.7375 87.0397C62.6231 77.9577 57.5 65.6204 57.5 52.7536H56.5C56.5 65.8863 61.729 78.4784 71.0317 87.7481L71.7375 87.0397ZM57.5 52.7536V45.6877H56.5V52.7536H57.5ZM57.5 45.6877C57.5 43.3749 55.6251 41.5 53.3123 41.5V42.5C55.0728 42.5 56.5 43.9272 56.5 45.6877H57.5ZM53.3123 41.5H46V42.5H53.3123V41.5Z",fill:"black",fillOpacity:"0.25",mask:"url(#path-2-inside-1_5186_59156)"}),n.createElement("g",{filter:"url(#filter1_f_5186_59156)"},n.createElement("mask",{id:"path-4-inside-2_5186_59156",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 42H38.6877C36.651 42 35 43.651 35 45.6877V52.7536C35 65.7533 29.8239 78.2181 20.6154 87.3939C18.9411 89.0622 18 91.3286 18 93.6921V99.9765V146H46H74V99.9765V93.6921C74 91.3286 73.0589 89.0622 71.3846 87.3939C62.1761 78.2181 57 65.7533 57 52.7536V45.6877C57 43.651 55.349 42 53.3123 42H46Z"})),n.createElement("path",{d:"M20.6154 87.3939L22.7329 89.519L22.7329 89.519L20.6154 87.3939ZM18 146H15V149H18V146ZM74 146V149H77V146H74ZM71.3846 87.3939L69.2671 89.519L69.2671 89.519L71.3846 87.3939ZM38.6877 45H46V39H38.6877V45ZM38 45.6877C38 45.3079 38.3079 45 38.6877 45V39C34.9942 39 32 41.9942 32 45.6877H38ZM38 52.7536V45.6877H32V52.7536H38ZM22.7329 89.519C32.5064 79.7803 38 66.5508 38 52.7536H32C32 64.9558 27.1415 76.6559 18.4978 85.2688L22.7329 89.519ZM21 93.6921C21 92.1261 21.6236 90.6244 22.7329 89.519L18.4978 85.2688C16.2586 87.5001 15 90.5311 15 93.6921H21ZM21 99.9765V93.6921H15V99.9765H21ZM21 146V99.9765H15V146H21ZM46 143H18V149H46V143ZM46 149H74V143H46V149ZM77 146V99.9765H71V146H77ZM77 99.9765V93.6921H71V99.9765H77ZM77 93.6921C77 90.5311 75.7414 87.5001 73.5022 85.2688L69.2671 89.519C70.3764 90.6244 71 92.1261 71 93.6921H77ZM73.5022 85.2688C64.8585 76.6559 60 64.9558 60 52.7536H54C54 66.5508 59.4936 79.7803 69.2671 89.519L73.5022 85.2688ZM60 52.7536V45.6877H54V52.7536H60ZM60 45.6877C60 41.9942 57.0058 39 53.3123 39V45C53.6921 45 54 45.3079 54 45.6877H60ZM53.3123 39H46V45H53.3123V39Z",fill:"black",fillOpacity:"0.2",mask:"url(#path-4-inside-2_5186_59156)"})),n.createElement("g",{filter:"url(#filter2_f_5186_59156)"},n.createElement("mask",{id:"path-6-inside-3_5186_59156",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46 42H38.6877C36.651 42 35 43.651 35 45.6877V52.7536C35 65.7533 29.8239 78.2181 20.6154 87.3939C18.9411 89.0622 18 91.3286 18 93.6921V99.9765V146H46H74V99.9765V93.6921C74 91.3286 73.0589 89.0622 71.3846 87.3939C62.1761 78.2181 57 65.7533 57 52.7536V45.6877C57 43.651 55.349 42 53.3123 42H46Z"})),n.createElement("path",{d:"M20.6154 87.3939L21.3212 88.1023L21.3212 88.1023L20.6154 87.3939ZM18 146H17V147H18V146ZM74 146V147H75V146H74ZM71.3846 87.3939L70.6788 88.1023L70.6788 88.1023L71.3846 87.3939ZM38.6877 43H46V41H38.6877V43ZM36 45.6877C36 44.2033 37.2033 43 38.6877 43V41C36.0988 41 34 43.0988 34 45.6877H36ZM36 52.7536V45.6877H34V52.7536H36ZM21.3212 88.1023C30.7181 78.7388 36 66.0192 36 52.7536H34C34 65.4875 28.9298 77.6973 19.9095 86.6855L21.3212 88.1023ZM19 93.6921C19 91.5944 19.8353 89.583 21.3212 88.1023L19.9095 86.6855C18.0469 88.5415 17 91.0627 17 93.6921H19ZM19 99.9765V93.6921H17V99.9765H19ZM19 146V99.9765H17V146H19ZM46 145H18V147H46V145ZM46 147H74V145H46V147ZM75 146V99.9765H73V146H75ZM75 99.9765V93.6921H73V99.9765H75ZM75 93.6921C75 91.0627 73.9531 88.5415 72.0905 86.6855L70.6788 88.1023C72.1647 89.583 73 91.5944 73 93.6921H75ZM72.0905 86.6855C63.0702 77.6973 58 65.4875 58 52.7536H56C56 66.0192 61.2819 78.7388 70.6788 88.1023L72.0905 86.6855ZM58 52.7536V45.6877H56V52.7536H58ZM58 45.6877C58 43.0988 55.9012 41 53.3123 41V43C54.7967 43 56 44.2033 56 45.6877H58ZM53.3123 41H46V43H53.3123V41Z",fill:"black",fillOpacity:"0.4",mask:"url(#path-6-inside-3_5186_59156)"})),n.createElement("g",{filter:"url(#filter3_f_5186_59156)"},n.createElement("path",{d:"M45.6877 42C43.651 42 41 43.651 41 45.6877V52.7536C41 65.7533 39.8239 78.2181 30.6154 87.3939C28.9411 89.0622 28 91.3286 28 93.6921V146H64V93.6921C64 91.3286 63.0589 89.0622 61.3846 87.3939C52.1761 78.2181 51 65.7533 51 52.7536V45.6877C51 43.651 48.349 42 46.3123 42H45.6877Z",fill:"white"})),n.createElement("rect",{x:"18",y:"98",width:"56",height:"52",fill:e,className:ep.cq}),n.createElement("rect",{x:"18",y:"98",width:"56",height:"52",fill:"url(#paint0_linear_5186_59156)"}),n.createElement("rect",{x:"18",y:"98",width:"56",height:"52",fill:"url(#paint1_linear_5186_59156)"}),n.createElement("rect",{x:"18.25",y:"98.25",width:"55.5",height:"51.5",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"})),n.createElement("path",{d:"M38 32.693C38 32.2762 38.2586 31.903 38.6489 31.7567L52.6489 26.5067C53.3026 26.2615 54 26.7448 54 27.443V42.5H38V32.693Z",fill:e,className:ep.cq}),n.createElement("path",{d:"M38.7367 31.9908L52.7367 26.7408C53.227 26.5569 53.75 26.9193 53.75 27.443V42.25H38.25V32.693C38.25 32.3804 38.4439 32.1005 38.7367 31.9908Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"})),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dddd_5186_59156",x:"0",y:"0.442139",width:"92",height:"155.558",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1"}),n.createElement("feGaussianBlur",{stdDeviation:"0.520312"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.026 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_5186_59156"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.4625"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_5186_59156",result:"effect2_dropShadow_5186_59156"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-1"}),n.createElement("feGaussianBlur",{stdDeviation:"3.92344"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.054 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_5186_59156",result:"effect3_dropShadow_5186_59156"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-8"}),n.createElement("feGaussianBlur",{stdDeviation:"9"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect3_dropShadow_5186_59156",result:"effect4_dropShadow_5186_59156"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_5186_59156",result:"shape"})),n.createElement("filter",{id:"filter1_f_5186_59156",x:"8",y:"32",width:"76",height:"124",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"5",result:"effect1_foregroundBlur_5186_59156"})),n.createElement("filter",{id:"filter2_f_5186_59156",x:"12",y:"36",width:"68",height:"116",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5186_59156"})),n.createElement("filter",{id:"filter3_f_5186_59156",x:"22",y:"36",width:"48",height:"116",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3",result:"effect1_foregroundBlur_5186_59156"})),n.createElement("linearGradient",{id:"paint0_linear_5186_59156",x1:"74",y1:"125.04",x2:"18",y2:"125.04",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0"}),n.createElement("stop",{offset:"0.166394",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"0.516647",stopColor:"white",stopOpacity:"0.16"}),n.createElement("stop",{offset:"0.824577",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"1",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_5186_59156",x1:"18",y1:"122",x2:"74",y2:"122",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.173337",stopOpacity:"0"}),n.createElement("stop",{offset:"0.831435",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.12"}))))}function tc({color:e=e9.wO}){return n.createElement("svg",{width:"64",height:"96",viewBox:"0 0 64 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("g",{clipPath:"url(#clip0_5186_59372)"},n.createElement("g",{filter:"url(#filter0_dddd_5186_59372)"},n.createElement("mask",{id:"mask0_5186_59372",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"12",y:"23",width:"40",height:"75"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 23.4285H26.7769C25.3222 23.4285 24.1429 24.6078 24.1429 26.0625V31.1096C24.1429 40.3951 20.4457 49.2985 13.8681 55.8527C12.6722 57.0444 12 58.6632 12 60.3514V64.8403V97.7142H32L52 97.7142V64.8403V60.3515C52 58.6632 51.3278 57.0444 50.1318 55.8527C43.5543 49.2985 39.8571 40.3952 39.8571 31.1096V26.0626C39.8571 24.6078 38.6778 23.4285 37.223 23.4285H32V23.4285Z",fill:"white"})),n.createElement("g",{mask:"url(#mask0_5186_59372)"},n.createElement("mask",{id:"path-2-inside-1_5186_59372",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 23.4285H26.7769C25.3222 23.4285 24.1429 24.6078 24.1429 26.0625V31.1096C24.1429 40.3951 20.4457 49.2985 13.8681 55.8527C12.6722 57.0444 12 58.6632 12 60.3514V64.8403V97.7142H32L52 97.7142V64.8403V60.3515C52 58.6632 51.3278 57.0444 50.1318 55.8527C43.5543 49.2985 39.8571 40.3952 39.8571 31.1096V26.0626C39.8571 24.6078 38.6778 23.4285 37.223 23.4285H32V23.4285Z"})),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 23.4285H26.7769C25.3222 23.4285 24.1429 24.6078 24.1429 26.0625V31.1096C24.1429 40.3951 20.4457 49.2985 13.8681 55.8527C12.6722 57.0444 12 58.6632 12 60.3514V64.8403V97.7142H32L52 97.7142V64.8403V60.3515C52 58.6632 51.3278 57.0444 50.1318 55.8527C43.5543 49.2985 39.8571 40.3952 39.8571 31.1096V26.0626C39.8571 24.6078 38.6778 23.4285 37.223 23.4285H32V23.4285Z",fill:"#FDFDFD"}),n.createElement("path",{d:"M32 23.4285H32.5V22.9285H32V23.4285ZM13.8681 55.8527L14.2211 56.2069H14.2211L13.8681 55.8527ZM12 97.7142H11.5V98.2142H12V97.7142ZM32 97.7142V97.2142V97.7142ZM52 97.7142V98.2142H52.5V97.7142H52ZM50.1318 55.8527L49.7789 56.2069L50.1318 55.8527ZM32 23.4285H31.5V23.9285H32V23.4285ZM26.7769 23.9285H32V22.9285H26.7769V23.9285ZM24.6429 26.0625C24.6429 24.8839 25.5983 23.9285 26.7769 23.9285V22.9285C25.046 22.9285 23.6429 24.3316 23.6429 26.0625H24.6429ZM24.6429 31.1096V26.0625H23.6429V31.1096H24.6429ZM14.2211 56.2069C20.8927 49.5589 24.6429 40.528 24.6429 31.1096H23.6429C23.6429 40.2622 19.9986 49.0382 13.5152 55.4985L14.2211 56.2069ZM12.5 60.3514C12.5 58.7961 13.1193 57.3047 14.2211 56.2069L13.5152 55.4985C12.2251 56.784 11.5 58.5302 11.5 60.3514H12.5ZM12.5 64.8403V60.3514H11.5V64.8403H12.5ZM12.5 97.7142V64.8403H11.5V97.7142H12.5ZM32 97.2142H12V98.2142H32V97.2142ZM32 98.2142L52 98.2142V97.2142L32 97.2142V98.2142ZM52.5 97.7142V64.8403H51.5V97.7142H52.5ZM52.5 64.8403V60.3515H51.5V64.8403H52.5ZM52.5 60.3515C52.5 58.5303 51.7748 56.784 50.4848 55.4985L49.7789 56.2069C50.8807 57.3047 51.5 58.7961 51.5 60.3515H52.5ZM50.4848 55.4985C44.0014 49.0382 40.3571 40.2622 40.3571 31.1096H39.3571C39.3571 40.5281 43.1072 49.5589 49.7789 56.2069L50.4848 55.4985ZM40.3571 31.1096V26.0626H39.3571V31.1096H40.3571ZM40.3571 26.0626C40.3571 24.3317 38.9539 22.9285 37.223 22.9285V23.9285C38.4017 23.9285 39.3571 24.8839 39.3571 26.0626H40.3571ZM37.223 22.9285H32V23.9285H37.223V22.9285ZM31.5 23.4285V23.4285H32.5V23.4285H31.5Z",fill:"black",fillOpacity:"0.3",mask:"url(#path-2-inside-1_5186_59372)"}),n.createElement("g",{filter:"url(#filter1_f_5186_59372)"},n.createElement("mask",{id:"path-4-inside-2_5186_59372",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 23.4285H26.7769C25.3222 23.4285 24.1429 24.6078 24.1429 26.0625V31.1096C24.1429 40.3951 20.4457 49.2985 13.8681 55.8527C12.6722 57.0444 12 58.6632 12 60.3514V64.8403V97.7142H32L52 97.7142V64.8403V60.3515C52 58.6632 51.3278 57.0444 50.1318 55.8527C43.5543 49.2985 39.8571 40.3952 39.8571 31.1096V26.0626C39.8571 24.6078 38.6778 23.4285 37.223 23.4285H32V23.4285Z"})),n.createElement("path",{d:"M32 23.4285H34.1429V21.2856H32V23.4285ZM13.8681 55.8527L15.3807 57.3706L15.3807 57.3706L13.8681 55.8527ZM12 97.7142H9.85714V99.857H12V97.7142ZM32 97.7142L32 95.5713H32V97.7142ZM52 97.7142L52 99.8571H54.1428V97.7142H52ZM50.1318 55.8527L48.6193 57.3706L48.6193 57.3706L50.1318 55.8527ZM32 23.4285H29.8571V25.5714H32V23.4285ZM26.7769 25.5713H32V21.2856H26.7769V25.5713ZM26.2857 26.0625C26.2857 25.7912 26.5056 25.5713 26.7769 25.5713V21.2856C24.1387 21.2856 22 23.4243 22 26.0625H26.2857ZM26.2857 31.1096V26.0625H22V31.1096H26.2857ZM15.3807 57.3706C22.3617 50.4144 26.2857 40.9648 26.2857 31.1096H22C22 39.8255 18.5296 48.1827 12.3556 54.3348L15.3807 57.3706ZM14.1429 60.3514C14.1429 59.2328 14.5883 58.1602 15.3807 57.3706L12.3556 54.3348C10.7562 55.9285 9.85714 58.0935 9.85714 60.3514H14.1429ZM14.1429 64.8403V60.3514H9.85714V64.8403H14.1429ZM14.1429 97.7142V64.8403H9.85714V97.7142H14.1429ZM32 95.5713H12V99.857H32V95.5713ZM32 99.857L52 99.8571L52 95.5714L32 95.5713L32 99.857ZM54.1428 97.7142V64.8403H49.8571V97.7142H54.1428ZM54.1428 64.8403V60.3515H49.8571V64.8403H54.1428ZM54.1428 60.3515C54.1428 58.0935 53.2438 55.9285 51.6444 54.3348L48.6193 57.3706C49.4117 58.1602 49.8571 59.2328 49.8571 60.3515H54.1428ZM51.6444 54.3348C45.4703 48.1827 42 39.8255 42 31.1096H37.7143C37.7143 40.9648 41.6383 50.4144 48.6193 57.3706L51.6444 54.3348ZM42 31.1096V26.0626H37.7143V31.1096H42ZM42 26.0626C42 23.4243 39.8613 21.2856 37.223 21.2856V25.5714C37.4943 25.5714 37.7143 25.7913 37.7143 26.0626H42ZM37.223 21.2856H32V25.5714H37.223V21.2856ZM29.8571 23.4285V23.4285H34.1429V23.4285H29.8571Z",fill:"black",fillOpacity:"0.25",mask:"url(#path-4-inside-2_5186_59372)"})),n.createElement("g",{filter:"url(#filter2_f_5186_59372)"},n.createElement("mask",{id:"path-6-inside-3_5186_59372",fill:"white"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32 23.4285H26.7769C25.3222 23.4285 24.1429 24.6078 24.1429 26.0625V31.1096C24.1429 40.3951 20.4457 49.2985 13.8681 55.8527C12.6722 57.0444 12 58.6632 12 60.3514V64.8403V97.7142H32L52 97.7142V64.8403V60.3515C52 58.6632 51.3278 57.0444 50.1318 55.8527C43.5543 49.2985 39.8571 40.3952 39.8571 31.1096V26.0626C39.8571 24.6078 38.6778 23.4285 37.223 23.4285H32V23.4285Z"})),n.createElement("path",{d:"M32 23.4285H32.71V22.7185H32V23.4285ZM13.8681 55.8527L14.3693 56.3556L13.8681 55.8527ZM12 97.7142H11.29V98.4242H12V97.7142ZM32 97.7142L32 97.0042H32V97.7142ZM52 97.7142V98.4242H52.71V97.7142H52ZM50.1318 55.8527L49.6307 56.3557V56.3557L50.1318 55.8527ZM32 23.4285H31.29V24.1385H32V23.4285ZM26.7769 24.1385H32V22.7185H26.7769V24.1385ZM24.8529 26.0625C24.8529 24.9999 25.7143 24.1385 26.7769 24.1385V22.7185C24.93 22.7185 23.4329 24.2157 23.4329 26.0625H24.8529ZM24.8529 31.1096V26.0625H23.4329V31.1096H24.8529ZM14.3693 56.3556C21.0805 49.6682 24.8529 40.5839 24.8529 31.1096H23.4329C23.4329 40.2064 19.8108 48.9288 13.367 55.3497L14.3693 56.3556ZM12.71 60.3514C12.71 58.8519 13.3071 57.4141 14.3693 56.3556L13.367 55.3497C12.0374 56.6746 11.29 58.4744 11.29 60.3514H12.71ZM12.71 64.8403V60.3514H11.29V64.8403H12.71ZM12.71 97.7142V64.8403H11.29V97.7142H12.71ZM32 97.0042H12V98.4242H32V97.0042ZM32 98.4242L52 98.4242V97.0042L32 97.0042L32 98.4242ZM52.71 97.7142V64.8403H51.29V97.7142H52.71ZM52.71 64.8403V60.3515H51.29V64.8403H52.71ZM52.71 60.3515C52.71 58.4744 51.9626 56.6747 50.633 55.3498L49.6307 56.3557C50.6929 57.4141 51.29 58.8519 51.29 60.3515H52.71ZM50.633 55.3498C44.1891 48.9288 40.5671 40.2064 40.5671 31.1096H39.1471C39.1471 40.5839 42.9194 49.6683 49.6307 56.3557L50.633 55.3498ZM40.5671 31.1096V26.0626H39.1471V31.1096H40.5671ZM40.5671 26.0626C40.5671 24.2157 39.0699 22.7185 37.223 22.7185V24.1385C38.2857 24.1385 39.1471 24.9999 39.1471 26.0626H40.5671ZM37.223 22.7185H32V24.1385H37.223V22.7185ZM31.29 23.4285V23.4285H32.71V23.4285H31.29Z",fill:"black",fillOpacity:"0.4",mask:"url(#path-6-inside-3_5186_59372)"})),n.createElement("g",{filter:"url(#filter3_f_5186_59372)"},n.createElement("path",{d:"M31.7766 23.4285C30.3219 23.4285 28.4283 24.6078 28.4283 26.0625V31.1096C28.4283 40.3951 27.5882 49.2985 21.0107 55.8527C19.8148 57.0444 19.1426 58.6632 19.1426 60.3514V97.7142H44.8569V60.3514C44.8569 58.6632 44.1846 57.0444 42.9887 55.8527C36.4112 49.2985 35.5711 40.3951 35.5711 31.1096V26.0625C35.5711 24.6078 33.6775 23.4285 32.2228 23.4285H31.7766Z",fill:"white"})),n.createElement("path",{d:"M12 63H52V100.572H12V63Z",fill:e,className:ep.cq}),n.createElement("path",{d:"M12 63H52V100.572H12V63Z",fill:"url(#paint0_linear_5186_59372)"}),n.createElement("path",{d:"M12 63H52V100.572H12V63Z",fill:"url(#paint1_linear_5186_59372)"}),n.createElement("path",{d:"M12.25 63.25H51.75V100.322H12.25V63.25Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"})),n.createElement("path",{d:"M26.2856 16.7807C26.2856 16.483 26.4703 16.2165 26.7491 16.1119L36.7491 12.3619C37.2161 12.1868 37.7142 12.532 37.7142 13.0307V24H26.2856V16.7807Z",fill:e,className:ep.cq}),n.createElement("path",{d:"M26.5356 16.7807C26.5356 16.5872 26.6557 16.4139 26.8369 16.346L36.8369 12.596C37.1404 12.4822 37.4642 12.7065 37.4642 13.0307V23.75H26.5356V16.7807Z",stroke:"black",strokeOpacity:"0.3",strokeWidth:"0.5"}))),n.createElement("defs",null,n.createElement("filter",{id:"filter0_dddd_5186_59372",x:"-0.857142",y:"-6.25575",width:"65.7143",height:"111.113",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"0.371652"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.026 0"}),n.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_5186_59372"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",null),n.createElement("feGaussianBlur",{stdDeviation:"1.04464"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.04 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect1_dropShadow_5186_59372",result:"effect2_dropShadow_5186_59372"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-0.714286"}),n.createElement("feGaussianBlur",{stdDeviation:"2.80246"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.054 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect2_dropShadow_5186_59372",result:"effect3_dropShadow_5186_59372"}),n.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),n.createElement("feOffset",{dy:"-5.71429"}),n.createElement("feGaussianBlur",{stdDeviation:"6.42857"}),n.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),n.createElement("feBlend",{mode:"normal",in2:"effect3_dropShadow_5186_59372",result:"effect4_dropShadow_5186_59372"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect4_dropShadow_5186_59372",result:"shape"})),n.createElement("filter",{id:"filter1_f_5186_59372",x:"4.85714",y:"16.2856",width:"54.2857",height:"88.5714",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"3.57143",result:"effect1_foregroundBlur_5186_59372"})),n.createElement("filter",{id:"filter2_f_5186_59372",x:"7.71429",y:"19.1428",width:"48.5714",height:"82.8571",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_5186_59372"})),n.createElement("filter",{id:"filter3_f_5186_59372",x:"14.8569",y:"19.1428",width:"34.2858",height:"82.8571",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},n.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),n.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),n.createElement("feGaussianBlur",{stdDeviation:"2.14286",result:"effect1_foregroundBlur_5186_59372"})),n.createElement("linearGradient",{id:"paint0_linear_5186_59372",x1:"52",y1:"82.5372",x2:"12",y2:"82.5372",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0"}),n.createElement("stop",{offset:"0.166394",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"0.516647",stopColor:"white",stopOpacity:"0.16"}),n.createElement("stop",{offset:"0.824577",stopColor:"white",stopOpacity:"0.08"}),n.createElement("stop",{offset:"1",stopOpacity:"0"})),n.createElement("linearGradient",{id:"paint1_linear_5186_59372",x1:"12",y1:"80.3407",x2:"52",y2:"80.3407",gradientUnits:"userSpaceOnUse"},n.createElement("stop",{stopOpacity:"0.12"}),n.createElement("stop",{offset:"0.173337",stopOpacity:"0"}),n.createElement("stop",{offset:"0.831435",stopOpacity:"0"}),n.createElement("stop",{offset:"1",stopOpacity:"0.12"})),n.createElement("clipPath",{id:"clip0_5186_59372"},n.createElement("rect",{width:"64",height:"96",fill:"white"}))))}let td=(0,e0.ck)("e2dd4aa8eeda3e94a8c86ff697f1538c0ac4985c"),tm=(0,e0.ck)("01cc9e62d5f9bfd4c8b72723f3a2c52b7d681a76");function tu({size:e}){let{washiTapePaint:t}=(0,u.md)(eJ.SK),a=t?.image?.hash&&(0,eq.nj)(t?.image?.hash),r=a&&(0,e0.ck)(a),l=a&&!e4.B.map(e=>e.image).includes(a),i=(0,e0.ck)("Big"===e?"218aca2f646a55ac66806bd9a9d3d5465e4fc4d8":"8fd9146eb6fddeb39bb39af0939f723729251625"),o=(0,e0.ck)("Big"===e?"2ce284f5f27469ce9212c138010daacca8e58558":"8ab86efd5632d61a014831faf1ed01df72ee88c4");return n.createElement("div",{className:s()({[ep.Zu]:"Big"===e,[ep.yk]:"Small"===e}),style:{backgroundImage:`url(${o})`}},l?n.createElement(tp,{size:e}):n.createElement("div",{className:s()({[ep.v5]:"Big"===e,[ep.kV]:"Small"===e}),style:{backgroundImage:`url(${r})`,maskImage:i}}),n.createElement("img",{src:"Big"===e?td:tm,className:ep.iI,alt:""}))}function tp({size:e}){let{washiTapePaint:t}=(0,u.md)(eJ.SK),[a,r]=n.useState(),l=n.useCallback(e=>{let t=e5.jS(e,new e1.Mi((e.originalImageWidth||244)/(e.originalImageHeight||244)*244,244),{r:0,g:0,b:0,a:0});t&&t.pixels&&t.pixelSize&&r(e5.Pv(t.pixels,t.pixelSize))},[]);n.useEffect(()=>{t&&l(t)},[t,l]);let i=(0,e0.ck)("Big"===e?"218aca2f646a55ac66806bd9a9d3d5465e4fc4d8":"8fd9146eb6fddeb39bb39af0939f723729251625");return n.createElement("div",{className:s()({[ep.v5]:"Big"===e,[ep.kV]:"Small"===e}),style:{backgroundImage:`url(${a})`,maskImage:i}})}var tE=a(928343),t_=a(246947),tg=a(921428),tf=a(383462),th=a(227070),tb=a(277154),tv=a(230208),tT=a(366172),ty=a(620552),tw=a(240327),tC=a(668581),tS=a(488898),tI=a(171327),tN=a(219403),tL=a(575561),tO=a(828239),tk=a(164739),tA=a(150807),tR=a(649817),tx=a(336427);let tM=n.memo(function({loadingPaletteCircleCount:e}){let t=(0,tx.ZC)(e),a=t&&!e,r=a?t:e;return n.createElement("div",{className:s()("dlt_submenu_palette_skeleton--skeletonCircleContainer--zJP5v",{"dlt_submenu_palette_skeleton--isFadingOut--X7mcE":a})},[...Array(r)].map((e,t)=>n.createElement("div",{className:"dlt_submenu_palette_skeleton--skeletonCircleWrapper--jqySu",key:"skeleton-palette-"+t},n.createElement("div",{className:s()("dlt_submenu_palette_skeleton--skeletonCircle--S16JP",{"dlt_submenu_palette_skeleton--loading--NXGYD":!a}),style:{animationDelay:`${.1*t}s`}}))))}),tD="dlt_drawing_tool_submenu--fadeWhenNotHovered--emhT7";var tP=a(65536),tF=a(526824);let tB={source:F.fK,submenu:!0},tH=n.memo(function({tool:e,isOpen:t,recordingKey:a,optimizeForCompactSize:l}){let[o,c]=(0,u.fp)(eJ.GI),[d,m]=(0,u.fp)(eJ.IZ),[p,_]=n.useState(!1),[g,h]=n.useState(!1),{openColorPalettePicker:b,closeColorPalettePicker:v}=(0,M.$J)(h),{washiTapePaint:T}=(0,u.md)(eJ.SK),y=T?.image?.hash&&(0,eq.nj)(T?.image?.hash),[w,C]=n.useState(!1),[S,I]=n.useState(!1),N=(0,r.d4)(e=>e.mirror?.appModel.isReadOnly),[L,O]=(0,u.fp)(tf.B);n.useEffect(()=>{(0,tA.Qc)(e4.B)},[]),n.useEffect(()=>{N||y||(0,tA.Iw)((0,tA.M8)(e4.B[0]))},[y,N]),n.useEffect(()=>{_(!1),C(!1),I(!1),v()},[e,t,v]),n.useEffect(()=>{t&&(e===i.NLJ.VECTOR_PENCIL||e===i.NLJ.DROPPER_COLOR)?O(i.cxo.PENCIL_TOOL):L===i.cxo.PENCIL_TOOL&&O(i.cxo.SELECTION)},[e,t,L,O]),n.useLayoutEffect(()=>{let e=()=>C(!1);return document.addEventListener("focus",e,!0),()=>{document.removeEventListener("focus",e,!0)}});let k=o.strokeWeight===e3.wv,A=o.strokeWeight===e3.uM,R=d.strokeWeight===e3.g5,x=d.strokeWeight===e3.Iz,D={margin:"4px 0",borderRadius:"3px"},P=e===i.NLJ.VECTOR_PENCIL,F=e===i.NLJ.ERASER,B=e===i.NLJ.HIGHLIGHTER,H=e===i.NLJ.WASHI_TAPE,U=(0,tR.B)(e),V=!!U&&(B?R:k),W=!!U&&(B?x:A),K=o.paints?.[0]?.color,G=d.paints?.[0]?.color,j=!E.Ay.isMeetDevice;function z(t){B?m({...d,strokeWeight:"THIN"===t?e3.g5:e3.Iz}):P&&c({...o,strokeWeight:"THIN"===t?e3.wv:e3.uM}),(0,tb.sx)("Drawing Tool Change Thickness",{thickness:t,tool:i.NLJ[e]})}function Z(e){let t=[{type:"SOLID",color:e}];B?m({...d,paints:t}):P&&c({...o,paints:t})}let $=(0,M.Z9)(),Y=$.type===tw.Yv.CUSTOM,X=function(e){let t=i.Ez5?.uiState().showUI3Colors.getCopy();return e?"highlight":t?"pencilUI3":"base"}(B),J=(0,tN.TS)(X),Q=Y?$.variations[X]:J,q=(0,u.md)(tC.Qv),ee=!!q;return n.createElement(n.Fragment,null,n.createElement(tg.br,{paddingRight:5,paddingLeft:13},n.createElement(tU,{toolType:"small-pencil",recordingKey:(0,ed.hx)("small-pencil"),isSelected:P,onClick:()=>{i.glU.triggerActionInUserEditScope("set-tool-pencil",tB)},dataTooltip:"set-tool-marker",tooltipOffset:{offsetX:0,offsetY:-20},IconNoRef:n.createElement(tl,{type:"Pencil",size:"Small",color:eQ.F.format(K)}),optimizeForCompactSize:l}),n.createElement(tU,{toolType:"highlighter",recordingKey:(0,ed.hx)("highlighter"),isSelected:B,onClick:()=>{i.glU.triggerActionInUserEditScope("set-tool-highlighter",tB)},dataTooltip:"set-tool-highlighter",tooltipOffset:{offsetX:0,offsetY:-20},IconNoRef:n.createElement(tl,{type:"Highlighter",size:"Small",color:eQ.F.format(G)}),optimizeForCompactSize:l}),!l&&n.createElement(tU,{toolType:"washi-tape",recordingKey:(0,ed.hx)("washi-tape"),isSelected:e===i.NLJ.WASHI_TAPE,onClick:()=>{i.glU.triggerActionInUserEditScope("set-tool-washi-tape",tB)},dataTooltip:"set-tool-washi-tape",tooltipOffset:{offsetX:0,offsetY:-20},IconNoRef:n.createElement(tl,{type:"Washi tape",size:"Small"}),optimizeForCompactSize:l}),n.createElement(tU,{toolType:"eraser",recordingKey:(0,ed.hx)("eraser"),isSelected:e===i.NLJ.ERASER,onClick:()=>{i.glU.triggerActionInUserEditScope("set-tool-eraser",tB)},dataTooltip:"set-tool-eraser",tooltipOffset:{offsetX:0,offsetY:-20},IconNoRef:n.createElement(tl,{type:"Eraser",size:"Small"}),optimizeForCompactSize:l})),n.createElement(tg.XI,null),n.createElement(tg.br,{disabled:!U,paddingRight:4,paddingLeft:4},n.createElement("div",{className:s()({[tD]:U&&!V})},n.createElement(tL.K0,{svg:tF.A,tooltip:(0,tI.ng)(3),onClick:()=>{z("THIN")},active:V?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:D,recordingKey:a&&eH.Pt(a,"pencil-small-button"),tabIndex:-1})),n.createElement("div",{className:s()({[tD]:U&&!W})},n.createElement(tL.K0,{svg:tP.A,tooltip:(0,tI.ng)(8),onClick:()=>{z("THICK")},active:W?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:D,recordingKey:a&&eH.Pt(a,"pencil-large-button"),tabIndex:-1}))),n.createElement(tg.XI,null),H?n.createElement(n.Fragment,null,n.createElement(tg.br,{paddingRight:8,paddingLeft:8},e4.B.map(e=>{let t=(0,tA.M8)(e);return n.createElement(tO.cg,{key:e.name,swatchStyle:{border:"1px solid rgba(0, 0, 0, 0.2)",boxSizing:"border-box",boxShadow:"none"},value:t,selectionState:y===e.image?"selected":"unselected",onClick:()=>{(0,tA.Iw)(t)},tooltip:(0,e4.M)(e),recordingKey:a&&eH.Pt(a,`washi-tape-${e.name}`)})})),j&&n.createElement(n.Fragment,null,n.createElement(tg.XI,null),n.createElement(tg.br,{shouldClipAndRoundTopRightCorner:!0},n.createElement(tL.$n,{ariaLabel:(0,f.t)("whiteboard.washi_tapes.custom_aria_label"),onClick:()=>{tT.Y5.updateAppModel({currentSelectedProperty:{type:i.rrT.STROKE_PRESET,indices:[0]}}),i.glU.uploadPaintImage("NORMAL",1),C(!0)},onMouseEnter:()=>{I(!0)},onMouseLeave:()=>{I(!1)},caret:"up",animateCaret:!0,recordingKey:a&&eH.Pt(a,"washi-tape-pattern-upload"),active:w?"LOUD":"NONE",buttonStyle:{"--menu-padding-right":"12px",marginLeft:"4px",padding:"4px 12px 4px 0px"},isNewSubmenu:!0,tabIndex:-1},!y||w||e4.B.map(e=>e.image).includes(y)?n.createElement(tO.HL,{value:tO.WW,swatchStyle:{boxShadow:w?"0px 0px 0px 1px rgba(225, 255, 255, 0.8) inset":"0px 0px 0px 1px rgba(0, 0, 0, 0.2) inset"},tooltip:(0,f.t)("whiteboard.washi_tapes.custom"),fallbackSvg:tO.xY}):n.createElement(n.Fragment,null,n.createElement(tO.YR,{imagePaint:T,background:"light",size:"medium",selectionState:"selected",hovered:S})))))):P&&l?n.createElement(tg.br,{disabled:!P,shouldClipAndRoundTopRightCorner:!0},n.createElement(tk.v,{target:n.createElement(tg.Qu,{currentColor:P?K:void 0,paletteType:"base",showPopover:p,setShowPopover:_,alwaysUseCurrentColorInSwatch:!0,recordingKey:a&&eH.Pt(a,"pencil-color-more")}),color:K||tv.Uv,isOpen:P&&p,onColorChange:Z,onClose:()=>{_(!1)},theme:"light",analytics:{name:"Drawing Tool Change Color",properties:{tool:i.NLJ[e]}},recordingKey:a&&eH.Pt(a,"customColorPopover"),alignment:"right"})):function(){let t=P?K:B?G:void 0;return n.createElement(n.Fragment,null,n.createElement(tg.br,{disabled:F,paddingRight:8,paddingLeft:8},n.createElement(tM,{loadingPaletteCircleCount:q}),!ee&&Q.map((t,r)=>{let l=eQ.F.format(t),o=Y?(0,tN.AF)(r,X):(0,tN.V_)(t,X);return n.createElement(tO.cd,{key:l+"-"+r,size:"medium",value:t,selectionState:F||H?"unselected":(B?l===eQ.F.format(G):l===eQ.F.format(K))?"selected":"unselected",onClick:()=>{Z(t),ty.F.trackFromFullscreen("Drawing Tool Change Color",{source:"default",color:eQ.F.format(t),tool:i.NLJ[e]})},paletteType:X,background:"light",tooltip:o,recordingKey:a&&eH.Pt(a,`pencil-color-${l}`)})}),n.createElement(tS.s,{colorPalettePickerState:{openColorPalettePicker:b,closeColorPalettePicker:v,isColorPalettePickerOpen:g},paletteType:X,recordingKey:eH.Pt(a||"color-palettes","pencil")||"pencil",disabled:ee,isInDltSubmenu:!0})),n.createElement(tg.XI,null),n.createElement(tg.br,{disabled:!P,shouldClipAndRoundTopRightCorner:!0},n.createElement(tk.v,{target:n.createElement(tg.Qu,{currentColor:t,paletteType:X,showPopover:p,setShowPopover:_,recordingKey:a&&eH.Pt(a,"pencil-color-more")}),color:t||tv.Uv,isOpen:P&&p,onColorChange:Z,onClose:()=>{_(!1)},theme:"light",analytics:{name:"Drawing Tool Change Color",properties:{tool:i.NLJ[e]}},recordingKey:a&&eH.Pt(a,"customColorPopover")})))}())});function tU({onClick:e,toolType:t,recordingKey:a,isSelected:r,dataTooltip:l,tooltipOffset:i,color:o,IconNoRef:s,optimizeForCompactSize:c}){return n.createElement("div",{className:c?"dlt_drawing_tool_submenu--submenuToolButtonCompactSize--9aaAT":"dlt_drawing_tool_submenu--submenuToolButton--kDrij",onClick:e},n.createElement(eu.IB,{toolType:t,recordingKey:a,isSelected:r,onClick:e,inTabOrder:!1,"data-tooltip":l,"data-tooltip-type":eo.Ib.LOOKUP,tooltipOffset:i,hasOpenSubmenu:!1},e=>n.createElement(t_.s,{toolType:t,color:"",isSelected:r,onTap:p.lQ,IconNoRef:s,isDrawingSubmenuTool:!0,isHovered:e,hoverOffsetAmount:"DRAWING_SUBMENU"})))}let tV=n.memo(function({optimizeForCompactSize:e}){let[t,a]=(0,u.fp)(eL.oh),r=(0,C.LR)(),l=(0,th.bu)(),o=(0,th.ri)(),c=(0,th.s3)(),d=(0,u.md)(tf.B),m=c&&d===i.cxo.PENCIL_TOOL,p=l||m,[E,_]=n.useState(!1),{paints:g}=(0,u.md)(eJ.GI),[f,h]=n.useState(i.NLJ.VECTOR_PENCIL),[,b]=n.useState(i.NLJ.VECTOR_PENCIL),v=f===i.NLJ.VECTOR_PENCIL?"set-tool-pencil":f===i.NLJ.HIGHLIGHTER?"set-tool-highlighter":f===i.NLJ.ERASER?"set-tool-eraser":f===i.NLJ.WASHI_TAPE?"set-tool-washi-tape":"";n.useEffect(()=>{o&&o!==f&&(b(f),h(o))},[o,f,h,b]);let T=n.useCallback(()=>{r(!1),l?i.glU.triggerActionInUserEditScope("set-tool-default",{source:F.fK}):(i.glU.triggerActionInUserEditScope(v,{source:F.fK}),a({type:"open",tool:"pencil"}))},[a,l,v,r]),{isHovered:y,onMouseEnter:w,onMouseMove:S,onMouseLeave:I,onTouchStart:N,onTouchEnd:L}=(0,tE.W)(T,!1,!1),O="set-tool-pencil"===v?"set-tool-marker":v,k=eQ.F.format(g?.[0]?.color),A=n.createElement(tt,{action:v}),R=(0,ed.hx)("pencil"),x=(0,Z.hv)();return n.createElement(tg.XN,{alignment:"LEFT",onMouseEnter:()=>{"open"===t.state&&"pencil"===t.tool||x||_(!0)},onMouseLeave:()=>{_(!1)}},n.createElement(tg.ti,{isSelected:y||p,explicitWidth:72,shouldCenterContent:!0,noScaleAnimation:!0},n.createElement(eu.J7,{toolType:"pencil",recordingKey:R,isSelected:p,className:ep.wz,onClick:T,"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":O,tooltipOffset:{offsetX:void 0,offsetY:p?-4:-22},isHovered:y,onMouseEnter:w,onMouseMove:S,onMouseLeave:I,onTouchStart:N,onTouchEnd:L,hasOpenSubmenu:p},n.createElement("div",{className:ep.EY},n.createElement("div",{className:s()(ep.cd,{[ep.Mg]:p})},n.createElement(ta,{action:v})),n.createElement(t_.s,{toolType:"pencil",color:k,isSelected:p,onTap:T,IconNoRef:A,canvasToSvgScale:1,isHovered:y||E,hoverOffsetAmount:"DRAWING"})))),n.createElement(tg.Qw,{isOpen:p,overflowChildren:!0},n.createElement(tH,{tool:f,isOpen:p,recordingKey:eH.Pt(R,"submenu"),optimizeForCompactSize:e})))});var tW=a(84225),tK=a(824883),tG=a(851169),tj=a(393908),tz=a(665048),tZ=a(570446);function t$({recordingKey:e,isOpen:t}){let[a,r]=(0,u.fp)(eJ.qL),[l,o]=n.useState(!1),{openColorPalettePicker:s,closeColorPalettePicker:c}=(0,M.$J)(o),d=eQ.F.format(a);n.useEffect(()=>{c()},[t,c]);let m=e=>{r(e),i.glU.triggerActionInUserEditScope("set-tool-sticky",{source:F.fK})},p=e=>{m(e),tY()},E=(0,M.Z9)(),_=E.type===tw.Yv.CUSTOM,g=(0,tN.TS)("sticky"),h=_?E.variations.sticky:g,b=(0,u.md)(tC.Qv),v=!!b;return n.createElement(n.Fragment,null,n.createElement(tg.br,{shouldVerticallyCenter:!0,paddingRight:8,paddingLeft:8},n.createElement(tM,{loadingPaletteCircleCount:b}),!v&&((0,e0.kc)().figjam_fpl_dlt_sticky_submenu?n.createElement(tz.bL,{onChange:e=>{let t=(0,tv.H0)(e);t&&(m(t),tY())},legend:n.createElement(tZ.q,null,(0,f.tx)("whiteboard.stickies.color_selector.legend"))},n.createElement("div",{className:ep.Bp},h.map((t,a)=>{let r=eQ.F.format(t),l=_?(0,tN.AF)(a,"sticky"):(0,tN.V_)(t,"sticky");return n.createElement(tO.kk,{key:eQ.F.format(t)+"-"+a,size:"medium",value:t,selectionState:r===d?"selected":"unselected",paletteType:"sticky",background:"light",tooltip:l,recordingKey:eH.Pt(e,l)})}))):h.map((t,a)=>{let r=eQ.F.format(t),l=_?(0,tN.AF)(a,"sticky"):(0,tN.V_)(t,"sticky");return n.createElement(tO.cd,{key:eQ.F.format(t)+"-"+a,size:"medium",value:t,selectionState:r===d?"selected":"unselected",paletteType:"sticky",background:"light",onClick:()=>p(t),tooltip:l,recordingKey:eH.Pt(e,l)})})),n.createElement(tS.s,{colorPalettePickerState:{openColorPalettePicker:s,closeColorPalettePicker:c,isColorPalettePickerOpen:l},paletteType:"sticky",recordingKey:eH.Pt(e||"color-palettes","sticky")||"sticky",disabled:v,isInDltSubmenu:!0})))}let tY=()=>{let e={duration:800,easing:"ease-out"},t={transform:"rotate(0) translate(0, 0)"},a=[t,{transform:"translate(32px, 32px) rotate(5deg) translate(0, -8px) translate(-32px, -32px)",offset:.1},{transform:"translate(32px, 32px) rotate(5deg) translate(0, -10px) translate(-32px, -32px)",offset:.35},t,{transform:"translate(-32px, 32px) rotate(-3deg) translate(32px, -32px) "},t,{transform:"translate(32px, 32px) rotate(1deg) translate(-32px, -32px) "},t];[ep.eB,ep.gz,ep.Sk].forEach((t,n)=>{document.getElementsByClassName(t)[0].parentElement?.animate(a,{...e,...{delay:70*n}})})};function tX({toolbarIconScale:e}){let t=(0,th.bu)(),a=(0,th.sT)(),r=(0,u.md)(eJ.qL),l=(0,I.aV)(),[o,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[p,E]=(0,n.useState)(ec.kk.DEFAULT),_=240/ec.rX,g=(0,tN.zS)(r,"sticky"),f=eQ.F.format(r),h=l||!g?"rgba(230, 230, 230, 1)":(0,tN.MV)(g,f),{state:b}=(0,n.useContext)(eO.nS),[v,T]=(0,u.fp)(eL.oh),y=(0,C.LR)(),w=(0,n.useCallback)(()=>{y(!1),a?i.glU.triggerActionInUserEditScope("set-tool-default",{source:F.fK}):(i.glU.triggerActionInUserEditScope("set-tool-sticky",{source:F.fK}),T({type:"open",tool:"sticky"}))},[T,a,y]),S=a||t||"open"===v.state&&"shape"===v.tool,{isHovered:N,onMouseEnter:L,onMouseMove:O,onMouseLeave:k,onTouchStart:A,onTouchEnd:R}=(0,tE.W)(w,S,!1),x=(0,n.useCallback)((e,t)=>{tG.l7.user("drop-sticky-on-canvas",()=>i.glU.dropDiagramItemOntoCanvas(i.NLJ.STICKY,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y),i.V5h.TOP_LEFT,i.VTL.NO)),c(!1),m(!1),E(ec.kk.DEFAULT)},[]),M=(0,n.useCallback)(()=>{c(!0),p===ec.kk.DEFAULT&&E(ec.kk.INITIAL_DRAG_ON_DLT)},[]);(0,n.useEffect)(()=>{if("sticky"===b.draggedTool){let e=!b.draggedToolCanCancel;p===ec.kk.INITIAL_DRAG_ON_DLT?e&&E(ec.kk.DRAG_ON_CANVAS):p===ec.kk.DRAG_ON_CANVAS?e||E(ec.kk.DRAG_RETURN_TO_DLT):p===ec.kk.DRAG_RETURN_TO_DLT&&e&&E(ec.kk.DRAG_ON_CANVAS)}else b.draggedTool||E(ec.kk.DEFAULT)},[b,o,E,p]);let D=ec.UJ,P=(0,n.useRef)(null);return n.createElement(tg.XN,{alignment:"CENTER",innerRef:P},n.createElement(tg.ti,{isSelected:N||a,noScaleAnimation:!0},n.createElement(eu.J7,{toolType:"sticky",recordingKey:(0,ed.hx)("sticky"),isSelected:a,className:ep.qf,onClick:w,"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"set-tool-sticky",tooltipOffset:{offsetY:-26,offsetX:10},onboardingKey:F.s2,isHovered:N,onMouseEnter:L,onMouseMove:O,onMouseLeave:k,onTouchStart:A,onTouchEnd:R,hasOpenSubmenu:a},n.createElement("div",{className:s()(ep.z6,ep.ac),"data-onboarding-key":tj.e},n.createElement(t_.s,{toolType:"sticky",color:h,isSelected:a,onTap:w,onDragStart:M,onDragEnd:x,Icon:D,toolbarIconScale:e,canvasToSvgScale:_,isDragReversing:d,isHovered:N,stickyAnimationState:p,hoverOffsetAmount:"STICKY"}),n.createElement(D,{toolOrder:2,color:h,toolbarIconScale:e,shouldAnimate:o,isReversing:d,stickyAnimationState:p}),n.createElement(D,{toolOrder:3,color:h,toolbarIconScale:e,shouldAnimate:o,isReversing:d,stickyAnimationState:p}),n.createElement(D,{toolOrder:4,color:h,toolbarIconScale:e,shouldAnimate:o,isReversing:d,stickyAnimationState:p})))),n.createElement(tg.Qw,{isOpen:a,fadedOut:N},n.createElement(t$,{isOpen:a,recordingKey:(0,ed.hx)("stickySubmenu")})))}var tJ=a(846288),tQ=a(486839),tq=a(196829);let t0=n.memo(function(){let e=(0,S.XM)(),t=(0,u.md)(eL.c5),a=(0,tQ.f7)();(0,tJ.KF)(void 0!==t,"There should be at least one collapsedStage threshold width less than our current container width.");let r=a.slice(0,t.numPrimaryTools),l=e&&void 0===r.find(e=>"stamp"===e.toolType);return n.createElement(n.Fragment,null,(t.numPrimaryTools>0||l)&&n.createElement("div",{className:ep.r6},r.map(({Component:e,toolType:t})=>n.createElement(e,{key:t})),l&&n.createElement(tq.sV,{key:"stamp"})))});var t1=a(797187);function t2({isDisabled:e}){let t=(0,t1.J2)(i.Ez5.editorState().pencilStraightLine);return n.createElement(eu.IB,{ButtonLayout:em.Z,toolType:"pencil",className:ep.dk,recordingKey:(0,ed.hx)("straight-line"),isSelected:t,isDisabled:e,onClick:()=>{i.glU.triggerActionInUserEditScope("toggle-straight-pencil",{source:F.fK})},"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"straight-line",tooltipLocation:"left",testId:"delightful-toolbar-straight-line",hasOpenSubmenu:!1},n.createElement(ec.OS,null))}var t5=a(779099);function t3(){let e=(0,r.d4)(e=>(0,t5.Yh)(e.mirror.appModel,"undo"));return n.createElement(eu.IB,{ButtonLayout:em.Z,toolType:"undo",className:ep.tN,recordingKey:(0,ed.hx)("undo"),isSelected:!1,isDisabled:!e,onClick:()=>{tT.Y5.triggerActionInUserEditScope("undo",{source:F.fK})},"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"undo",tooltipLocation:"left",testId:"delightful-toolbar-undo",hasOpenSubmenu:!1},n.createElement(ec.ej,null))}function t4(){let e=(0,r.d4)(e=>(0,t5.Yh)(e.mirror.appModel,"redo"));return n.createElement(eu.IB,{ButtonLayout:em.Z,toolType:"redo",className:ep.ZS,recordingKey:(0,ed.hx)("redo"),isSelected:!1,isDisabled:!e,onClick:()=>{tT.Y5.triggerActionInUserEditScope("redo",{source:F.fK})},"data-tooltip-type":eo.Ib.LOOKUP,"data-tooltip":"redo",tooltipLocation:"left",testId:"delightful-toolbar-redo",hasOpenSubmenu:!1},n.createElement(ec.Uf,null))}function t6(){return n.createElement("div",{className:ep.fp},n.createElement(t3,null),n.createElement(t4,null))}var t8=a(488527);let t7=n.memo(function(){let e=(0,r.d4)(e=>e.universalInsertModal.pinned),t=(0,L.q5)(),a=t?.votingSessions,[o,g]=n.useState("PRE"),h=n.useRef(null),v=(0,d.wY)(h),[O,x]=(0,u.fp)(eL.c5),D=(0,S.XM)(),[B,H]=(0,u.fp)(eL.gT),[U,V]=(0,u.fp)(eL.oh),W=(0,R.N)();n.useEffect(()=>{t?.canEditCanvas||W!==R.Q.REQUEST_EXISTS||B||H(!0),t?.canEditCanvas&&B&&H(!1)},[W,t,B,H]),n.useEffect(()=>{x((0,tQ.az)(D).find(e=>v?v.width>=e.thresholdWidth:0>=e.thresholdWidth))},[v,x,D]),"PRE"===o&&v&&g("ANIMATING"),n.useEffect(()=>{if("ANIMATING"===o){let e=setTimeout(()=>g("POST"),ed.YB);return()=>clearTimeout(e)}},[o,g]),(0,M.qv)();let K={marginBottom:(0,y.xn)(),marginLeft:0,marginRight:0};window.innerWidth<(0,c.hG)(t8.ejp)&&window.innerWidth>(0,c.hG)(t8.nnJ)&&e===k.t.PINNED_AND_DOCKED_LEFT&&(K.marginLeft=C.gR),function(){let e=function(){let{windowInnerHeight:e}=(0,m.l)(),t=(0,Z.ND)();if(!t)return;let a=t?t.height+16:0;return{x:t.x,y:e-a,width:t.width,height:a}}();(0,_.X)(e?{id:"dlt",rect:e,direction:"up"}:void 0)}();let G=(0,ed.lq)(),[j,z]=n.useReducer(eO.pw,eO.Wp),$=n.useMemo(()=>({state:j,dispatch:z}),[j,z]);(0,w.C_)(h);let Y=414>=(v?.width||0),X=(0,I.dH)(),J=(0,r.d4)(e=>e.multiplayerEmoji.type),Q="closed"===U.state?void 0:U.tool,q=n.useRef(Q);q.current=Q;let ee=(0,P.Yg)(),et=(0,r.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);n.useEffect(()=>{X===i.NLJ.SELECT||X===i.NLJ.DROPPER_COLOR||(0,tR.L)(X)&&"pencil"===q.current||(0,tK.qW)(X)&&"shape"===q.current||(X===i.NLJ.CONNECTOR_ELBOWED||X===i.NLJ.CONNECTOR_STRAIGHT)&&"shape"===q.current||X===i.NLJ.STICKY&&"sticky"===q.current||V({type:"close",source:eL.Yg.ToolSelected}),X===i.NLJ.SELECT&&"pencil"===q.current&&V({type:"close",source:eL.Yg.ToolSelected}),"NONE"!==J&&V({type:"close",source:eL.Yg.ToolSelected}),((0,tK.qW)(X)||X===i.NLJ.CONNECTOR_ELBOWED||X===i.NLJ.CONNECTOR_STRAIGHT)&&!ee&&"shape"!==q.current&&V({type:"open",tool:"shape"})},[X,Y,J,ee,U,V]),n.useEffect(()=>{let e=e=>{"Escape"===e.key&&et!==i.m1T.TEXT&&V({type:"close",source:eL.Yg.KeyboardEsc})};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[et,V]),n.useEffect(()=>{let e=e=>{!(0,tR.L)(X)&&h.current&&e.target instanceof Element&&!h.current.contains(e.target)&&V({type:"close",source:eL.Yg.ClickOut})};return document.addEventListener("pointerdown",e),()=>{document.removeEventListener("pointerdown",e)}},[X,V]);let ea=(0,r.d4)(e=>{let t=e.mirror.appModel.currentTool;return t!==i.NLJ.VECTOR_PENCIL&&t!==i.NLJ.HIGHLIGHTER}),en=(0,N.BI)(),er=E.Ay.isIpad||E.Ay.isMeetDevice?n.createElement(n.Fragment,null,n.createElement("div",{className:s()(ep.ph,b.Dm)},n.createElement("div",{className:s()(ep.s$,ep.fT,{[ep.cz]:!ea})},n.createElement(t2,{isDisabled:ea})),en?.shouldHideDLTUndoRedo&&!E.Ay.isMeetDevice?void 0:n.createElement("div",{className:ep.s$},n.createElement(t6,null)))):null,el=A.C()?.setDltNode||p.lQ,ei=A.C()?.setDltContainerNode||p.lQ,eo=CSS.supports&&CSS.supports("overflow","clip"),es=(0,l.U1)(el),ec=n.createElement("div",{id:F.HY,className:s()(ep.kl,{[ep.Q$]:!1}),ref:es,role:"region","aria-label":(0,f.t)("whiteboard.delightful_toolbar.drawing_tools_label"),"data-onboarding-key":F.HY,"data-element-target":F.HY,"data-testid":F.HY},n.createElement("div",{className:s()(ep.o9,{[ep.ES]:eo})},n.createElement("div",{className:s()({[ep.Uq]:!1}),onPointerDown:e=>{},role:void 0},n.createElement("div",{className:s()(ep.iU,{[ep.wF]:!1})},n.createElement(eh,null),n.createElement(ed.cG,{className:ep.zb}),n.createElement(ed.wn,null,n.createElement(tV,{optimizeForCompactSize:!!Y}),n.createElement(tX,{toolbarIconScale:1}),n.createElement(tW.xJ,{optimizeForCompactSize:!!Y})),n.createElement(ed.cG,null),n.createElement(t0,null),(O?.numPrimaryTools!==0||D)&&n.createElement(ed.cG,null),n.createElement(eM.q,{toolbarIconScale:1}))))),em=n.createElement("div",{className:ep.AT,ref:ei},a&&!B&&n.createElement(t9,{toolbarContainerRef:h,onCloseForViewOnlyBanner:H}),n.createElement("div",{className:B?ep.Xn:ep.qG},ec),n.createElement(eY,null)),eu=(0,r.d4)(e=>e.showingFileFooter);return n.createElement(T.fu,{name:F.RZ},n.createElement(eO.nS.Provider,{value:$},er,n.createElement("div",{className:s()(ep.HG,b.Dm,{[ep.E$]:!1,[ep.Qs]:eu,[ep.i0]:"ANIMATING"===o&&!G,[ep.OA]:"POST"===o||G,[ep.z]:G}),style:K,ref:h,onFocusCapture:()=>{h.current?.setAttribute("aria-hidden","false")}},em)))});function t9(e){let t=(0,Z.bz)(),a=(0,Z.oV)(),r=(0,Z.rD)(),l=(0,v.Yz)(),i=(0,x.vt)(),o=function(){let e=(0,ek.R)(),t=(0,I.aV)(),a=(0,L.q5)(),n=(0,eA.VA)(a?.project),r=(0,ex.Td)(),l=!!(0,eR.iZ)(),i=(0,h.Cf)(O.G_.WHITEBOARD),o=!!i?.showBanner;return e&&!t&&!r&&l&&o&&!n}(),s=(0,h.Cf)(O.G_.WHITEBOARD);return n.useMemo(()=>o?n.createElement(Y,{text:s?.text??"",shouldShowCurf:s?.shouldShowCurf}):t?n.createElement(en,null):r?n.createElement(ey,{dltRef:e.toolbarContainerRef}):a&&!l(i)?n.createElement(eN,{dltRef:e.toolbarContainerRef,onClose:e.onCloseForViewOnlyBanner}):(0,D.O)()?n.createElement(D.X,null):null,[t,r,a,l,i,o,s,e.toolbarContainerRef,e.onCloseForViewOnlyBanner])}function ae(){return n.createElement(g.tH,{boundaryKey:"DelightfulToolbar",fallback:g.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(t7,null))}},191352:(e,t,a)=>{a.d(t,{D8:()=>E,W2:()=>_,Zh:()=>p,sD:()=>g});var n=a(411855),r=a(875877),l=a(977235),i=a(76265),o=a(284193),s=a(946062),c=a(423099),d=a(873137),m=a(84225),u=a(657994);let p="figjam-shapes-sidebar-onboarding-key",E="figjam-developer-shapes-onboarding-key",_="figjam-more-shapes-onboarding-key";function g({complete:e}){let[t,a]=(0,r.fp)(d.oh),g=(0,l.gB)({shapesSidebarOpen:(0,r.md)(u.s1)}),f=(0,r.Xr)(u.s1),[h,b]=(0,n.useState)(!1),[v,T]=(0,n.useState)(!1);return n.useEffect(()=>{v&&!("open"===t.state&&"shape"===t.tool)&&e()},[g,v,e,t]),n.createElement(o.WZ,{isShowing:!0,steps:[{title:(0,i.tx)("whiteboard.ad_onboarding.shapes_sidebar.header"),description:(0,i.tx)("whiteboard.ad_onboarding.shapes_sidebar.body"),targetKey:p,trackingContextName:"AD Onboarding > Shapes Sidebar",arrowPosition:s.F_.LEFT_TITLE,whenTargetLost:"complete",highlightBlue:!0},{title:(0,i.tx)("whiteboard.ad_onboarding.developer_shapes.header"),description:(0,i.tx)("whiteboard.ad_onboarding.developer_shapes.body"),targetKey:E,trackingContextName:"AD Onboarding > Developer Shapes",arrowPosition:s.F_.LEFT_TITLE,onStepShow:()=>{h||b(!0);let e=(0,c.xT)(E);e&&e.scrollIntoView()},whenTargetLost:"complete",disableHighlight:!0},{title:(0,i.tx)("whiteboard.ad_onboarding.more_shapes_button.header"),description:(0,i.tx)("whiteboard.ad_onboarding.more_shapes_button.body"),targetKey:_,trackingContextName:"AD Onboarding > More Shapes",onStepShow:()=>{v||(f(!1),a({type:"open",tool:"shape"}),T(!0))},arrowPosition:s.F_.LEFT_TITLE,whenTargetLost:"complete",highlightBlue:!0}],onComplete:e,userFlagOnShow:m.c8})}},246947:(e,t,a)=>{a.d(t,{s:()=>S});var n=a(411855),r=a(188507),l=a(846288),i=a(269685),o=a(805014),s=a(629019),c=a.n(s),d=a(709103),m=a(323434),u=a(134288),p=a(841962),E=a(563192),_=a(137565),g=a(622667),f=a(475824),h=a(393591),b=a(695024),v=a(788894),T=a(554147),y=a(430583),w=a(324588),C=a(433);let S=n.memo(function({toolType:e,color:t,isSelected:a,onTap:s,onDragEnd:S,onDragStart:I,Icon:N,IconNoRef:L,toolbarIconScale:O,canvasToSvgScale:k,isDrawingSubmenuTool:A,isDragReversing:R,stickyAnimationState:x,isHovered:M,hoverOffsetAmount:D="DEFAULT",shapeStrokeStyleType:P}){let{state:F,dispatch:B}=n.useContext(T.nS),H=(0,r.wA)(),U=F.draggedTool===e,V=F.draggedToolCanCancel,[W,K]=n.useState(!1),[G,j]=n.useState(!1),[z,Z]=n.useState(0),$=n.useRef(!1);n.useEffect(()=>{let e=e=>{"Escape"===e.key&&U&&(B({type:"end drag"}),$.current=!0,K(!1),Z(z+1))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[z,U,e,B]),n.useEffect(()=>{let e=()=>{K(!1)};return document.addEventListener("pointerup",e),()=>{document.removeEventListener("pointerup",e)}},[K]),n.useEffect(()=>(U?document.body.classList.add(C.bz):document.body.classList.remove(C.bz),()=>{document.body.classList.remove(C.bz)}),[U]);let Y=n.useRef(null),X=(0,b.Pl)({subscribeToUpdates_expensive:U}),J=function(e){switch(e){case"NONE":return 0;case"STICKY":return -20;case"DRAWING":return -22;case"DRAWING_SUBMENU":case"DEFAULT":return -24}}(D),Q=n.useRef(null),q=(0,d.d)(.5),ee=(0,d.d)(.5),[et,ea]=n.useState(),en=U?V?"whileDragShouldCancel":"whileDrag":"pencil"===e&&a?"hiddenPencil":W?"whileTap":A&&a?"selectedSubmenuTool":M?"whileHovering":"initial";if("connector"===e&&!U){let e=(0,i.oB)(f.F.parse(t));e.l>.9&&(t=f.F.formatHSLA({h:e.h,s:e.s,l:.9,a:e.a}))}return n.createElement(_.D8,{recordingKey:(0,v.hx)(`${e}.animatedIcon`),className:c()(C.ke,{[C.zO]:a,[C.bj]:M}),onPointerDown:()=>{if(K(!0),!y.T.RECORD_DETAILED_EVENTS)return E.aH},onPointerUp:()=>{if(K(!1),!y.T.RECORD_DETAILED_EVENTS)return E.aH},onTouchStart:e=>{e.preventDefault()},onTouchEnd:e=>{e.preventDefault(),!G&&F.shouldFinishClick&&s(),j(!1)},onContextMenu:e=>{e.preventDefault()}},n.createElement(m.N,{key:String(z)},n.createElement(u.P.div,{"data-testid":y.T.getMotionDivId(e),"data-test-animate-state":en,style:{originX:q,originY:ee},variants:{initial:{scale:1,y:0},selectedSubmenuTool:{y:J},whileTap:{y:J,scale:.93},whileDragShouldCancel:{y:J,scale:.93},whileDrag:{y:J,scale:X*(k||1)},whileHovering:{y:J},hiddenPencil:{y:72}},animate:en,transition:{duration:.1,ease:[.12,.23,.5,1]},transformTemplate:(e,t)=>"translate3d(0px, 0px, 0) scale(1, 1)"===t?"none":t,drag:!!S,dragConstraints:{top:0,bottom:0,right:0,left:0},ref:Q,onDragStart:(t,a)=>{B({type:"start drag",tool:e}),$.current=!1,o.glU.triggerActionInUserEditScope("set-tool-default",{source:w.fK}),h.oW.trigger("action",o.KWd.CLEAR),H(g.jD());let n=Q.current;if(n){let e=n.getBoundingClientRect();q.set((a.point.x-e.x)/e.width),ee.set((a.point.y-e.y)/e.height)}let r=Y.current;if(r){let e=r.closest("."+C.kl);(0,l.KF)(!!e,"Delightful tool can't find containing toolbar!"),ea(e.getBoundingClientRect()),I&&I()}},onDrag:(e,t)=>{var a;et&&((a=t.point).x>=et.x&&a.x<=et.x+et.width&&a.y>=et.y||a.y>et.y+et.height)!==V&&B({type:"toggle drag cancellable"})},onDragEnd:(e,t)=>{if(j(!0),q.set(.5),ee.set(.5),V){B({type:"cancel drag"}),K(!1);return}let a=Y.current;if(a){if($.current)return;let t=(0,v.zG)(a.getBoundingClientRect()),n=(0,v.C2)(e);S&&S(t,n),B({type:"end drag"}),K(!1),Z(z+1)}else(0,l.KF)(!1,"Delightful tool is missing the toolref!")},dragElastic:1},N?n.createElement(N,{color:t,toolbarIconScale:O,ref:Y,isBeingDraggedForPlacement:U,shouldAnimate:U,isReversing:R,stickyAnimationState:x,shapeStrokeProps:{isDragging:U,styleType:(0,p.kc)().figjam_dlt_shape_border&&void 0!==P?P:o.xbm.NONE,svgToCanvasScale:k&&O?1/(k*O):1}}):L)))})},84225:(e,t,a)=>{a.d(t,{c8:()=>eT,xJ:()=>ek});var n=a(411855),r=a(805014),l=a(851169),i=a(629019),o=a.n(i),s=a(841962),c=a(875877),d=a(48929),m=a(475824),u=a(596608),p=a(955597),E=a(780017),_=a(58590),g=a(427494),f=a(135891),h=a(688656),b=a(759240),v=a(720826),T=a(873137),y=a(788894),w=a(554147),C=a(540680),S=a(928343),I=a(109388),N=a(693565),L=a(76265),O=a(191352);let k="advanced_diagramming_onboarding--flyout--F8slx";var A=a(41129),R=a(213881),x=a(293335);function M({position:e,isHovered:t,hasProgressedToShapesSidebar:a,onboardingDelayHasCompleted:r,complete:l}){return e?a?n.createElement(O.sD,{complete:l}):(0,I.createPortal)(n.createElement("div",{className:o()({"advanced_diagramming_onboarding--onboardingContainer--V1w0u":!0,"advanced_diagramming_onboarding--onboardingHovered--JCcLA":t}),style:{top:e.top,left:e.left,height:e.height,width:e.width}},n.createElement(P,null),n.createElement(D,{text:(0,L.t)("whiteboard.ad_onboarding.onboarding_entry_pill_content"),isShowing:r})),document.getElementById("fullscreen-root")):null}function D({text:e,isShowing:t}){return n.createElement("div",{className:o()({"advanced_diagramming_onboarding--labelContainer--MO7wT":!0,"advanced_diagramming_onboarding--labelContainerShowing--LmY-g":t})},n.createElement("span",{className:"advanced_diagramming_onboarding--label--4Ti9J text--fontPos11--2LvXf text--_fontBase--QdLsd"},e))}function P(){return n.createElement(n.Fragment,null,n.createElement("div",{className:o()("advanced_diagramming_onboarding--flyoutLeft--d-idk",k)},n.createElement(N.B,{svg:x.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})),n.createElement("div",{className:o()("advanced_diagramming_onboarding--flyoutRight--RmOg2",k)},n.createElement(N.B,{svg:A.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})),n.createElement("div",{className:o()("advanced_diagramming_onboarding--flyoutCenter--xXW1g",k)},n.createElement(N.B,{svg:R.A,style:{fill:"#FFFFFF",stroke:"#B6B6B6"}})))}var F=a(246947),B=a(188507),H=a(351966),U=a(709103),V=a(134288),W=a(277154),K=a(563192),G=a(265851),j=a(622667),z=a(373247),Z=a(343373),$=a(695024),Y=a(125682),X=a(453783),J=a(20620),Q=a(488898),q=a(921428),ee=a(383462),et=a(227070),ea=a(604753),en=a(575561),er=a(259224),el=a(324588),ei=a(824883),eo=a(346531),es=a(433);let ec="dlt_shape_submenu--isSelected--isSGg";var ed=a(141908),em=a(665221);let eu=X.l6,ep=X.c$,eE=new z.kv,e_=n.memo(function({recordingKey:e}){let t=(0,B.wA)(),a=(0,Y.Um)(),l=(0,et.OD)(),i=(0,et.AT)(),[o,u]=(0,c.fp)(d.ez),[p,E]=(0,c.fp)(d.SK),{shapeWithTextType:_}=p,g=(0,c.md)(d.U9),[f,h]=n.useState("BASIC"),b="DIAGRAMMING"===f,v=(0,Z.GS)()&&(0,s.kc)().figjam_diagramming_improvements_v1,w=(0,c.md)(T.oh),C="open"===w.state&&"shape"===w.tool,S=n.useCallback(e=>{let t=ei.Jc.get(e);if(!t)return;let{actionEnum:a}=(0,ei.Qd)((0,s.kc)().figjam_unify_swt_default_sizing).get(t);r.glU.triggerActionEnumInUserEditScope(a,{source:el.fK})},[]),I=n.useCallback(e=>{u(e);let t=ei.Jc.get(_);if(!t)return;let{actionEnum:a}=(0,ei.Qd)((0,s.kc)().figjam_unify_swt_default_sizing).get(t);r.glU.triggerActionEnumInUserEditScope(a,{source:el.fK})},[u,_]),N=n.useCallback(e=>{E({...p,connectorToolLineStyle:e}),r.glU.triggerActionEnumInUserEditScope((0,y.tl)(e),{source:el.fK})},[E,p]),k=m.F.format(o),[A,R]=n.useState(!1),{openColorPalettePicker:x,closeColorPalettePicker:M}=(0,J.$J)(R),[D,P]=n.useState(!1);!function({isShapeMenuColorPickerOpen:e}){let t=function(e){let t=(0,c.md)(ee.B),a=(0,et.Yt)(),n=(0,et.s3)()&&t===r.cxo.SHAPE_TOOL;return null!==a||n||e}(e),[a,l]=(0,c.fp)(ee.B),i=r.cxo.SHAPE_TOOL;n.useEffect(()=>{t&&a!==i?l(i):t||a!==i||l(ee.y)},[t,i,a,l]),n.useEffect(()=>()=>{a===i&&l(ee.y)},[a,l,i])}({isShapeMenuColorPickerOpen:D});let F=(0,er.ar)(),U=n.useCallback(()=>{W.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_open",{}),F(),r.glU&&r.glU.triggerActionEnum(r.rcl.SET_TOOL_DEFAULT,{})},[F]);return n.createElement(n.Fragment,null,n.createElement(q.br,{paddingLeft:4,paddingRight:5,shouldVerticallyCenter:!0},n.createElement(en.K0,{key:"ELBOWED",svg:ed.A,tooltip:(0,L.t)("whiteboard.delightful_toolbar.connector"),onClick:()=>N("ELBOWED"),active:l?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:{borderRadius:b?"4px":"12px 4px 4px 4px"},recordingKey:K.Pt(e,"ELBOWED")}),n.createElement(en.K0,{key:"STRAIGHT",svg:em.A,tooltip:(0,L.t)("whiteboard.delightful_toolbar.straight_line"),onClick:()=>N("STRAIGHT"),active:i?"LOUD":"NONE",isNewSubmenu:!0,buttonStyle:{borderRadius:"4px",marginRight:"2px"},recordingKey:K.Pt(e,"STRAIGHT")}),n.createElement(ea.ZE,{value:o,onColorChange:I,paletteType:"base",buttonSize:"medium",buttonClassName:"dlt_shape_submenu--shapeColorSelectorButton--YekZF",buttonBackground:"light",optionSize:"medium",buttonCaretType:"up",ariaLabel:(0,L.t)("whiteboard.inline_menu.color_list_box"),recordingKey:K.Pt(e,`shape-color-${k}`),palettePickerPopoverWrapper:function({children:t}){return n.createElement(en.W1,null,n.createElement("div",{className:"dlt_shape_submenu--flexColumn--hCUzZ"},t),n.createElement(Q.s,{colorPalettePickerState:{openColorPalettePicker:x,closeColorPalettePicker:M,isColorPalettePickerOpen:A},paletteType:"base",recordingKey:K.Pt(e||"color-palettes","shape")||"shape",isInDltSubmenu:!1}))},isColorPopoverOpen:D,setIsColorPopoverOpen:P,shouldDisableDataTooltip:!C})),!v&&n.createElement(n.Fragment,null,n.createElement(q.XI,null),n.createElement(q.br,{paddingLeft:5,paddingRight:8,height:b?88:void 0},n.createElement("div",{className:"dlt_shape_submenu--submenuShapesGroup--2ev12"},n.createElement("div",{className:"dlt_shape_submenu--shapeCollectionTypeSelectWrapper--iY6BU"},n.createElement(eu,{id:"shape-collection-type-select-id",inputClassName:"dlt_shape_submenu--shapeCollectionTypeSelectInput--uW5RX",dropdownClassName:"dlt_shape_submenu--shapeCollectionTypeSelectDropdown--BbVc-",formatter:eE,property:f,onChange:e=>{h(e)},dispatch:t,dropdownShown:a,dropdownWidth:120,targetDomNode:document.body,blurOnChange:!0,neverConstrain:!0,recordingKey:K.Pt(e,"shapeCollectionTypeSelect"),ariaLabel:"Shape Collection Type"},ei.LZ.map(t=>n.createElement(ep,{key:t,value:t,height:26,recordingKey:K.Pt(e,t)}))))))),n.createElement(q.XI,null),n.createElement(q.br,{paddingLeft:8,paddingRight:4,shouldVerticallyCenter:!0},n.createElement(eg,{shapeCollectionType:f,shapeColor:o,strokeStyleType:g,onChange:S,recordingKey:e})),n.createElement(n.Fragment,null,v?null:n.createElement(q.XI,null),(()=>{let t="MINDMAP_TREE_NUCLEUS";return n.createElement(q.br,{paddingLeft:4,paddingRight:4,shouldVerticallyCenter:!0},n.createElement(ef,{key:t,shapeType:t,color:o,strokeStyleType:g,onChange:S,recordingKey:K.Pt(e,t),isTopRight:!b&&!v}))})()),v&&n.createElement(n.Fragment,null,n.createElement(q.XI,null),n.createElement(q.br,{paddingLeft:8,paddingRight:4,shouldVerticallyCenter:!0},n.createElement(H.E,{onClick:U,className:G.s.flex.b0.noWrap.gap0.flexRow.hFull.px8.itemsCenter.$,recordingKey:K.Pt(e,"MORESHAPES"),htmlAttributes:{"data-onboarding-key":O.W2}},n.createElement("span",{className:G.s.colorText.textBodyMedium.$},(0,L.t)("whiteboard.shapes.more_shapes"))))))});function eg({shapeCollectionType:e,shapeColor:t,strokeStyleType:a,onChange:r,recordingKey:l}){return n.createElement("div",{className:"dlt_shape_submenu--shapesGrid--iweeQ",style:{"--columns":"DIAGRAMMING"===e?8:7},role:"listbox","data-fullscreen-intercept":!0},ei.TW.get(e).map(i=>n.createElement(ef,{key:`${e}-${i}`,shapeType:i,color:t,strokeStyleType:a,onChange:r,recordingKey:K.Pt(l,i),isTopRight:!1})))}function ef({shapeType:e,color:t,strokeStyleType:a,onChange:i,recordingKey:c,isTopRight:d,onboardingKey:u}){let p=(0,B.wA)(),{onDragStart:E,onDrag:_,onDragEnd:g}=(0,eo.zJ)(),f=(0,eo.Fm)(e),b=(0,eo.nI)(),v=n.useRef(null),[T,w]=n.useState(0),C=(0,U.d)(.5),S=(0,U.d)(.5),I=(0,$.Pl)({subscribeToUpdates_expensive:f}),L=(0,et.Yt)(),O=(L?ei.lx.get(L):null)===e,k=K.rf(c,"click",()=>{i(e)}),A=ei.Jc.get(e);if(!A)return null;let R=(0,ei.Qd)((0,s.kc)().figjam_unify_swt_default_sizing).get(A);if(!R)return null;let x=I*(R.canvasToSvgScale||1)/.2,M="MINDMAP_TREE_NUCLEUS"===e;return n.createElement("div",{className:o()({"dlt_shape_submenu--shape--0vtJo":!0,[ec]:O&&!f,"dlt_shape_submenu--isTopRight--gZHau":d,"dlt_shape_submenu--mindmapIcon--C4vqQ":M})},n.createElement(V.P.div,{key:T,"aria-hidden":"true",onPointerDown:k,className:o()({[es.z6]:!0,[es.ac]:!0,"dlt_shape_submenu--shapeDraggable--t9G0E":!0,"dlt_shape_submenu--isDragging--TttjP":f}),style:{originX:C,originY:S},drag:!M,variants:{initial:{scale:1},whileDrag:{scale:x},whileDragCancel:{scale:.93}},animate:f?b?"whileDragCancel":"whileDrag":"initial",dragElastic:1,dragConstraints:{top:0,bottom:0,right:0,left:0},onDragStart:(t,a)=>{let n=v.current;if(n){let e=n.getBoundingClientRect();C.set((a.point.x-e.x)/e.width),S.set((a.point.y-e.y)/e.height)}E(e),p(j.jD())},onDrag:(e,t)=>{_(t.point)},onDragEnd:(t,a)=>{if(C.set(.5),S.set(.5),!b){let a=v.current;if(a){let n=(0,y.zG)(a.getBoundingClientRect()),i=(0,y.C2)(t);l.l7.user("drop-shape-on-canvas",()=>r.glU.dropDiagramItemOntoCanvas(ei.Jc.get(e),Math.round(n.x),Math.round(n.y),Math.round(i.x),Math.round(i.y),r.V5h.TOP_LEFT,r.VTL.NO))}}w(e=>e+1),g()},"data-tooltip":f?void 0:R.action,"data-tooltip-type":h.Ib.LOOKUP,"data-tooltip-offset-y":-10,"data-tooltip-show-above":!0,"data-onboarding-key":u},f&&!b?!M&&n.createElement(R.Icon,{color:m.F.format(t),toolbarIconScale:.2,isBeingDraggedForPlacement:f,shapeStrokeProps:{isDragging:f,styleType:(0,s.kc)().figjam_dlt_shape_border?a:r.xbm.NONE,svgToCanvasScale:R.canvasToSvgScale?1/R.canvasToSvgScale:1},ref:v}):n.createElement(N.B,{svg:(0,ei.eg)(e),className:o()({"dlt_shape_submenu--shapeIcon--o4oZr":!0,[ec]:O})})))}var eh=a(246089);let eb="dlt_shape_collage--ignorePointerEvents--dih4g",ev=["ELLIPSE","SQUARE","TRIANGLE_UP"],eT="seen_figjam_advanced_diagraming_v1_onboarding",ey=(0,E.r1)(eT),ew=[{zIndex:1,width:36,height:36,translateStart:{x:9,y:14},translateEnd:{x:7,y:-6},scale:36/128},{zIndex:2,width:32,height:32,translateStart:{x:49,y:16},translateEnd:{x:51,y:-4},scale:32/112},{zIndex:3,width:40,height:34,translateStart:{x:6,y:57},translateEnd:{x:4,y:37},scale:40/120}],eC={width:30,height:34,translateStart:{x:52,y:54},translateEnd:{x:54,y:34},scale:1},eS=n.memo(function({shapeType:e,index:t,toolbarIconScale:a,isInteractive:i}){let{state:u}=(0,n.useContext)(w.nS),p=ei.Jc.get(e),E=p===(0,et.Yt)(),g=(0,c.md)(d.ez),f=m.F.format(g),b=(0,c.md)(d.U9),v=(0,ei.Qd)((0,s.kc)().figjam_unify_swt_default_sizing).get(p),[C,S]=(0,c.fp)(T.oh),I="open"===C.state&&"shape"===C.tool,N=(0,_.LR)(),L=(0,n.useCallback)(()=>{if(N(!1),I){S({type:"close",source:T.Yg.ToolSelected}),r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_DEFAULT,null);return}S({type:"open",tool:"shape"}),r.glU.triggerActionEnumInUserEditScope(v.actionEnum,{source:el.fK})},[S,I,v.actionEnum,N]),O=u.draggedTool===`shape-tool-${t}`,k=(0,n.useCallback)((e,t)=>{l.l7.user("drop-shape-on-canvas",()=>r.glU.dropDiagramItemOntoCanvas(p,Math.round(e.x),Math.round(e.y),Math.round(t.x),Math.round(t.y),r.V5h.TOP_LEFT,r.VTL.NO))},[p]),A=(v.canvasToSvgScale||1)/a;return i?n.createElement(eh.IB,{className:o()({[es.z6]:!0,[es.ac]:!0,[eb]:O}),toolType:`shape-tool-${t}`,recordingKey:(0,y.hx)(`shape-tool-${t}`),isSelected:E,onClick:L,inTabOrder:!1,"data-tooltip":O?void 0:v.action,"data-tooltip-type":h.Ib.LOOKUP,"data-tooltip-offset-y":0,hasOpenSubmenu:I},n.createElement(F.s,{toolType:`shape-tool-${t}`,color:f,isSelected:E,onTap:L,onDragEnd:k,Icon:v.Icon,toolbarIconScale:a,canvasToSvgScale:A,isHovered:!1,hoverOffsetAmount:"NONE",shapeStrokeStyleType:b})):n.createElement(v.Icon,{color:f,toolbarIconScale:a,shapeStrokeProps:{isDragging:O,styleType:(0,s.kc)().figjam_dlt_shape_border&&void 0!==b?b:r.xbm.NONE,svgToCanvasScale:A&&a?1/(A*a):1}})});function eI({zIndex:e,width:t,height:a,transformStart:r,transformEnd:l,shouldFanOut:i,children:s,hasShadow:c,isInteractive:d}){let[m,u]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{u(!0);let e=setTimeout(()=>{u(!1)},150);return()=>{clearTimeout(e)}},[i]),n.createElement("div",{className:o()("dlt_shape_collage--collageIconContainer--80E2y",{[eb]:m,[es.ac]:c}),style:{zIndex:e,width:t,height:a,transform:i?l:r}},n.createElement("div",{className:o()({"dlt_shape_collage--collageScaleContainer--ZatXz":d})},s))}function eN(e){return`translate(${e.x}px, ${e.y}px)`}let eL=(0,n.memo)(function({shouldFanOut:e,toolbarIconScale:t,showAdvancedDiagrammingOnboarding:a}){let{state:r}=(0,n.useContext)(w.nS);return n.createElement("div",{className:o()({[es.z6]:!0,"dlt_shape_collage--collageButton--Z28yX":!0,"dlt_shape_collage--advancedDiagrammingOnboarding--Tle7Q":a}),style:{width:100*t}},n.createElement(eI,{key:"connector-tool",zIndex:"connector"===r.draggedTool?10:5,width:eC.width*t,height:eC.height*t,shouldFanOut:e,transformStart:eN({x:eC.translateStart.x*t,y:eC.translateStart.y*t}),transformEnd:eN({x:eC.translateEnd.x*t,y:eC.translateEnd.y*t}),isInteractive:!a},n.createElement(eO,{toolbarIconScale:t*eC.scale,isInteractive:!a})),ew.map((l,i)=>{let o=ev[i],s=ei.Jc.get(o);return n.createElement(eI,{key:s,zIndex:r.draggedTool===`shape-tool-${i}`?10:5,width:l.width*t,height:l.height*t,shouldFanOut:e,transformStart:eN({x:l.translateStart.x*t,y:l.translateStart.y*t}),transformEnd:eN({x:l.translateEnd.x*t,y:l.translateEnd.y*t}),isInteractive:!a,hasShadow:!0},n.createElement(eS,{shapeType:o,index:i,toolbarIconScale:t*l.scale,isInteractive:!a}))}))});function eO({toolbarIconScale:e,isInteractive:t}){let{state:a}=(0,n.useContext)(w.nS),i=(0,g.aV)(),s=(0,et.Uo)(),u=(0,c.md)(d.SK),p=u.connectorToolLineStyle,E=(0,c.md)(d.wp),f=m.F.format(E),[b,C]=(0,c.fp)(T.oh),S="open"===b.state&&"shape"===b.tool,I=(0,_.LR)(),N=(0,n.useCallback)(()=>{if(I(!1),S){C({type:"close",source:T.Yg.ToolSelected}),r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_DEFAULT,null);return}C({type:"open",tool:"shape"}),"ELBOWED"===p?r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_CONNECTOR_ELBOWED,{source:el.fK}):r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_CONNECTOR_STRAIGHT,{source:el.fK})},[S,C,p,I]),L="connector"===a.draggedTool,O=(0,n.useCallback)((e,t)=>{l.l7.user("drop-connector-on-canvas",()=>r.glU.dropDiagramItemOntoCanvas("ELBOWED"===p?r.NLJ.CONNECTOR_ELBOWED:r.NLJ.CONNECTOR_STRAIGHT,Math.round(e.x),Math.round(e.y+7*y.P),Math.round(t.x),Math.round(t.y),r.V5h.TOP_LEFT,r.VTL.NO))},[p]),k="ELBOWED"===u.connectorToolLineStyle?v.XD:v.vO;return t?n.createElement(eh.IB,{className:o()({[es.z6]:!0,[es.ac]:!1,[eb]:L,"dlt_shape_collage--isConnectorIconHidden--OVylY":i}),toolType:"connector",recordingKey:(0,y.hx)("connector-tool"),isSelected:s,onClick:N,inTabOrder:!1,onboardingKey:y.Nr,"data-tooltip":L?void 0:"set-tool-connector-elbowed","data-tooltip-type":h.Ib.LOOKUP,"data-tooltip-offset-y":0,hasOpenSubmenu:S},n.createElement(F.s,{toolType:"connector",color:f,isSelected:s,onTap:N,onDragEnd:O,Icon:k,toolbarIconScale:e,canvasToSvgScale:y.P,isHovered:!1,hoverOffsetAmount:"NONE"})):n.createElement(k,{color:f,toolbarIconScale:e,shapeStrokeProps:{isDragging:L,styleType:r.xbm.NONE,svgToCanvasScale:y.P&&e?1/(y.P*e):1}})}function ek({optimizeForCompactSize:e}){let[t,a]=(0,c.fp)(d.SK),[l,i]=(0,c.fp)(ee.B),{shapeWithTextType:o}=t,m=ei.Jc.get(o),E=(0,n.useRef)(null),_=(0,C.$y)(),g=(0,et.Yt)(),h=(0,et.bu)(),v=(0,et.sT)(),w=(0,et.s3)()&&l===r.cxo.SHAPE_TOOL,I=(0,c.md)(T.oh),N="open"===I.state&&"shape"===I.tool||w,L=function({startingShapeTool:e}){let[t,a]=(0,c.fp)(T.oh),l="open"===t.state&&"shape"===t.tool;return(0,n.useCallback)(()=>{if(l){a({type:"close",source:T.Yg.ToolSelected}),r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_DEFAULT,null);return}if(e){let t=(0,ei.Qd)((0,s.kc)().figjam_unify_swt_default_sizing),a=t.get(e)?.actionEnum??r.rcl.SET_TOOL_DEFAULT;r.glU.triggerActionEnumInUserEditScope(a,{source:el.fK})}a({type:"open",tool:"shape"})},[a,l,e])}({startingShapeTool:ei.Jc.get("SQUARE")}),O=(0,c.md)(p.Fy),k=(0,c.md)(ey),{show:A,isShowing:R,complete:x}=(0,u.e)({overlay:b.Wd_,priority:f.N.SECONDARY_MODAL},[k,O]);n.useEffect(()=>{A({canShow:(e,t)=>!e&&t&&!!(0,s.kc)().figjam_diagramming_improvements_v1&&_})},[A,k,O,_]);let[D,P]=(0,n.useState)(!1);n.useEffect(()=>{let e=setTimeout(()=>{P(!0)},2e3);return()=>clearTimeout(e)},[P]);let[F,B]=n.useState(!1),H=(0,er.ar)(),U=n.useCallback(()=>{r.glU.triggerActionEnumInUserEditScope(r.rcl.SET_TOOL_DEFAULT,null),B(!0),H()},[H]),V=R&&D&&!F,W=V?U:L;(0,n.useEffect)(()=>{m!==g&&g&&a({...t,shapeWithTextType:ei.lx.get(g)})},[g,m,t,a]);let{isHovered:K,onMouseEnter:G,onMouseMove:j,onMouseLeave:z,onTouchStart:Z,onTouchEnd:$}=(0,S.W)(W,h||v,!1),Y=n.createElement(q.Qw,{isOpen:N,fadedOut:K,optimizeForCompactSize:e,testId:"dlt-shape-submenu",id:y.V4},n.createElement(eo.Lz,null,n.createElement(e_,{recordingKey:(0,y.hx)("shapeMenu")}))),X=E.current?.getBoundingClientRect(),J=X?{top:X.top,left:X.left,height:X.height,width:X.width}:void 0;return n.createElement(n.Fragment,null,n.createElement(q.XN,{alignment:"CENTER"},n.createElement(q.ti,{isSelected:K||N,noScaleAnimation:!0},n.createElement(eh.J7,{toolType:"shape",recordingKey:(0,y.hx)("shape"),className:es.xt,onClick:W,isSelected:N,onboardingKey:y.BC,isHovered:K,onMouseEnter:G,onMouseMove:j,onMouseLeave:z,onTouchStart:Z,onTouchEnd:$,hasOpenSubmenu:N,"data-does-not-dismiss-modal":!0,ariaLabel:"dlt-shape-collage-button",testId:"dlt-shape-collage-button"},n.createElement("div",{className:"dlt_shape_collage--collageButtonContainer--4Ex6o",ref:E},n.createElement(eL,{shouldFanOut:K,showAdvancedDiagrammingOnboarding:V,toolbarIconScale:1})))),Y),R&&n.createElement(M,{onboardingDelayHasCompleted:D,position:J,isHovered:K,hasProgressedToShapesSidebar:F,complete:x}))}},346531:(e,t,a)=>{a.d(t,{Fm:()=>u,Lz:()=>c,nI:()=>p,zJ:()=>m});var n=a(411855),r=a(846288),l=a(788894),i=a(9805),o=a(324588);let s=(0,n.createContext)({hoveredShape:null,onMouseEnter:()=>{},onMouseLeave:()=>{},draggedShape:null,shouldDragCancel:!1,onDragStart:()=>{},onDrag:()=>{},onDragEnd:()=>{}});function c(e){let[t,a]=(0,n.useState)(null),[c,m]=(0,n.useState)(null),[u,p]=(0,n.useState)(!1),E=(0,n.useRef)(null),_=(0,n.useRef)(null),g=(0,n.useRef)(null),f=(0,n.useMemo)(()=>({hoveredShape:t,onMouseEnter:e=>{a(e)},onMouseLeave:()=>{a(null)},draggedShape:c,shouldDragCancel:u,onDragStart:e=>{let t=document.getElementById(o.HY);(0,r.KF)(!!t,"Can't find delightful toolbar"),t&&(E.current=t.getBoundingClientRect());let a=document.getElementById(l.V4);(0,r.KF)(!!a,"Can't find delightful toolbar submenu"),a&&(_.current=a.getBoundingClientRect());let n=document.getElementById(i.YV);n&&(g.current=n.getBoundingClientRect()),m(e)},onDrag:e=>{if(E.current&&_.current){let t=d(e,E.current)||d(e,_.current)||!!g.current&&d(e,g.current,!1);t!==u&&p(t)}},onDragEnd:()=>{E.current=null,_.current=null,g.current=null,m(null),p(!1)}}),[c,t,u]);return n.createElement(s.Provider,{value:f},e.children)}function d(e,t,a=!0){return e.x>=t.x&&e.x<=t.x+t.width&&e.y>=t.y&&(a||e.y<=t.y+t.height)||a&&e.y>t.y+t.height}function m(){let e=(0,n.useContext)(s);return{onDragStart:e.onDragStart,onDrag:e.onDrag,onDragEnd:e.onDragEnd}}function u(e){let t=(0,n.useContext)(s);return e?t.draggedShape===e:null!=t.draggedShape}function p(){return(0,n.useContext)(s).shouldDragCancel}},486839:(e,t,a)=>{a.d(t,{az:()=>F,dQ:()=>D,f7:()=>B,Q6:()=>H});var n=a(901152),r=a(720826),l=a(994917),i=a(411855),o=a(188507),s=a(805014),c=a(58590),d=a(688656),m=a(680889),u=a(788894),p=a(684820),E=a(246089),_=a(324588),g=a(433);let f=(0,i.memo)(function(){let e=(0,o.d4)(e=>e?.mirror?.appModel?.currentTool===s.NLJ.SECTION),t=(0,c.LR)(),a=(0,i.useCallback)(()=>{t(!1),s.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-section",{source:_.fK})},[e,t]);return i.createElement(E.IB,{toolType:"section",recordingKey:(0,u.hx)("section"),isSelected:e,className:g.uW,onClick:a,"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":"set-tool-section",hasOpenSubmenu:!1,onboardingKey:m.pN},t=>i.createElement(p.gd,{toolType:"section",inactiveIcon:i.createElement(r.aO,null),hoveredIcon:i.createElement(r.wv,null),activeIcon:i.createElement(r.XU,null),isSelected:e,isHovered:t}))});var h=a(196829);let b=(0,i.memo)(function(){let e=(0,o.d4)(e=>e?.mirror?.appModel?.currentTool===s.NLJ.TYPE),t=(0,c.LR)(),a=(0,i.useCallback)(()=>{t(!1),s.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-type",{source:_.fK})},[e,t]);return i.createElement(E.IB,{toolType:"text",recordingKey:(0,u.hx)("text"),isSelected:e,className:g.Qq,onClick:a,"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":"set-tool-type",hasOpenSubmenu:!1},t=>i.createElement(p.gd,{toolType:"text",inactiveIcon:i.createElement(r.Ch,null),hoveredIcon:i.createElement(r.Gb,null),activeIcon:i.createElement(r.nl,null),isSelected:e,isHovered:t}))}),v=(0,i.memo)(function(){let e=(0,o.d4)(e=>e?.mirror?.appModel?.currentTool===s.NLJ.COMMENTS),t=(0,i.useCallback)(()=>{s.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-comments",{source:_.fK})},[e]);return i.createElement(E.IB,{toolType:"comments",recordingKey:(0,u.hx)("comments"),isSelected:e,className:g.nK,onClick:t,"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":"set-tool-comments",hasOpenSubmenu:!1},t=>i.createElement(p.gd,{toolType:"comments",inactiveIcon:i.createElement(r.Rz,null),hoveredIcon:i.createElement(r.hM,null),activeIcon:i.createElement(r.EB,null),isSelected:e,isHovered:t}))}),T=(0,i.memo)(function(){let e=(0,o.d4)(e=>e?.mirror?.appModel?.currentTool===s.NLJ.TABLE),t=(0,c.LR)(),a=(0,i.useCallback)(()=>{t(!1),s.glU.triggerActionInUserEditScope(e?"set-tool-default":"set-tool-table",{source:_.fK})},[e,t]);return i.createElement(E.IB,{toolType:"table",recordingKey:(0,u.hx)("table"),isSelected:e,className:g.tp,onClick:a,"data-tooltip-type":d.Ib.LOOKUP,"data-tooltip":"set-tool-table",hasOpenSubmenu:!1},t=>i.createElement(p.gd,{toolType:"table",inactiveIcon:i.createElement(r.PW,null),hoveredIcon:i.createElement(r.nb,null),activeIcon:i.createElement(r.oN,null),isSelected:e,isHovered:t}))}),y=r.Ch(),w=r.aO(),C=r.PW(),S=r.oV(),I=r.lV(),N=r.Rz(),L=r.LI(),O=r.pk(),k=r.G7(),A=r.xc(),R=r.sw(),x=r.Ye(),M=new Map([["text",{toolType:"text",Component:b,action:"set-tool-type",iconComponent:y,noBorderIconComponent:L}],["stamp",{toolType:"stamp",Component:h.sV,action:"set-tool-stamp",iconComponent:S,noBorderIconComponent:A}],["section",{toolType:"section",Component:f,action:"set-tool-section",iconComponent:w,noBorderIconComponent:O}],["table",{toolType:"table",Component:T,action:"set-tool-table",iconComponent:C,noBorderIconComponent:k}],["universal-insert",{toolType:"universal-insert",Component:l.Hm,action:"browse-all-resources-dlt-overflow",iconComponent:I,noBorderIconComponent:R}],["comments",{toolType:"comments",Component:v,action:"set-tool-comments",iconComponent:N,noBorderIconComponent:x}]]);function D(){let e=["text","section","table","stamp"];return n.pb.isGoogleClassroomIntegration()&&e.push("comments"),e}function P(e){return 0===e?549:573+56*e}function F(e){let t=[],a=D().length;return t.push({stage:"FULL",thresholdWidth:P(a),numPrimaryTools:a}),5===a&&t.push({stage:"MINIMIZED_FOUR",thresholdWidth:P(4),numPrimaryTools:4}),t=t.concat([{stage:"MINIMIZED_THREE",thresholdWidth:P(3),numPrimaryTools:e?2:3},{stage:"MINIMIZED_TWO",thresholdWidth:P(2),numPrimaryTools:e?1:2},{stage:"MINIMIZED_ONE",thresholdWidth:P(1),numPrimaryTools:e?0:1},{stage:"MINIMIZED_ZERO",thresholdWidth:549,numPrimaryTools:0},{stage:"MINIMIZED",thresholdWidth:437,numPrimaryTools:0},{stage:"CUT_OFF",thresholdWidth:0,numPrimaryTools:0}])}function B(){let e=[];for(let t of D()){let a=(function(){let e=new Map;for(let t of new Set(["text","stamp","section","table","comments"]))M.has(t)&&e.set(t,M.get(t));return e})().get(t);a&&(e=e.concat(a))}return e}function H(e){return B().slice(0,e).map(e=>e.toolType)}},196829:(e,t,a)=>{a.d(t,{sV:()=>R});var n=a(411855),r=a(188507),l=a(805014),i=a(629019),o=a.n(i),s=a(841962),c=a(747484),d=a(693565),m=a(76265),u=a(536737),p=a(463713),E=a(252207),_=a(58590),g=a(49039),f=a(688656),h=a(720826),b=a(788894),v=a(684820),T=a(246089),y=a(227070),w=a(325184),C=a(324588),S=a(150237),I=a(433),N=a(533600);let L={padBottom:30,height:512},O=100*L.padBottom/L.height,k=`calc(${O}% + ${-C.H1}px)`,A=`translateY(${k})`,R=(0,n.memo)(function(){let e=(0,r.wA)(),t=P(),a=(0,r.d4)(e=>e?.mirror?.appModel?.currentTool===l.NLJ.STAMP)||t,i=(0,g.XM)(),s=(0,w.hr)(),c=s>0,d=(0,r.d4)(e=>e.universalInsertModal.showing),m=(0,y.bu)(),N=(0,n.useCallback)(()=>{i&&e(p.H1({votingStage:l.W8Y.NOT_JOINED})),e(u.Ho())},[e,i]),L=(0,_.LR)(),O=(0,n.useCallback)(()=>{L(!1),t?E.CB.closeWheel():(0,S.A)({source:C.fK})},[t,L]);return n.createElement("div",{"data-element-target":C.NZ,className:o()(I.Zh,I.UJ)},n.createElement(T.IB,{toolType:"stamp",recordingKey:(0,b.hx)("stamp"),isSelected:a,className:I.iE,onClick:O,"data-tooltip-type":f.Ib.LOOKUP,"data-tooltip":"set-tool-stamp",onboardingKey:C.E$,tooltipLocation:i?"below":"above",tooltipOffset:i?{offsetX:0,offsetY:-14}:void 0,"data-tooltip-bottom-flip-margin":i?0:void 0,hasOpenSubmenu:!1},e=>n.createElement(v.gd,{toolType:"stamp",inactiveIcon:n.createElement(h.oV,null),hoveredIcon:n.createElement(h.mS,null),activeIcon:n.createElement(h.dF,null),isSelected:a,isHovered:e})),i&&!d&&!m&&n.createElement(n.Fragment,null,n.createElement(x,{leaveVotingSessionAndCloseWheel:N,onClickToOpenWheel:O,numVotesRemaining:s,hasRemainingVotes:c}),n.createElement(D,{onClickToOpenWheel:O,isStampToolSelected:a,hasRemainingVotes:c})))});function x({onClickToOpenWheel:e,leaveVotingSessionAndCloseWheel:t,numVotesRemaining:a,hasRemainingVotes:r}){let[l,i]=(0,n.useState)(!1),s=r&&!c.Ay.isIpad;M({shouldOpenWheelOnHover:s,isHovered:l});let u=r?I.rf:I.he;return n.createElement("button",{className:o()(I.tS,u),onMouseEnter:()=>!c.Ay.isIpad&&i(!0),onMouseLeave:()=>!c.Ay.isIpad&&i(!1),onClick:()=>{s||(r?e():t())},tabIndex:-1},r?n.createElement("span",{className:I._V},(0,m.tx)("voting.delightful_toolbar.votes_remaining",{numVotes:a})):n.createElement(n.Fragment,null,n.createElement(d.B,{className:I.oE,svg:N.A}),n.createElement("span",{className:I._V},(0,m.tx)("voting.delightful_toolbar.no_votes_remaining"))))}function M({shouldOpenWheelOnHover:e,isHovered:t}){let a=e&&t;(0,n.useEffect)(()=>{if(!a)return;let e=setTimeout(()=>(0,S.A)({source:"peeking_vote_wheel_hover",openedViaHover:!0}),100);return()=>clearTimeout(e)},[a])}function D({onClickToOpenWheel:e,isStampToolSelected:t,hasRemainingVotes:a}){let[r,l]=(0,n.useState)(!1),i=n.useRef(null),d=P(),m=function({isHidden:e,wheelRef:t}){let[a,r]=n.useState(!1);return n.useEffect(()=>{if(e){r(!0);return}let a=t.current;if(!a){r(!1);return}let n=()=>{r(!1),a.removeEventListener("transitionend",n)};return a.addEventListener("transitionend",n),()=>{a.removeEventListener("transitionend",n)}},[e,t]),e||a}({isHidden:d,wheelRef:i}),u=a&&!c.Ay.isIpad;M({shouldOpenWheelOnHover:u,isHovered:r}),(0,n.useEffect)(()=>{let e=i.current;if(!e)return;let t={transform:`${A} scale(1.05)`},a={transform:`${A} scale(1)`},n=new Animation(new KeyframeEffect(e,[{transform:"translateY(100%) scale(0.1)"},t],{duration:450,easing:"ease-out"})),r=new Animation(new KeyframeEffect(e,[t,a],{duration:200,easing:"ease-in-out"})),l=new Animation(new KeyframeEffect(e,[a,a],{duration:400})),o=new Animation(new KeyframeEffect(e,[a,{}],{duration:300,easing:"cubic-bezier(0.37, 0, 0.48, 1.33)"}));return n.play(),n.finished.then(()=>r.play()).catch(()=>{}),r.finished.then(()=>l.play()).catch(()=>{}),l.finished.then(()=>o.play()).catch(()=>{}),()=>{n.cancel(),l.cancel(),o.cancel()}},[i]);let p=!(t||a);return n.createElement("div",{className:I.$},n.createElement("button",{ref:i,tabIndex:-1,className:o()(I.uA,{[I.hA]:p,[I.wj]:d,[I.tq]:m,[I.FP]:!a}),onMouseEnter:()=>!c.Ay.isIpad&&l(!0),onMouseLeave:()=>!c.Ay.isIpad&&l(!1),onClick:()=>!u&&e(),style:{backgroundImage:`url(${(0,s.ck)("c497ee1c6afcaf44b866a46227b40c8ad62dd143")})`}}))}function P(){return(0,r.d4)(e=>"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType))}},2285:(e,t,a)=>{let n,r,l,i;a.r(t),a.d(t,{FigjamView:()=>h5});var o=a(411855),s=a(188507),c=a(805014),d=a(841962),m=a(875877),u=a(747484),p=a(138406),E=a(499875),_=a(553362),g=a(524940),f=a(343373),h=a(985814),b=a(427494),v=a(798361),T=a(841924),y=a(356578),w=a(797187),C=a(255598),S=a(792749),I=a(509066),N=a(988523),L=a(15092),O=a(216448),k=a(76265),A=a(695024),R=a(167808),x=a(7846);let M=a(219085).R1;function D(e){let{dispatch:t,targetRect:a,user:n,typeahead:r,onInsert:l,onClear:i,setTypeahead:s}=e,[c,d]=o.useState(null),m=(0,A._X)({subscribeToUpdates_expensive:!0}),u=(0,A.Yb)(m,a);if(!(0,A.ZT)(u,m))return null;let p={top:u.y+m.y+u.height+8,right:u.x+m.x,bottom:u.y+m.y+u.height+8,left:u.x+m.x,height:0,width:0},E=c&&p.top+c>m.height?x.ri.UPWARDS:x.ri.DOWNWARDS,_={left:p.left,bottom:m.height-u.y+8},g=(0,x.f6)({...e,targetRect:p,direction:E,positionFromBottom:_});return o.createElement(R.E,{dispatch:t,setTypeahead:s,typeahead:r,onInsert:l,onClear:i,entity:n,width:300,recordingKey:"canvasMentionsTypeahead",setMaxTypeaheadHeight:d,...g,zIndex:M,getAdditionalMetadata:e=>"has_permission"in e&&!e.has_permission?(0,k.t)("whiteboard.editor_mentions_typeahead.not_in_file"):null})}var P=a(217950),F=a(851169),B=a(254773),H=a(550479),U=a(837982),V=a(241162),W=a(176160),K=a(828453),G=a(107370),j=a(973280),z=a(73059),Z=a(220970);async function $(e,t,a,n,r,l){let{trackEventForFile:i,searchSessionId:o,mentionedByUserId:s,nodeId:d,store:m}=l;try{let l=(await z.L.getCanvasMentionsFileNeedsInvite({fileKey:e,mentionedUserId:n.id})).data.meta.needs_invite;r(V.b({has_used_canvas_mentions:!0}));let u=(0,Z.x)(d,m);i("canvas_mention_created",{...u,search_session_id:o,mention_id:t,mentioned_user_id:n.id,mentioned_by_user_id:s,mentioned_user_can_view_file:!l},{forwardToDatadog:!0}),l&&r(_.F.enqueue({message:(0,k.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_user_will_be_invited_to_file",{handle:n.handle}),button:{text:(0,k.t)("whiteboard.visual_bell.canvas_at_mentions_mentioned_undo_invite"),action:()=>{i("canvas_mention_undo_invite",{...u,search_session_id:o,mention_id:t,mentioned_user_id:n.id,mentioned_by_user_id:s,mentioned_user_can_view_file:!l},{forwardToDatadog:!0}),F.l7.user("undo-at-mention",()=>c.fp8.removeMention(a,t))}}}))}catch(e){(0,H.$D)(P.e.FIGJAM,e)}}function Y(){let e=(0,s.wA)(),t=(0,L.iZ)(),[a,n]=(0,m.fp)(O.LQ),r=(0,m.md)(O.MX),{onInsert:l,onClear:i}=function(e){let t=(0,s.wA)(),[a,n]=(0,m.fp)(O.LQ),[r,l]=(0,m.fp)(O.h1),[i,d]=(0,m.fp)(O.wm),u=(0,G.zW)({checkPermissions:j.m.VIEW_OR_PENDING}),p=(0,W.tS)(),E=(0,B.U)(),_=!!a?.mentions,g=""===i,f=(0,s.Pj)(),h=(0,s.d4)(e=>(function(e){let t=Object.keys(e);return 0===t.length?null:t[0]})(e.mirror.sceneGraphSelection));return o.useEffect(()=>{let e=!1;if(null===r){n(null);return}let t=setTimeout(async()=>{let t=await (0,K.fG)(r,u,!1),a=!!t?.mentions;e||(_&&!a&&(E("canvas_mention_search_no_results",{...(0,Z.x)(h,f)}),t={mentions:[],index:0,maxMentions:0,type:"mentions",search:r}),a&&g&&d((0,U.MZ)()),n(t))},100);return function(){clearTimeout(t),e=!0}},[t,u,r,g,d,n,_,E,h,f]),{onInsert:o.useCallback(()=>{if(a&&a.mentions&&a.mentions[a.index]&&e?.id){let n=a.mentions[a.index],r=F.l7.user("insert-at-mention",()=>c.fp8.replaceCurrentMentionsQueryWithMention({mentionedUserId:n.id,mentionedByUserId:e.id,handle:n.handle}));p&&r.mentionId&&$(p,r.mentionId,r.stablePath,n,t,{trackEventForFile:E,searchSessionId:i,mentionedByUserId:e.id,nodeId:h??"",store:f})}},[a,e?.id,i,p,f,t,E,h]),onClear:o.useCallback(()=>{E("canvas_mention_search_cancelled",{...(0,Z.x)(h,f)}),l(null)},[l,E,h,f])}}(t);return!r||!a||!t||0===a.mentions.length&&!a.search||(0,N.Fl)(t.id)||t.sharing_restricted?null:o.createElement(D,{dispatch:e,targetRect:r,user:t,typeahead:a,onInsert:l,onClear:i,setTypeahead:n})}var X=a(625313),J=a(512056),Q=a(796817),q=a(493473),ee=a(565849),et=a(177339);function ea({children:e}){return o.createElement(et.G.Provider,{value:{loggerEventName:"figjam_navigate"}},e)}var en=a(451808),er=a(940875),el=a(796235),ei=a(215587),eo=a(45427),es=a(708159),ec=a(138225),ed=a(809471),em=a(22562),eu=a(629019),ep=a.n(eu),eE=a(126049),e_=a(277154),eg=a(746643),ef=a(48929),eh=a(663844),eb=a(14489),ev=a(265851),eT=a(535461),ey=a(846836),ew=a(845113),eC=a(771614),eS=a(191352),eI=a(346531),eN=a(657994),eL=a(9805),eO=a(677469),ek=a.n(eO),eA=a(636149),eR=a.n(eA),ex=a(373247);let eM=new ex.J,eD=new ex.AW,eP=()=>new Map([["SQUARE",[(0,k.t)("whiteboard.shape_keywords.rectangle")]],["ELLIPSE",[(0,k.t)("whiteboard.shape_keywords.circle"),(0,k.t)("whiteboard.shape_keywords.connector")]],["ROUNDED_RECTANGLE",[(0,k.t)("whiteboard.shape_keywords.pill"),(0,k.t)("whiteboard.shape_keywords.terminator")]],["DIAMOND",[(0,k.t)("whiteboard.shape_keywords.decision")]],["TRIANGLE_UP",[]],["TRIANGLE_DOWN",[(0,k.t)("whiteboard.shape_keywords.merge")]],["PARALLELOGRAM_RIGHT",[(0,k.t)("whiteboard.shape_keywords.data"),(0,k.t)("whiteboard.shape_keywords.input"),(0,k.t)("whiteboard.shape_keywords.output")]],["PARALLELOGRAM_LEFT",[(0,k.t)("whiteboard.shape_keywords.data"),(0,k.t)("whiteboard.shape_keywords.input"),(0,k.t)("whiteboard.shape_keywords.output")]],["ENG_DATABASE",[(0,k.t)("whiteboard.shape_keywords.database")]],["ENG_QUEUE",[(0,k.t)("whiteboard.shape_keywords.data"),(0,k.t)("whiteboard.shape_keywords.storage"),(0,k.t)("whiteboard.shape_keywords.queue")]],["ENG_FILE",[]],["ENG_FOLDER",[]],["TRAPEZOID",[(0,k.t)("whiteboard.shape_keywords.manual_operation")]],["STAR",[]],["SHIELD",[(0,k.t)("whiteboard.shape_keywords.off_page_connector")]],["HEXAGON",[(0,k.t)("whiteboard.shape_keywords.preparation")]],["PENTAGON",[]],["OCTAGON",[]],["PLUS",[(0,k.t)("whiteboard.shape_keywords.cross"),(0,k.t)("whiteboard.shape_keywords.and")]],["PREDEFINED_PROCESS",[]],["MANUAL_INPUT",[]],["CHEVRON",[(0,k.t)("whiteboard.shape_keywords.step"),(0,k.t)("whiteboard.shape_keywords.process")]],["DOCUMENT_SINGLE",[]],["DOCUMENT_MULTIPLE",[]],["ARROW_LEFT",[]],["ARROW_RIGHT",[]],["SUMMING_JUNCTION",[(0,k.t)("whiteboard.shape_keywords.and")]],["OR",[]],["SPEECH_BUBBLE",[(0,k.t)("whiteboard.shape_keywords.comment"),(0,k.t)("whiteboard.shape_keywords.quote")]],["INTERNAL_STORAGE",[]]]);function eF(e,t){return[eM.format(e).toLowerCase(),...(n||(n=eP()),n).get(e)||[]].some(e=>eH(e,t))}let eB=()=>new Map([["ELBOWED",[(0,k.t)("whiteboard.connector_keywords.angled"),(0,k.t)("whiteboard.connector_keywords.arrow"),(0,k.t)("whiteboard.connector_keywords.bent"),(0,k.t)("whiteboard.shape_keywords.connector"),(0,k.t)("whiteboard.connector_keywords.curved"),(0,k.t)("whiteboard.connector_keywords.elbowed"),(0,k.t)("whiteboard.connector_keywords.edge"),(0,k.t)("whiteboard.connector_keywords.line")]],["STRAIGHT",[(0,k.t)("whiteboard.connector_keywords.arrow"),(0,k.t)("whiteboard.connector_keywords.edge"),(0,k.t)("whiteboard.shape_keywords.connector"),(0,k.t)("whiteboard.connector_keywords.line")]],["STRAIGHT_NO_ENDPOINTS",[(0,k.t)("whiteboard.connector_keywords.edge"),(0,k.t)("whiteboard.shape_keywords.connector"),(0,k.t)("whiteboard.connector_keywords.line"),(0,k.t)("whiteboard.connector_keywords.straight")]]]);function eH(e,t){return e.toLowerCase().includes(t.toLowerCase())}var eU=a(449977);let eV=new ex.kv,eW="DEFAULT_CONTAINING_FRAME_PLACEHOLDER",eK=new Map;function eG(e,t){let a=Object.keys(e.libraryKeyToSubscribedItems).map(a=>{let n=e.libraryKeyToSubscribedItems[a]?.filter(e=>!t||e.library_key===t),r=eR()(n,e=>e.containing_frame?.name??eW),l=Object.keys(r),i=e.subscribedFiles.find(e=>e.library_key===a)?.name||"";return l.map(e=>{let t=e!==eW?e:void 0;return{title:t?`${i} - ${t}`:i,items:r[e],libraryKey:a}})}),n=eL.KQ.map(e=>({swtCollectionType:e,shapes:eL.aq.get(e)??[]}));return eK.clear(),a.forEach(e=>{e.forEach(({libraryKey:e,items:t})=>{t.forEach(t=>{eK.set((0,eU.yw)(t),{type:"library",item:t,libraryKey:e})})})}),n.forEach(({shapes:e})=>{e.forEach(e=>{eK.set(e,{type:"swt",shapeType:e})})}),{swtData:n,shapeLibraryData:ek()(a),connectorData:["STRAIGHT_NO_ENDPOINTS","STRAIGHT","ELBOWED"]}}function ej(e,t){return(0,k.t)("whiteboard.shapes_sidebar.connectors").toLowerCase().includes(t.toLowerCase())?e:e.filter(e=>[eD.format(e).toLowerCase(),...(r||(r=eB()),r).get(e)||[]].some(e=>eH(e,t)))}function ez(e,t){let a=[];return e.forEach(({swtCollectionType:e,shapes:n})=>{if(eV.format(e).toLowerCase().includes(t.toLowerCase())){a.push({swtCollectionType:e,shapes:n});return}let r=n.filter(e=>eF(e,t));0!==r.length&&a.push({swtCollectionType:e,shapes:r})}),a}function eZ(e,t){let a=[];return e.forEach(({libraryKey:e,title:n,items:r})=>{if(n.toLowerCase().includes(t.toLowerCase())){a.push({libraryKey:e,title:n,items:r});return}let l=[];r.forEach(e=>{e.name.toLowerCase().includes(t.toLowerCase())&&l.push(e)}),0!==l.length&&a.push({libraryKey:e,title:n,items:l})}),a}var e$=a(563192),eY=a(227070),eX=a(109388),eJ=a(351966),eQ=a(693565),eq=a(284807),e0=a(475824),e1=a(366172),e2=a(688656),e5=a(720826),e3=a(788894),e4=a(259224),e6=a(589781),e8=a(480648),e7=a(679147),e9=a(19908),te=a(401738);let tt=new Map([["ELBOWED",e7.A],["STRAIGHT",te.A],["STRAIGHT_NO_ENDPOINTS",e9.A]]),ta=new Map([["ELBOWED",e5.XD],["STRAIGHT",e5.vO],["STRAIGHT_NO_ENDPOINTS",e5.sF]]),tn=new ex.AW;function tr({setConnectorTool:e,isSelected:t,connectorStyle:a,recordingKey:n}){let r=`${eL.Xi}-${a}`,l=(0,o.useRef)(null),i=(0,o.useMemo)(()=>tt.get(a),[a]),s=(0,o.useMemo)(()=>ta.get(a),[a]),d=(0,o.useMemo)(()=>tn.format(a),[a]),u=(0,m.md)(ef.wp),p=(0,m.md)(ef.SK).connectorToolLineStyle,E=(0,o.useCallback)(()=>e(a),[e,a]),_=(0,e4.U_)(),g="ELBOWED"===p?c.NLJ.CONNECTOR_ELBOWED:c.NLJ.CONNECTOR_STRAIGHT,{dragState:f,onInsertableResourcePointerDown:h}=(0,e4.Kq)({insertAction:e=>{if(!l.current)throw Error("Attempted to insert when no connector was being dragged");let t=(0,e3.zG)(l.current.getBoundingClientRect()),a=(0,e3.C2)(e.e);return F.l7.user("drop-connector-on-canvas",()=>c.glU?.dropDiagramItemOntoCanvas(g,Math.round(t.x),Math.round(t.y),Math.round(a.x),Math.round(a.y),c.V5h.TOP_LEFT,c.VTL.NO)),e1.Y5.triggerActionEnum(c.rcl.SET_TOOL_DEFAULT),Promise.resolve()},recordingKey:n}),b=o.useCallback(()=>(0,eU.Zt)(g,c.VTL.NO),[g]);return i?o.createElement(o.Fragment,null,o.createElement(eq.n.div,{onPointerDown:h,"data-testid":`${r}-outer`},o.createElement(eJ.E,{className:ep()({[e8.Fu]:!t,[e8.WB]:t,[e8.Wf]:!!f}),recordingKey:n,"aria-current":t,"aria-label":d,htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":d,"data-testid":r,onDoubleClick:b,onFocus:E,onBlur:_}},o.createElement(eQ.B,{svg:i}))),o.createElement(tl,{dragState:f,color:u,Icon:s,ref:l})):null}let tl=(0,o.forwardRef)(function({dragState:e,color:t,Icon:a},n){let r=(0,A.Pl)({subscribeToUpdates_expensive:!1});if(!e?.dragPosition||!a)return null;let l=r*e3.P,i=e0.F.format(t);return(0,eX.createPortal)(o.createElement("div",{style:{left:e.dragPosition.x,top:e.dragPosition.y,transform:`scale(${l})`},className:ep()(ev.s.relative.$,e8.hD,e6.Nb)},o.createElement(a,{color:i,ref:n})),document.getElementById("fullscreen-root"))});var ti=a(520244),to=a(777885),ts=a(538887),tc=a(690159),td=a(24414);function tm(e){return o.createElement("div",{className:ev.s.flex.flexColumn.flexGrow0.flexShrink0.wFull.borderBox.pb2.$},e.children)}function tu({title:e,blockedByPaywall:t,onboardingKey:a,children:n}){let[r,l]=(0,o.useState)(!0),i=(0,o.useCallback)(()=>l(!r),[r]);return o.createElement(tm,null,t?o.createElement(t_,{title:e,isExpanded:r,handleExpand:i,onboardingKey:a}):o.createElement(tE,{title:e,isExpanded:r,handleExpand:i,onboardingKey:a}),t&&r&&o.createElement(tg,null),r&&n)}function tp({title:e,isExpanded:t}){return o.createElement("div",{className:ev.s.flex.flexRow.$},o.createElement("div",{className:e8.FH},t?o.createElement(to.O,{"aria-label":(0,k.t)("whiteboard.shapes_sidebar.collapse_section")}):o.createElement(ts.k,{"aria-label":(0,k.t)("whiteboard.shapes_sidebar.expand_section")})),o.createElement("div",{className:ev.s.textBodyMediumStrong.$},e))}function tE({title:e,isExpanded:t,handleExpand:a,onboardingKey:n}){return o.createElement(eJ.E,{className:ep()(ev.s.wFull.gap4.h40.$,e8.uU),onClick:a,htmlAttributes:{"data-testid":`section-header-standard-${e}`,"data-onboarding-key":n??""}},o.createElement(tp,{title:e,isExpanded:t}))}function t_({title:e,isExpanded:t,handleExpand:a,onboardingKey:n}){let r=(0,e4.yX)();return o.createElement("div",{className:ep()(ev.s.h24.flex.flexRow.$,e8.uU),"data-onboarding-key":n??""},o.createElement(eJ.E,{onClick:a},o.createElement(tp,{title:e,isExpanded:t})),o.createElement(eJ.E,{className:ev.s.pl4.$,"aria-label":(0,k.t)("whiteboard.shapes_sidebar.locked"),onClick:r},o.createElement(tc.s,null)),o.createElement(td.S.div,{onClick:a,className:ev.s.flex.flexGrow1.h24.$}))}function tg(){let e=(0,e4.yX)(),t=(0,e4.uB)();return o.createElement("div",{className:e8.m4},o.createElement("div",{className:ev.s.fontInter.font11.alignCenter.mb8.$},(0,k.tx)("whiteboard.shapes_sidebar.upgrade_cta",{upgradeLink:o.createElement(ti.$n,{onClick:e,variant:"link"},(0,k.t)("whiteboard.shapes_sidebar.upgrade_link"))})),o.createElement(ti.Pw,{onClick:t},o.createElement("span",{className:ev.s.textBodyMediumStrong.$},(0,k.t)("whiteboard.shapes_sidebar.view_plans"))))}function tf({connectorStyles:e}){let t=(0,eY.OD)(),a=(0,eY.AT)(),n=(0,w.ut)(c.Ez5?.figjamState().straightConnectorNoEndpointSelected,!1),r=(0,o.useCallback)(e=>{switch(e){case"STRAIGHT":return a&&!n;case"STRAIGHT_NO_ENDPOINTS":return a&&n;case"ELBOWED":return t;default:return!1}},[t,a,n]),l=o.useCallback(e=>{c.glU?.triggerActionEnumInUserEditScope(eU.re(e),{source:"shapes-sidebar"})},[]);return o.createElement(tu,{title:(0,k.t)("whiteboard.shapes_sidebar.connectors")},o.createElement("div",{"data-testid":eL.qD,className:e8.Bf},e.map(e=>o.createElement(tr,{key:e,isSelected:r(e),connectorStyle:e,setConnectorTool:l,recordingKey:e$.Pt(eL.qD,`${eL.Xi}-${e}`)}))))}function th({query:e}){return o.createElement(tm,null,o.createElement("div",{className:"shapes_sidebar_empty_search_result--emptyResultsLabelContainer--tLDfu","data-testid":eL.d},o.createElement("span",{className:"shapes_sidebar_empty_search_result--emptyResultsLabel--rY-Xq"},(0,k.tx)("whiteboard.inserts.custom_display_string_search_result",{searchQuery:o.createElement("span",{className:"shapes_sidebar_empty_search_result--emptyResultsLabelQuery--SQlGl"},e)}))))}var tb=a(512729),tv=a(653798),tT=a(481954),ty=a(957020),tw=a(605369);let tC=(e,t)=>[e,t].join("");function tS({item:e,addToRecentsBehavior:t,toolSetSource:a,isLocked:n,metadata:r,tooltipText:l}){(0,tb.h)(()=>{(async()=>{try{await tT.Eo.getCanvas(e)}catch(e){(0,tv.x1)("error","teamLibraryItemSceneGraphCache.getCanvas",e)}})()});let i=(0,e4.HB)(e),s=(0,m.md)(ef.W6)===a,u=(0,o.useCallback)(()=>(0,eU.KG)(e,a),[e,a]),p=(0,o.useCallback)(()=>(0,eU.z9)(e,t),[e,t]),E=(0,e4.U_)(),_=(0,e4.yX)(),g=r?.id?(0,eU.N0)(r.id,e.name,"sidebar"):void 0,f=g?o.createElement(tL,{iconSrc:g,name:e.name}):null;return o.createElement(tw.lX,{className:n?e8.$I:i&&s?e8.WB:e8.Fu,item:e,height:38,width:38,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,ThumbnailOverride:f,tooltipOverride:l,buttonProps:{onItemClick:n?_:u,onItemDoubleClick:n?void 0:p,onFocus:n?void 0:u,onBlur:E},draggable:n?void 0:{afterSuccessfulInsert:a=>{(e.type===ty.PW.COMPONENT||e.type===ty.PW.STATE_GROUP)&&(0,eU.KE)((0,eU.yw)(e),t,d.Ay().user_data?.id)},onDragStart:()=>{e1.Y5.triggerActionEnum(c.rcl.SET_TOOL_DEFAULT),(0,eU.Ln)()},onPointerUp:eU.UH}})}function tI({libraryKey:e,title:t,items:a,metadataByLibraryKey:n}){let r=(0,m.Xr)(eN.SE),l=(0,d.kc)().ad_side_panel_limit_shapes,i=(0,e4.es)(),s=(0,o.useMemo)(()=>{let e=a[0]?.library_key;if(e)return n?.[e]?.id==="advanced"?eS.D8:void 0},[a,n]),u=a.length>eL.zr,p=l&&u?a.slice(0,eL.zr-1):a,E=l&&u?Math.max(0,a.length-eL.zr+1):0,_=(0,o.useCallback)(()=>{r({title:t,items:a,libraryKey:e})},[a,r,t,e]);return o.createElement(tu,{key:tC(e,t),title:(0,eU.pf)(t),blockedByPaywall:i,onboardingKey:s},o.createElement("div",{"data-testid":`${eL.UC}-${t}`,"data-total-items":a.length,className:e8.Bf},p.map(e=>o.createElement(tS,{item:e,metadata:n?.[e.library_key],key:e.id,addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,isLocked:i,tooltipText:(0,eU.vo)(t,e.name)})),E>0&&o.createElement(tN,{numRemainingShapes:E,onClick:_})))}function tN({numRemainingShapes:e,onClick:t}){return o.createElement(eJ.E,{onClick:t,className:e8.$i,"aria-label":(0,k.t)("whiteboard.shapes_sidebar.see_additional_shapes",{numRemainingShapes:e})},o.createElement("span",{className:ev.s.ml4.textBodyMedium.m0.p0.colorTextBrand.$},(0,k.t)("whiteboard.shapes_sidebar.see_additional_shapes_button",{numRemainingShapes:e})))}function tL({iconSrc:e,name:t,testIdPrefix:a="shapes-library-item-tile-thumb-override"}){return o.createElement("div",{className:e8.vq,"data-testid":`${a}-${t}`,"data-svg-no-gray-fill":!0},o.createElement(eQ.B,{svg:e,className:e8.lO}))}var tO=a(824883);function tk(e){let t=tO.Jc.get(e);if(t)return(0,tO.Qd)((0,d.kc)().figjam_unify_swt_default_sizing).get(t)}function tA({shapeType:e,color:t,strokeStyleType:a,addToRecentsBehavior:n,toolSetSource:r,recordingKey:l}){let i=`${eL.QA}-${e}`,s=(0,o.useRef)(null),d=tk(e),u=o.useCallback(()=>(0,eU.Ac)(r,d),[d,r]),p=e$.rf(l,"dblclick",t=>{if(!t)return;let a=tO.Jc.get(e);a&&(0,eU.Zt)(a,n)}),E=(0,eY.Yt)(),_=E?tO.lx.get(E):null,g=(0,m.md)(ef.W6),f=o.useMemo(()=>e===_&&r===g,[_,g,e,r]),h=(0,e4.U_)(),{dragState:b,onInsertableResourcePointerDown:v}=(0,e4.Kq)({insertAction:t=>{if(!s.current)throw Error("Attempted to insert when no shape was being dragged");let a=(0,e3.zG)(s.current.getBoundingClientRect()),r=(0,e3.C2)(t.e);return F.l7.user("drop-shape-on-canvas",()=>c.glU.dropDiagramItemOntoCanvas(tO.Jc.get(e),Math.round(a.x),Math.round(a.y),Math.round(r.x),Math.round(r.y),c.V5h.TOP_LEFT,n)),e1.Y5.triggerActionEnum(c.rcl.SET_TOOL_DEFAULT),Promise.resolve()},recordingKey:l});return d?o.createElement(td.S.div,null,o.createElement(eq.n.div,{onPointerDown:v,"data-testid":`${i}-outer`},o.createElement(eJ.E,{className:ep()({[e8.Fu]:!f,[e8.WB]:f,[e8.Wf]:!!b}),onClick:u,"aria-current":f,"aria-label":d.name,htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":d.name,"data-testid":i,onDoubleClick:p,onFocus:u,onBlur:h},recordingKey:l},o.createElement(eQ.B,{svg:(0,eU.CO)(e),className:e8.$E}))),o.createElement(tR,{dragState:b,color:t,shapeType:e,strokeStyleType:a,ref:s})):null}let tR=(0,o.forwardRef)(function({dragState:e,shapeType:t,color:a,strokeStyleType:n},r){let l=(0,A.Pl)({subscribeToUpdates_expensive:!1});if(!e?.dragPosition)return null;let i=tk(t);if(!i)return null;let s=l*(i.canvasToSvgScale||1),m=i.canvasToSvgScale?1/i.canvasToSvgScale:1;return(0,eX.createPortal)(o.createElement("div",{style:{left:e.dragPosition.x,top:e.dragPosition.y},className:e6.k4},o.createElement("div",{className:e8.g1,style:{transform:`scale(${s})`}},o.createElement(i.Icon,{color:e0.F.format(a),ref:r,shapeStrokeProps:{isDragging:!0,styleType:(0,d.kc)().figjam_dlt_shape_border?n:c.xbm.NONE,svgToCanvasScale:m}}))),document.getElementById("fullscreen-root"))});function tx({metadataByLibraryKey:e}){let t=(0,e4.B8)(),a=(0,m.md)(ef.ez),n=(0,m.md)(ef.U9),r=(0,e4.es)();if(t.length<1)return null;let l=t.slice(0,eL.qA);return o.createElement(tu,{title:(0,k.t)("whiteboard.shapes_sidebar.recents")},o.createElement("div",{className:e8.Bf,"data-testid":eL.eu},l.map(t=>{let l=function(e){if(e.startsWith(eL.yR)){let t=c.glU.getShapeWithTextTypeFromToolString(e);return eK.get(t)}return eK.get(e)}(t);return l?"library"===l.type?o.createElement(tS,{key:`recents-${l.item.id}`,item:l.item,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,isLocked:r,metadata:e?.[l.item.library_key]}):o.createElement(tA,{key:`recents-${l.shapeType}`,shapeType:l.shapeType,color:a,strokeStyleType:n,addToRecentsBehavior:c.VTL.YES_WITHOUT_REORDER,toolSetSource:c.qq.SHAPES_SIDEBAR_RECENTS,recordingKey:e$.Pt(eL.eu,`${eL.QA}-${l.shapeType}`)}):null})))}let tM=new ex.kv;function tD({collectionType:e,shapes:t,shapeColor:a,shapeToolStrokeStyleType:n}){return o.createElement(tu,{key:e,title:tM.format(e)},o.createElement("div",{className:e8.Bf,"data-testid":`${eL.Yu}-${e}`},t.map(t=>o.createElement(tA,{key:`${e}-${t}`,shapeType:t,color:a,strokeStyleType:n,addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,recordingKey:e$.Pt(eL.Yu,`${eL.QA}-${t}`)}))))}function tP(){let e=(0,m.Xr)(eN._L);return o.createElement(E.tH,{boundaryKey:"FigJamShapesSidebar",team:P.e.FIGJAM,fallback:E.H4.NONE_I_KNOW_WHAT_IM_DOING,onError:()=>{e()}},o.createElement(tF,null))}function tF(){let e=(0,es.U1)(),t=(0,m.md)(ef.ez),a=(0,m.md)(ef.U9),n=(0,m.md)(eN.ZN),{libraryItems:r,metadata:l}=(0,eC.uE)(),[i,s]=(0,o.useState)(""),c=(0,m.Xr)(eN.Ai),d=(0,o.useMemo)(()=>eG(r),[r]),[u,p]=(0,o.useState)(d),E=(0,o.useCallback)(e=>{if(""===e){p(d),s(e);return}let{connectorData:t,swtData:a,shapeLibraryData:n}=d;p({swtData:ez(a,e),shapeLibraryData:eZ(n,e),connectorData:ej(t,e)}),s(t=>(""===t&&e_.az.trackDefinedEvent("figjam_advanced_diagramming.shapes_sidebar_search",{}),e)),c(!0)},[d,c]),_=(0,eE.A)(E,200),g=(0,o.useCallback)(()=>{_.cancel(),E(""),c(!1)},[E,_,c]),f=(0,o.useCallback)(e=>""===e?g():_(e),[g,_]);return o.createElement(ew.wV,{ref:e,size:ey.qm,defaultSize:ey.qm,onResize:eg.lQ,className:ep()(e8.cx,ev.s.relative.wFitContent.flex.flexShrink1.flexGrow1.overflowAuto.$,eT.Dm),disableResizing:!0,side:"right","data-cancel-insertable-resource-drag-and-drop":!0},o.createElement("div",{id:eL.YV,"data-testid":eL.YV,className:ep()(e8.kL,ev.s.relative.wFitContent.borderBox.selectNone.radiusLarge.flex.flexColumn.itemsCenter.colorBg.elevation100.overflowHidden.$)},o.createElement(tV,{searchQuery:i,handleSearch:f}),o.createElement(tB,null),o.createElement(eh.P,{horizontalScrollingDisabled:!0,className:ev.s.flex.flexColumn.flexGrow1.flexShrink1.wFull.$},"closed"===n.state?o.createElement(tH,{data:u,shapeColor:t,shapeToolStrokeStyleType:a,query:i,metadataByLibraryKey:l}):o.createElement(tU,{...n}),o.createElement("div",{className:ev.s.h12.flexShrink0.$}))))}function tB(){return o.createElement("div",{className:ev.s.flexGrow0.flexShrink0.wFull.h1.bt1.bSolid.colorBorder.$})}function tH({data:e,shapeColor:t,shapeToolStrokeStyleType:a,query:n,metadataByLibraryKey:r}){let l=(0,m.md)(eN.Ai);return l&&function({connectorData:e,swtData:t,shapeLibraryData:a}){return 0===e.length&&0===t.length&&0===a.length}(e)?o.createElement(th,{query:n}):o.createElement(o.Fragment,null,!l&&o.createElement(eI.Lz,null,o.createElement(tx,{metadataByLibraryKey:r})),o.createElement(eI.Lz,null,0!==e.connectorData.length&&o.createElement(tf,{connectorStyles:e.connectorData}),e.swtData.map(e=>o.createElement(tD,{key:e.swtCollectionType,collectionType:e.swtCollectionType,shapes:e.shapes,shapeColor:t,shapeToolStrokeStyleType:a})),e.shapeLibraryData.map(({libraryKey:e,title:t,items:a})=>o.createElement(tI,{key:tC(e,t),title:t,libraryKey:e,items:a,metadataByLibraryKey:r}))))}function tU({title:e,items:t}){let a=(0,m.Xr)(eN.og);return o.createElement(eI.Lz,null,o.createElement("div",{"data-testid":eL.qs,className:ev.s.flex.flexColumn.wFull.hFull.pb8.$},o.createElement("div",{className:ev.s.flex.flexRow.itemsCenter.p16.borderBox.$},o.createElement(ec.K,{htmlAttributes:{"data-testid":eL.G0},onClick:a,"aria-label":(0,k.t)("whiteboard.shapes_sidebar.back")},o.createElement(ed.C,null)),o.createElement("h2",{className:ev.s.ml16.textBodyLargeStrong.$},(0,eU.pf)(e))),o.createElement("div",{"data-testid":eL.o4,className:ep()(ev.s.overflowAuto.flexGrow1.$,e8.Bf)},t.map(t=>o.createElement(tS,{key:t.id,item:t,addToRecentsBehavior:c.VTL.YES,toolSetSource:c.qq.SHAPES_SIDEBAR_REGULAR,isLocked:!1,tooltipText:(0,eU.vo)(e,t.name)})))))}function tV({searchQuery:e,handleSearch:t}){let a=(0,m.Xr)(eN._L),n=(0,v.Kx)(),r=(0,o.useCallback)(()=>t(""),[t]);return o.createElement("div",{className:ev.s.wFull.py12.$},o.createElement("div",{"data-onboarding-key":eS.Zh,className:ev.s.flex.flexRow.pl16.pr8.gap8.$},o.createElement("div",{className:ev.s.itemSelfCenter.textBodyLargeStrong.flexGrow1.$},(0,k.t)("whiteboard.shapes_sidebar.title")),o.createElement("div",{className:ev.s.flexGrow0.flex.flexRow.gap8.$},o.createElement(ec.K,{"aria-label":(0,k.t)("whiteboard.shapes_sidebar.close"),onClick:a,recordingKey:"close-shapes-sidebar"},o.createElement(em.A,null)))),o.createElement("div",{className:ev.s.pr8.pl12.mt8.flexGrow1.$},o.createElement("div",{className:ev.s.p0.colorBgSecondary.radiusMedium.mb4.$},o.createElement(eb.IW,{focusOnMount:!n?.shouldOptimizeForIpadApp,selectTextOnMount:!n?.shouldOptimizeForIpadApp,query:e,onChange:t,clearSearch:r,placeholder:(0,k.t)("whiteboard.shapes_sidebar.search_shapes"),iconClassName:ev.s.colorIconSecondary.$,withSmallXIcon:!0,hasTransparentBackground:!0,withUI3Icon:!0,smallFont:!0,className:e8.ON}))))}var tW=a(506989),tK=a(540096),tG=a(257776),tj=a(930016),tz=a(42360),tZ=a(666972),t$=a(846288),tY=a(32257),tX=a(918091),tJ=a(801218),tQ=a(212507),tq=a(72900),t0=a(713284),t1=a(384535),t2=a(236361),t5=a(182665);function t3(e){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 17H19C19.5523 17 20 16.5523 20 16V7.68748V4.99998C20 4.4477 19.5523 3.99998 19 3.99998L8 3.99998C7.44772 3.99998 7 4.4477 7 4.99998V6.00002L6 6.00002L6 4.99998C6 3.89542 6.89543 2.99998 8 2.99998H19C20.1046 2.99998 21 3.89542 21 4.99998V7.68748V16C21 17.1046 20.1046 18 19 18H18V17ZM5 20.0001H16C16.5523 20.0001 17 19.5524 17 19.0001V10.6876V8.00011C17 7.44782 16.5523 7.00011 16 7.00011H5C4.44772 7.00011 4 7.44782 4 8.00011V19.0001C4 19.5524 4.44772 20.0001 5 20.0001ZM16 21.0001H5C3.89543 21.0001 3 20.1047 3 19.0001V8.00011C3 6.89554 3.89543 6.00011 5 6.00011H16C17.1046 6.00011 18 6.89554 18 8.00011V10.6876V19.0001C18 20.1047 17.1046 21.0001 16 21.0001ZM10.5 14.5C11.0523 14.5 11.5 14.0523 11.5 13.5C11.5 12.9477 11.0523 12.5 10.5 12.5C9.94772 12.5 9.5 12.9477 9.5 13.5C9.5 14.0523 9.94772 14.5 10.5 14.5ZM14.5 13.5C14.5 14.0523 14.0523 14.5 13.5 14.5C12.9477 14.5 12.5 14.0523 12.5 13.5C12.5 12.9477 12.9477 12.5 13.5 12.5C14.0523 12.5 14.5 12.9477 14.5 13.5ZM7.5 14.5C8.05228 14.5 8.5 14.0523 8.5 13.5C8.5 12.9477 8.05228 12.5 7.5 12.5C6.94772 12.5 6.5 12.9477 6.5 13.5C6.5 14.0523 6.94772 14.5 7.5 14.5Z",fill:"var(--color-icon)"}))}function t4({pageCount:e,...t}){return o.createElement("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...t},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 17H18V18H19C20.1046 18 21 17.1046 21 16V7.68748V4.99998C21 3.89542 20.1046 2.99998 19 2.99998H8C6.89543 2.99998 6 3.89542 6 4.99998L6 6.00002L7 6.00002V4.99998C7 4.4477 7.44772 3.99998 8 3.99998L19 3.99998C19.5523 3.99998 20 4.4477 20 4.99998V7.68748V16C20 16.5523 19.5523 17 19 17ZM16 20.0001H5C4.44772 20.0001 4 19.5524 4 19.0001V8.00011C4 7.44782 4.44772 7.00011 5 7.00011H16C16.5523 7.00011 17 7.44782 17 8.00011V10.6876V19.0001C17 19.5524 16.5523 20.0001 16 20.0001ZM5 21.0001H16C17.1046 21.0001 18 20.1047 18 19.0001V10.6876V8.00011C18 6.89554 17.1046 6.00011 16 6.00011H5C3.89543 6.00011 3 6.89554 3 8.00011V19.0001C3 20.1047 3.89543 21.0001 5 21.0001Z",fill:"var(--color-icon)"}),o.createElement("text",{x:"10.5",y:"14.5",dominantBaseline:"middle",textAnchor:"middle",fontFamily:"Inter",fontWeight:"550",fontSize:"9",fill:"var(--color-icon)"},e))}let t6="pages_dropdown--pagesDropdownButton--9KRC-",t8="pages_dropdown--active--R5AFZ",t7="pages_dropdown--pagesDropdownIcon--nnevp";function t9({triggerType:e,pagesList:t,nonDividerPageCount:a,isDropdownOpen:n,setIsDropdownOpen:r,isReadOnly:l}){let i=(0,o.useRef)(null),s=(0,o.useCallback)(()=>r(!1),[r]),c=(0,o.useCallback)(()=>r(!n),[r,n]),d=i.current?.getBoundingClientRect(),m=(()=>{switch(e){case tG.mb.ADD_PAGE:return o.createElement(ae,{isDropdownOpen:n,toggleDropdown:c,ref:i});case tG.mb.VIEW_PAGES:return o.createElement(at,{pageCount:a,isDropdownOpen:n,toggleDropdown:c,ref:i});default:(0,t$.xb)(e)}})();return o.createElement(o.Fragment,null,m,n&&d&&o.createElement(aa,{targetRect:d,close:s},o.createElement(an,null),o.createElement(ar,{pagesList:t,isReadOnly:l,closeDropdown:s})))}let ae=(0,o.forwardRef)(function({isDropdownOpen:e,toggleDropdown:t},a){return o.createElement(eJ.E,{className:ep()(t6,"pages_dropdown--singlePage--RS1Vj",{[t8]:e}),onClick:t,"aria-label":(0,k.t)("pages_panel.toolbar.add_pages_tooltip"),ref:a,"aria-pressed":e,htmlAttributes:{"data-tooltip":(0,k.t)("pages_panel.toolbar.add_pages_tooltip"),"data-tooltip-type":e2.Ib.TEXT}},o.createElement("span",{className:t7},o.createElement(t4,null)))}),at=(0,o.forwardRef)(function({pageCount:e,isDropdownOpen:t,toggleDropdown:a},n){let r=(0,tQ.nn)();return o.createElement(eJ.E,{className:ep()(t6,{[t8]:t}),onClick:a,"aria-label":(0,k.t)("pages_panel.toolbar.view_pages_tooltip"),ref:n,"aria-pressed":t,htmlAttributes:{"data-tooltip":(0,k.t)("pages_panel.toolbar.view_pages_tooltip"),"data-tooltip-type":e2.Ib.TEXT}},o.createElement("span",{className:t7},e>9?o.createElement(t3,null):o.createElement(t4,{pageCount:e})),o.createElement("span",{className:"pages_dropdown--pagesDropdownButtonText--vxa32 ellipsis--ellipsis--Tjyfa"},r))});function aa({targetRect:e,close:t,children:a}){let n=(0,s.wA)(),r={top:e.y+e.height+16,left:e.x,width:200,maxHeight:312};return(0,o.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t()};return window.addEventListener("keydown",e),window.addEventListener("blur",t),()=>{window.removeEventListener("keydown",e),window.removeEventListener("blur",t)}},[t]),o.createElement(tY.o,{eventListeners:["onClick","onMouseDown"]},o.createElement(tX.gw,{className:"pages_dropdown--dropdown--wiw73",style:r,dispatch:n,closeDropdown:t,positionFixed:!0},o.createElement("div",{className:"pages_dropdown--dropdownContents--3qDS5"},a)))}function an(){let e=(0,tG.hs)(),t=(0,tJ.V6)();return o.createElement("div",{className:"pages_dropdown--dropdownHeader--K3jZk"},o.createElement("span",{className:"pages_dropdown--dropdownHeaderText--dp9ZX ellipsis--ellipsis--Tjyfa"},(0,k.tx)("fullscreen.pages_panel.pages")),e&&(t?o.createElement(t0.t,null):o.createElement(tq.e,null)))}function ar({pagesList:e,isReadOnly:t,closeDropdown:a}){let[n,r]=(0,o.useState)(!1),l=(0,o.useRef)(null),i=(0,o.useCallback)(e=>{r(e>0)},[]);(0,t5.a)({pagesList:e,scrollContainerRef:l});let s=(0,tG.sv)(),c=(0,t2.g)({pagesList:e,shouldShowDuplicateOption:s});return o.createElement(eh.P,{horizontalScrollingDisabled:!0,onScroll:i,className:ep()("pages_dropdown--scrollContainer--jAJ5C",{"pages_dropdown--withTopBorder--LkCLX":n}),innerClassName:"pages_dropdown--scrollContainerContents--12wMh",ref:l},o.createElement(t1.bU,{pages:e,isReadOnly:t,onContextMenu:c,isComparingChanges:!1,onPageSwitch:a,activePageShouldUseBrandColor:!0}))}var al=a(47795),ai=a(225371),ao=a(31393),as=a(125682),ac=a(925882),ad=a(69398),am=a(638784),au=a(90148);function ap({containerRef:e}){let t=function(){let e=(0,W.q5)(),t=(0,m.md)(ao.lu);return e?e.name:t?t.name:(0,k.t)("fullscreen.filename_view.title_placeholder")}(),a=(0,s.wA)(),n=(0,as.Um)(),r=n?.type===ad.eg,l=(0,s.d4)(e=>e.isRenaming),i=(0,W.q5)(),c=(0,L.iZ)(),d=!!i&&(0,au.DF)(i,c),u=o.useRef(null),p=u.current?.getBoundingClientRect(),E=e.current?.getBoundingClientRect(),_=(0,ac.E)(u,!l),g={top:E?.top??0,bottom:E?.bottom?E?.bottom+3:0,left:p?.left??0,right:p?.right??0,width:p?.width??0,height:p?.height??0},[f,h]=o.useState(!1);return o.useEffect(()=>{if(f){let e=setTimeout(()=>{h(!1),e1.Y5.triggerAction("toggle-sidebar",{source:"figjam-panel"}),a(V.b({[tK.sW]:!0}))},200);return()=>clearTimeout(e)}},[a,f]),o.createElement(o.Fragment,null,l?o.createElement("span",{className:"panel_toggle--fileNameInput--hzx4e panel_toggle--containerBase--4sK6N",style:{width:Math.max(150,_??0)}},o.createElement(ad.o3,null)):o.createElement(eJ.E,{className:"panel_toggle--button--Z3V1x panel_toggle--containerBase--4sK6N",ref:u,onClick:()=>{h(!0)},"aria-label":(0,k.t)("fullscreen_actions.expand-figjam-left-panel"),htmlAttributes:{onDoubleClick:()=>{h(!1),d&&a(ai.vg())},onContextMenu:e=>{if(e.preventDefault(),r){a(al.oB());return}a(al.j7({type:ad.eg,data:{targetRect:g}}))},"data-tooltip":(0,k.t)("fullscreen_actions.expand-figjam-left-panel"),"data-tooltip-type":e2.Ib.TEXT},recordingKey:"figjam-panel-toggle"},o.createElement("span",{className:"panel_toggle--text--u2ukq ellipsis--ellipsis--Tjyfa"},t)),o.createElement(am.G,{dropdownTargetRect:n?.data?.targetRect,dispatch:a,dropdownVisible:r,leanPadding:0,activatePathOnMount:n?.data?.activatePathOnMount,trackEvent:e_.sx}))}let aE="figjam_collapsed_left_panel--divider--l9NPO";function a_({pagesList:e,isReadOnly:t}){let[a,n]=(0,o.useState)(!1),r=o.useRef(null),l=(0,es.U1)(r),i=(0,B.am)(),s=(0,o.useMemo)(()=>e.filter(e=>!e.isDivider).length,[e]),c=(0,tG.h5)({nonDividerPageCount:s,isDropdownOpen:a}),d=(0,W.q5)(),{renamingPageId:m,commitRenaming:u}=(0,tj.c)(e),p=!!m,E=(0,o.useCallback)(e=>{n(e),e&&!a&&i("pages_panel_open_toggle",{isPagesOpen:e},{forwardToDatadog:!0}),!e&&p&&u()},[a,u,p,i]);return o.createElement(ab,null,o.createElement(af,{ref:l,onboardingKey:tK.AV},o.createElement(ab,null,o.createElement(tZ.xG,null)),o.createElement(av,null,o.createElement(ap,{containerRef:r})),o.createElement(ab,null,o.createElement(aT,null,d&&o.createElement("div",{className:"figjam_collapsed_left_panel--paidStatusBadgeWrapper--u7dYt"},o.createElement(tz.s,{openFile:d})),o.createElement(tZ.n8,null))),!!c&&o.createElement(o.Fragment,null,o.createElement(ah,null),o.createElement(av,null,o.createElement(t9,{triggerType:c,pagesList:e,isDropdownOpen:a,setIsDropdownOpen:E,nonDividerPageCount:s,isReadOnly:t})))))}function ag(){return o.createElement(af,{testId:"figjam-left-panel-loading"},o.createElement(ab,null,o.createElement(aC,null)),o.createElement(av,null,o.createElement(aS,null)),o.createElement(aw,null),o.createElement(av,null,o.createElement(aI,null)))}let af=o.forwardRef(function({children:e,onboardingKey:t,testId:a},n){return o.createElement("div",{ref:n,className:ep()(eT.Dm,"figjam_collapsed_left_panel--container--FYM0w",(0,d.kc)().figjam_diagramming_improvements_v1?"figjam_collapsed_left_panel--withShapeSidebar--A1L6c":"figjam_collapsed_left_panel--standalone--0hfsK"),style:{maxWidth:ey.g_},"data-onboarding-key":t,"data-testid":a},e)});function ah(){return o.createElement("div",{className:aE})}function ab({children:e}){return o.createElement("div",{className:"figjam_collapsed_left_panel--noShrink--NWpwj"},e)}function av({children:e}){return o.createElement("div",{className:"figjam_collapsed_left_panel--upToHalfWidth--GUezb"},e)}function aT({children:e}){return o.createElement("div",{className:"figjam_collapsed_left_panel--statusSection--N5vuO"},e)}function ay({width:e}){return o.createElement("div",{className:"figjam_collapsed_left_panel--loadingPlaceholder--ejxL9",style:{width:e,visibility:"hidden"}},o.createElement(tW._b,null))}function aw(){return o.createElement("div",{className:aE,style:{visibility:"hidden"}})}function aC(){return o.createElement(ay,{width:44})}function aS(){return o.createElement("div",{className:"figjam_collapsed_left_panel--panelTogglePlaceholderContainer--qWqG-"},o.createElement(ay,{width:180}))}function aI(){return o.createElement(ay,{width:81})}var aN=a(991458);let aL=(0,m.eU)(!1);var aO=a(973800),ak=a(909712),aA=a(447556),aR=a(345063),ax=a(51594),aM=a(793757),aD=a(497092),aP=a(352989);function aF(){return o.createElement(o.Fragment,null,o.createElement(aB,null),o.createElement(aM.d,null))}function aB(){return o.createElement("div",{className:"figjam_left_panel_header--iconSection--n7JT9"},o.createElement("div",{className:"figjam_left_panel_header--leftSide--OGLAP"},o.createElement(tZ.xG,null)),o.createElement("div",{className:"figjam_left_panel_header--rightSide--Kcru4"},o.createElement(tZ.n8,null),o.createElement(aD.E,null),o.createElement(aP.J,null),o.createElement(ax.J,{onClick:()=>e1.Y5.triggerAction("toggle-sidebar",{source:"figjam-left-panel-header"}),"aria-label":(0,k.t)("fullscreen_actions.collapse-figjam-left-panel"),htmlAttributes:{"data-tooltip":(0,k.t)("fullscreen_actions.collapse-figjam-left-panel"),"data-tooltip-type":e2.Ib.TEXT},recordingKey:"figjam-collapse-expanded-left-panel"},o.createElement(aR.C,null))))}function aH(){let e=(0,tG.hs)(),t=(0,tJ.V6)();return o.createElement("div",{className:ep()("figjam_pages_panel_header--container--o2Ga7",{"figjam_pages_panel_header--containerWithNewPageDropdown--SwVmo":e&&t})},o.createElement("div",{className:"figjam_pages_panel_header--headerText--mvfGF"},(0,k.tx)("fullscreen.pages_panel.pages")),o.createElement("div",{className:"figjam_pages_panel_header--buttonGroup--LWXvA"},e&&(t?o.createElement(t0.t,{recordingKey:"figjam-new-page-dropdown"}):o.createElement(tq.e,{recordingKey:"figjam-new-page-button"}))))}var aU=a(488527);let aV="figjam_expanded_left_panel--interopPanel--M-7QA";function aW({pagesList:e,isReadOnly:t}){let a=(0,ey.GQ)(),n=(0,tG.sv)(),r=(0,t2.g)({pagesList:e,shouldShowDuplicateOption:n}),l=(0,es.U1)(),i=(0,tJ.ew)(),[s,d]=(0,m.fp)(aL),u=(0,m.Xr)(eN._L),p=(0,e4.Yg)(),E=(0,o.useRef)(null);(0,o.useEffect)(()=>{s||(d(!0),u())},[s,d,u]);let _=o.createElement(aG,{width:a,ref:l},o.createElement("div",{className:"figjam_expanded_left_panel--noShrink--mamEZ",ref:E},o.createElement(aF,null),i&&o.createElement(ak.y,{withBorder:!0},o.createElement(aA.e,{activeTab:c.xae.LAYERS})),o.createElement(aH,null)),o.createElement(aj,{pagesList:e},o.createElement(t1.bU,{pages:e,isReadOnly:t,onContextMenu:r,isComparingChanges:!1,activePageShouldUseBrandColor:!0}))),g=p&&s,f=E.current?.clientHeight||134;return g?o.createElement("div",{style:{height:aK(f,e.length)}},_):_}let aK=(e,t)=>{let a=(0,aN.jz)(aU.xM9),n=e+5;return Math.min(n+a*t,n+4*a)},aG=(0,o.forwardRef)(function({width:e,children:t},a){let n=(0,tJ.ew)();return o.createElement(ew.wV,{ref:a,className:ep()(eT.Dm,"figjam_expanded_left_panel--resizableContainer--DhTbD",{[aV]:n}),size:e,defaultSize:ey.qm,side:"right",onResize:e=>(0,ey.xT)(e,ey.Yh,ey.g_),style:{maxWidth:ey.g_},id:aO.k,"data-cancel-insertable-resource-drag-and-drop":!0},o.createElement("div",{style:{width:e},className:ep()("figjam_expanded_left_panel--panel--rI14k",{[aV]:n}),"data-testid":"figjam-expanded-left-panel"},t))});function aj({pagesList:e,children:t}){let[a,n]=(0,o.useState)(!1),r=(0,o.useRef)(null);(0,t5.a)({pagesList:e,scrollContainerRef:r});let l=(0,o.useCallback)(e=>{n(e>0)},[]);return o.createElement(eh.P,{horizontalScrollingDisabled:!0,onScroll:l,className:ep()("figjam_expanded_left_panel--scrollContainer--V6RoK",{"figjam_expanded_left_panel--withTopBorder--OhkVb":a}),ref:r},t)}var az=a(631016),aZ=a(363523),a$=a(511445),aY=a(972311),aX=a(708862),aJ=a(838200),aQ=a(540680);let aq=(0,aN.jz)(aU.fh1),a0=(0,aN.jz)(aU.if6);function a1({dltBottomOffset:e,collidesWithDLT:t,collidesWithTools:a}){let n=a0;return t&&(n+=e),a&&(n+=aq+a0),n}let a2=(0,aN.jz)(aU.Y_2),a5=(0,aN.jz)(aU.Hsg),a3=(0,aN.jz)(aU.fWT);function a4({shouldAnimate:e,children:t}){let a=(0,o.useRef)(null);(0,az.C_)(a);let n=(0,tJ.ew)(),r=function(e){let[t,a]=(0,o.useState)(0),n=(0,aY.Yk)(),r=(0,aQ.Op)();return(o.useLayoutEffect(()=>{if(!e.current)return;let t=e.current.getBoundingClientRect(),n=t.left;a(n+t.width);let r=new ResizeObserver(t=>{for(let r of t)if(e.current===r.target){let e=r.borderBoxSize?.[0];a(n+(e?e.inlineSize:r.contentRect.width))}});return r.observe(e.current),()=>r.disconnect()},[e]),r)?t+a0>r.left?a1({dltBottomOffset:n,collidesWithDLT:!0,collidesWithTools:!1}):a1({dltBottomOffset:n,collidesWithDLT:!1,collidesWithTools:!1}):0}(a);return o.createElement(aZ.Q,{shouldAnimate:e},o.createElement("div",{ref:a,style:{position:"absolute",top:0,left:0,bottom:n?0:r,pointerEvents:"none"}},o.createElement("div",{style:{pointerEvents:"auto",display:"contents"}},t)))}let a6=o.memo(function(){let e=(0,b.aV)(),t=(0,ey.Ye)(),a=(0,ey.cT)(),n=(0,ey.n0)(),r=(0,b.p8)("showUi"),l=(0,e4.Yg)();if((0,ey.bi)(),!r)return null;if(e)return o.createElement(a4,{shouldAnimate:!1},o.createElement(ag,null));let i=t?o.createElement(a_,{pagesList:n,isReadOnly:a}):o.createElement(aW,{pagesList:n,isReadOnly:a});return o.createElement(a4,null,o.createElement(eo.V,{className:"figjam_left_panel--leftPanelContents--kBMIg",style:{visibility:(0,ei.dU)()?"hidden":"visible"}},i,l&&o.createElement(tP,null)))});var a8=a(33262),a7=a(517393),a9=a(833566),ne=a(279037),nt=a(773991),na=a(140835),nn=a(20835),nr=a(74960);function nl(){let[e,t]=(0,o.useState)(null),[a,n]=(0,o.useState)(!1),r=(0,o.useRef)(null),l=(0,o.useCallback)(()=>{r.current&&clearTimeout(r.current),n(!1)},[]),i=(0,o.useCallback)(e=>{"reactive_guidance_tooltip--fadeout--qFmOg"===e.animationName&&t(null)},[]),s=(0,o.useCallback)((e,a)=>{r.current&&(clearTimeout(r.current),t(null)),requestAnimationFrame(()=>{r.current=setTimeout(l,5e3),t({x:e,y:a}),n(!0)})},[l]);(0,o.useEffect)(()=>(0,nn.M)(s),[s]);let c=(0,A._X)({subscribeToUpdates_expensive:!!e});if(!e)return null;let d={top:c.y,left:c.x,height:c.height,width:c.width},m=(0,A.Z0)(c,{x:e.x+50/c.zoomScale,y:e.y}),u={transform:`translate3D(${m.x}px, ${m.y}px, 0) translate(0, -50%)`};return o.createElement(na.fu,{name:"Reactive Guidance Tooltip"},o.createElement("div",{className:"reactive_guidance_tooltip--overflowContainer--RQWcR",style:d},o.createElement("div",{className:ep()("reactive_guidance_tooltip--tooltip--YkN90",a?"reactive_guidance_tooltip--fadeIn--Sipdd":"reactive_guidance_tooltip--fadeOut--XaVTK"),style:u,onAnimationEnd:i},o.createElement(ne._,null),o.createElement("div",{className:"reactive_guidance_tooltip--text--Si0XF"},(0,k.tx)("whiteboard.reactive_guidance.view_only",{permission:o.createElement("span",{className:"reactive_guidance_tooltip--textEmphasis--VIQ6b"},(0,k.tx)("whiteboard.reactive_guidance.view_only_permission"))})),o.createElement(nr.RJ,{viewOnly:!0,variant:"link-onbrand",recordingKey:"reactiveGuidanceViewPermission",hideViewOnlyText:!0}),o.createElement(nt.Me,{onClick:l,trackingEventName:"reactive_guidance_tooltip_closed",recordingKey:"reactiveGuidanceTooltip","aria-label":(0,k.t)("general.close")},o.createElement(em.A,null)))))}var ni=a(191526),no=a(572749),ns=a(712204),nc=a(604938),nd=a(588172),nm=a(619107),nu=a(651507);let np=(0,aN.hG)(aU.Yub),nE=(0,aN.hG)(aU.Dts)+4;function n_({stamp:e,renderChildren:t}){let a=(0,A._X)({subscribeToUpdates_expensive:!0}),[n,r]=(0,o.useState)(null),l=(0,aY.Yk)(),[i,s]=(0,o.useState)(e2.Zj.ABOVE),[c,d]=(0,o.useState)(null),m=e.guid;(0,o.useEffect)(()=>{let e=`stamp-tooltip-${m}`,t=(0,nm.EE)(e,[m],e=>r(e.position));return r(t.currentNodePosition[m]?.position||null),()=>{(0,nm.lB)(e)}},[m]);let u=(0,o.useMemo)(()=>n?(0,A.Yb)(a,n.absoluteBounds):null,[n,a]),p=(0,o.useMemo)(()=>u?{...u,x:u.x+a.x,y:u.y+a.y}:null,[u,a.x,a.y]),E=(0,o.useMemo)(()=>!!u&&(0,A.ZT)(u,a),[u,a]),_=(0,o.useCallback)((e,t,n)=>{let r;let i=a.y+10,o=a.y+a.height-10-l-t.height,s=a.x+10,c=a.x+a.width-10-t.width,d=e2.Zj.ABOVE,m=(0,nd.qE)((0,nu.Al)(e,t),s,c);return m+np+nE>e.x+e.width?(m=(0,nd.qE)(e.x+e.width+n,s,c),d=e2.Zj.RIGHT):m+t.width-np-nE<e.x&&(m=(0,nd.qE)(e.x-t.width-n,s,c),d=e2.Zj.LEFT),d===e2.Zj.LEFT||d===e2.Zj.RIGHT?r=(0,nu.tJ)(e,t):(r=(0,nu.T1)(e,t,n))<i&&(r=(0,nu.DH)(e,t,n),d=e2.Zj.BELOW),{pos:d,x:m,y:(0,nd.qE)(r,i,o)}},[l,a]),g=(0,o.useCallback)((e,t,a)=>_(e,t,a).x,[_]),f=(0,o.useCallback)((e,t,a)=>_(e,t,a).y,[_]),h=(0,o.useCallback)((e,t,a,n)=>{if(!p)return;let r=_(p,a,n).pos;s(r),d(n=>{let l=function({targetRect:e,tooltipRect:t,tooltipPosition:a}){let n=e.x-t.x+e.width/2,r=e.y-t.y+e.height/2,l=t.width-2*np-nE,i=t.height-2*np-nE;switch(a){case e2.Zj.ABOVE:return{left:(0,nd.qE)(n-np,nE,l),top:Math.floor(t.height)};case e2.Zj.BELOW:return{left:(0,nd.qE)(n-np,nE,l),top:-np};case e2.Zj.RIGHT:return{left:-np,top:(0,nd.qE)(r-np,nE,i)};case e2.Zj.LEFT:return{left:Math.floor(t.width),top:(0,nd.qE)(r-np,nE,i)}}}({targetRect:p,tooltipRect:{x:e,y:t,width:a.width,height:a.height},tooltipPosition:r});return n&&l.top===n.top&&l.left===n.left?n:l})},[_,p]);return p&&E?o.createElement(nu.lM,{style:{WebkitUserSelect:"none"},targetRect:p,offset:np,positionX:g,positionY:f,onPosition:h},t({arrowPosition:c,tooltipPosition:i})):null}let ng="stamp_overlay--userText--FdBYI ellipsis--ellipsis--Tjyfa",nf="stamp_overlay--tRexAvatarForeground--6Qkya",nh={[e2.Zj.ABOVE]:"stamp_overlay--downArrow--VJLl5 stamp_overlay--arrow--F8-y5",[e2.Zj.BELOW]:"stamp_overlay--upArrow--PCqYY stamp_overlay--arrowInset--8zLXg stamp_overlay--arrow--F8-y5",[e2.Zj.RIGHT]:"stamp_overlay--leftArrow--u3dvc stamp_overlay--arrow--F8-y5",[e2.Zj.LEFT]:"stamp_overlay--rightArrow--G7DIa stamp_overlay--arrow--F8-y5"},nb={[e2.Zj.ABOVE]:"stamp_overlay--animationUp--Pq4mv stamp_overlay--animationBase--a-FJI",[e2.Zj.BELOW]:"stamp_overlay--animationDown--mBXfv stamp_overlay--animationBase--a-FJI",[e2.Zj.RIGHT]:"stamp_overlay--animationRight--2KY5g stamp_overlay--animationBase--a-FJI",[e2.Zj.LEFT]:"stamp_overlay--animationLeft--daYLK stamp_overlay--animationBase--a-FJI"};function nv(e){let t=e.mirror.sceneGraph,a=Object.keys(e.mirror.sceneGraphSelection);if(1!==a.length)return null;let n=t.get(a[0]);return n&&"STAMP"===n.type?n:null}function nT(e){let t=e.mirror.sceneGraph.get(e.mirror.appModel.hoveredNode);return t&&"STAMP"===t.type?t.guid:null}function ny({shouldShowAvatar:e,avatarEntity:t,text:a}){return o.createElement(o.Fragment,null,e&&o.createElement(ns.Ro,{size:16,entity:t}),o.createElement("div",{className:ng},a))}function nw({size:e}){return o.createElement("svg",{width:e,height:e,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{clipPath:"url(#clip0_1941_43995)"},o.createElement("rect",{className:"stamp_overlay--tRexAvatarBackground--tprTe",width:"16",height:"16"}),o.createElement("path",{className:nf,d:"M3 9.90476V8H9V9.42857V10.8571V13C9 15.2091 7.20914 17 5 17H0L-0.71875 11.7143L3 9.90476Z"}),o.createElement("path",{className:nf,fillRule:"evenodd",clipRule:"evenodd",d:"M4.81038 2.08926C3.50282 2.45482 3 3.93364 3 5.29134V8C3 8.55228 3.44771 9 4 9H13C13.5523 9 14 8.55228 14 8V6.16667C14 4.50981 12.6569 3.16667 11 3.16667H8.24357C7.98467 3.16667 7.73678 3.06531 7.53359 2.90486C7.09796 2.56089 6.25898 2 5.42 2C5.21483 2 5.00965 2.03354 4.81038 2.08926ZM5.75 5.5C6.16421 5.5 6.5 5.16421 6.5 4.75C6.5 4.33579 6.16421 4 5.75 4C5.33579 4 5 4.33579 5 4.75C5 5.16421 5.33579 5.5 5.75 5.5Z"}),o.createElement("path",{className:nf,d:"M11.8504 13.8881C10.8861 14.05 10.9477 12.5057 9.64966 12.5057C8.35158 12.5057 7.14966 13.3116 7.14966 12.1587C7.14966 11.0057 8.35155 11 9.64962 11C11.5299 11 12.8147 13.7262 11.8504 13.8881Z"})),o.createElement("defs",null,o.createElement("clipPath",{id:"clip0_1941_43995"},o.createElement("circle",{r:"8",cx:"8",cy:"8",fill:"black"}))))}function nC({stamp:e,shouldAnimate:t,testId:a}){let n=e.stampData?.stampedByUserId||null,r=e.stampData?.userId||null,{user:l,loading:i}=(0,N.wW)(n),{user:s,loading:c}=(0,N.wW)(r),d=W.q5()?.org?.name,m=(()=>{let t=!e.isFaceStamp,a=!!e.stampData?.votingSessionId;if(n&&i||r&&c)return o.createElement(o.Fragment,null,t&&o.createElement("div",{className:"stamp_overlay--loadingAvatar--DkN-J stamp_overlay--loadingBase--2UAyM"}),o.createElement("div",{className:"stamp_overlay--loadingUserText--845yi stamp_overlay--loadingBase--2UAyM"}));if(l){let e=l.handle;return o.createElement(ny,{shouldShowAvatar:t,avatarEntity:l,text:a?(0,k.tx)("voting.stamp_tooltip.vote",{userName:e}):r&&n!==r?o.createElement("div",{className:"stamp_overlay--faceStampTooltipText--bMf1l"},s?.handle," ",o.createElement("br",null),o.createElement("p",{className:"stamp_overlay--stampedByText--fK8AK"},(0,k.tx)("whiteboard.stamp.stamped_by_tooltip",{userName:e}))):e})}if(s){let e=s.handle;return o.createElement(ny,{shouldShowAvatar:t,avatarEntity:s,text:a?(0,k.tx)("voting.stamp_tooltip.vote",{userName:e}):e})}if(r&&(0,N.Fl)(r)||n&&(0,N.Fl)(n)){let e=a?(0,k.tx)("voting.stamp_tooltip.visitor_vote"):d?(0,k.tx)("voting.stamp_tooltip.visitor_with_org",{orgName:d}):(0,k.tx)("voting.stamp_tooltip.visitor_without_org");return o.createElement(ny,{shouldShowAvatar:t,avatarEntity:{id:n||r||void 0},text:e})}return n||r?o.createElement(ny,{shouldShowAvatar:t,avatarEntity:{},text:(0,k.tx)("voting.stamp_tooltip.unavailable")}):o.createElement(o.Fragment,null,o.createElement(nw,{size:16}),o.createElement("div",{className:ng},(0,k.tx)("voting.stamp_tooltip.old_stamp")))})();return o.createElement(n_,{stamp:e,renderChildren:({tooltipPosition:e,arrowPosition:n})=>o.createElement("div",{className:t?nb[e]:""},o.createElement("div",{className:"stamp_overlay--tooltip---xJx5 text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L","data-testid":a},m),n&&o.createElement("div",{className:nh[e],style:n}))})}let nS=o.memo(function(){let e=(0,s.d4)(nv);return o.createElement(o.Fragment,null,e&&o.createElement(nC,{stamp:e,shouldAnimate:!0,key:e.guid,testId:"selected-stamp-tooltip"}))}),nI=o.memo(function(){let e=(0,s.d4)(nT),[t,a]=(0,o.useState)(null),[n,r]=(0,o.useState)(!0),l=(0,s.d4)(e=>t?e.mirror.sceneGraph.get(t):null),i=(0,s.d4)(nv),c=(0,nc.d0)();return((0,o.useEffect)(()=>{let n=!!t;if(e!==t&&(e||t)){if(e&&n){r(!1),a(e);return}if(e&&!n){let t=setTimeout(()=>{a(e)},100);return()=>clearTimeout(t)}if(!e&&n){let e=setTimeout(()=>{a(null),r(!0)},300);return()=>clearTimeout(e)}}},[e,t]),i?.isFaceStamp&&!i?.stampData?.votingSessionId&&c)?null:o.createElement(o.Fragment,null,l&&o.createElement(nC,{stamp:l,key:l.guid,testId:"hovered-stamp-tooltip",shouldAnimate:n}))}),nN=o.memo(function(){return(0,u.aJ)()?o.createElement(nI,null):o.createElement(nS,null)});var nL=a(890882),nO=a(728722),nk=a(152664),nA=a(736041),nR=a(955597),nx=a(737686),nM=a(886231),nD=a(183739),nP=a(39971),nF=a(946062),nB=a(303596),nH=a(503381),nU=a(242849),nV=a(476059);function nW(){let e=(0,m.md)(nM.UQ),t=(0,m.md)(nR.zN),a=1e3*parseFloat(nV.H)+300,[n,r]=(0,o.useState)(!1);return((0,o.useEffect)(()=>{let e=setTimeout(()=>{r(!0)},a);return()=>clearTimeout(e)},[a]),e&&"loaded"===t.status&&!1===t.data&&!1===u.Ay.isInNativeApp&&n)?o.createElement(nK,null):null}function nK(){let e=(0,s.d4)(e=>e.userFlags),t=(0,W.q5)(),a=t?.teamId,n=t?.key,r=(0,s.d4)(e=>e.multiplayer.sessionID),l=(0,s.d4)(e=>e.userAnalyticsData?.first_figjam_at),i=(0,m.md)(nH.Zk);if(!(0,nx.mW)(e,"figjam_editor_onboarded"))return null;if(a)return o.createElement(nG,{teamId:a,userFlags:e,currentFileKey:n,currentSessionId:r});{let t=(0,nx.mW)(e,"seen_fj_upsell_draft_modal_1")?(0,nx.mW)(e,"seen_fj_upsell_draft_modal_2")?(0,nx.mW)(e,"seen_fj_upsell_draft_modal_3")?null:i.seen_fj_upsell_draft_modal_2.fileKey!==n||i.seen_fj_upsell_draft_modal_2.sessionId!==r?"seen_fj_upsell_draft_modal_3":null:i.seen_fj_upsell_draft_modal_1.fileKey!==n||i.seen_fj_upsell_draft_modal_1.sessionId!==r?"seen_fj_upsell_draft_modal_2":null:"seen_fj_upsell_draft_modal_1";return!t||(0,nL.A)(l).add(7,"day").isSameOrAfter((0,nL.A)())?null:o.createElement(nj,{mainText:nz(t),userFlag:t,secondaryText:nZ(t),upsellSource:nP.b.FIGJAM_UPSELL_MODAL,gif:n$(t),teamId:"",currentSessionId:r,currentFileKey:n})}}function nG(e){var t;let{teamId:a,userFlags:n,currentSessionId:r,currentFileKey:l}=e,i=(0,nO.Rs)(nD.bel,{teamId:a});if("loaded"!==i.status)return null;let s=1!==(t=i.data?.team?.teamFileCounts?.whiteboardFileCount??0)||(0,nx.mW)(n,"seen_fj_upsell_team_modal_1")?2!==t||(0,nx.mW)(n,"seen_fj_upsell_team_modal_2")?3!==t||(0,nx.mW)(n,"seen_fj_upsell_team_modal_3")?null:"seen_fj_upsell_team_modal_3":"seen_fj_upsell_team_modal_2":"seen_fj_upsell_team_modal_1";return s?o.createElement(nj,{mainText:nz(s),userFlag:s,secondaryText:nZ(s),upsellSource:nP.b.FIGJAM_UPSELL_MODAL,gif:n$(s),teamId:a,currentFileKey:l,currentSessionId:r}):null}function nj(e){let{mainText:t,secondaryText:a,userFlag:n,upsellSource:r,gif:l,teamId:i}=e,c=(0,m.Xr)(nH.xw),u=(0,s.wA)(),p=(0,m.md)(nH.Zk);o.useEffect(()=>{c({showing:!0,userFlag:n})},[c,n]);let E=()=>{u(nA.Lo()),u(V.b({[n]:!0})),p[n]={fileKey:e.currentFileKey,sessionId:e.currentSessionId},c({showing:!1})},_=(0,d.mm)()[0],g="ja"===_?323-2*nB.uv:303-2*nB.uv;return o.createElement(na.fu,{name:"FigJamUpsellModal",properties:{}},o.createElement(nB.CR,{targetKey:nU.l,dismissModal:E,width:g,topPadding:12,shouldCenterArrow:nF.EL.FALLBACK,disableClickOutsideToHide:!0,additionalOnExplicitDismiss:E,className:"figjam_upsell_modal--modal--04mt-",closeButtonClassName:"figjam_upsell_modal--closeButton--MTKjp",shouldDismissWhenLostDOMTarget:!0},o.createElement("div",{className:"figjam_upsell_modal--genericTopHalf--iECQZ"},o.createElement("span",{className:"figjam_upsell_modal--mainText--pe9Vj text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",style:{width:"ja"===_?154:150}},t),o.createElement("div",{className:"figjam_upsell_modal--gif--1VlR7"},l)),o.createElement("div",{className:"figjam_upsell_modal--genericBottomHalf--ZGBjw"},o.createElement("span",null,a),o.createElement(nt.$z,{onClick:()=>{E(),u(nA.to({type:nk.V,data:{upsellSource:r,teamId:i,openCheckoutInNewTab:!0}}))}},(0,k.tx)("upsell.history.upgrade_now")))))}function nz(e){switch(e){case"seen_fj_upsell_draft_modal_1":return(0,k.tx)("whiteboard.paywall_upsell.draft.first.main",{purpleSection:nY((0,k.tx)("whiteboard.paywall_upsell.draft.first.main.purpleSection"))});case"seen_fj_upsell_draft_modal_2":return(0,k.tx)("whiteboard.paywall_upsell.draft.second.main",{purpleSection:nY((0,k.tx)("whiteboard.paywall_upsell.draft.second.main.purpleSection"))});case"seen_fj_upsell_draft_modal_3":return(0,k.tx)("whiteboard.paywall_upsell.draft.third.main",{purpleSection:nY((0,k.tx)("whiteboard.paywall_upsell.draft.third.main.purpleSection"))});case"seen_fj_upsell_team_modal_1":return(0,k.tx)("whiteboard.paywall_upsell.team.main",{fileCount:nY((0,k.tx)("whiteboard.paywall_upsell.team.main.first"))});case"seen_fj_upsell_team_modal_2":return(0,k.tx)("whiteboard.paywall_upsell.team.main",{fileCount:nY((0,k.tx)("whiteboard.paywall_upsell.team.main.second"))});case"seen_fj_upsell_team_modal_3":return(0,k.tx)("whiteboard.paywall_upsell.team.last.main",{purpleSection:nY((0,k.tx)("whiteboard.paywall_upsell.team.last.main.purpleSection"))});default:return o.createElement(o.Fragment,null)}}function nZ(e){switch(e){case"seen_fj_upsell_draft_modal_1":return(0,k.tx)("whiteboard.paywall_upsell.draft.first.secondary");case"seen_fj_upsell_draft_modal_2":return(0,k.tx)("whiteboard.paywall_upsell.draft.second.secondary");case"seen_fj_upsell_draft_modal_3":return(0,k.tx)("whiteboard.paywall_upsell.draft.third.secondary");case"seen_fj_upsell_team_modal_1":case"seen_fj_upsell_team_modal_2":case"seen_fj_upsell_team_modal_3":return(0,k.tx)("whiteboard.paywall_upsell.team.secondary");default:return o.createElement(o.Fragment,null)}}function n$(e){switch(e){case"seen_fj_upsell_draft_modal_1":return o.createElement("img",{src:(0,d.ck)("2e5f8efd83d4a5faea78203c9c6d306d0d0b862b"),alt:"stamping a sticky animation"});case"seen_fj_upsell_draft_modal_2":return o.createElement("img",{src:(0,d.ck)("7909d41489939d9259567eeb734d887eb67b95fc"),alt:"voting wheel animation"});case"seen_fj_upsell_draft_modal_3":return o.createElement("img",{src:(0,d.ck)("c490e715dcc620fce0cff9c6cd11936b30dbe1bd"),alt:"audio call animation"});case"seen_fj_upsell_team_modal_1":return o.createElement("img",{src:(0,d.ck)("fecccf2b6ed6c72a5269dea45f2f713bdef5b0cb"),alt:"one file used animation"});case"seen_fj_upsell_team_modal_2":return o.createElement("img",{src:(0,d.ck)("1623cd399db275cf37f3360fbf774696660cd7e6"),alt:"two files used animation"});case"seen_fj_upsell_team_modal_3":return o.createElement("img",{src:(0,d.ck)("cb781eb3d9a927a0bce7e246f2f8614e47d5ee1c"),alt:"third file used animation"})}}function nY(e){return o.createElement("span",{className:"figjam_upsell_modal--purpleText--gZ21M"},e)}var nX=a(888624),nJ=a(108982),nQ=a(139879),nq=a(437256),n0=a(677840),n1=a(730676),n2=a(539335),n5=a(747327),n3=a(939380),n4=a(303433),n6=a(788843),n8=a(888807),n7=a(648735),n9=a(45362),re=a(117736),rt=a(513748),ra=a(8153),rn=a(375900),rr=a(58590),rl=a(661137),ri=a(178380),ro=a(314540),rs=a(354465),rc=a(597185),rd=a(662750),rm=a(694630),ru=a(492366),rp=a(567095),rE=a(523848),r_=a(767731),rg=a(811257),rf=a(81818),rh=a(972142),rb=a(285024),rv=a(553920),rT=a(916297),ry=a(514849),rw=a(877394),rC=a(165008),rS=a(672089),rI=a(546749),rN=a(574719),rL=a(623817),rO=a(801828),rk=a(910164),rA=a(818630),rR=a(488130),rx=a(419378),rM=a(66683),rD=a(973393),rP=a(759853),rF=a(498639),rB=a(733050),rH=a(263352),rU=a(138157),rV=a(885354),rW=a(356394),rK=a(2408),rG=a(62425),rj=a(252679),rz=a(621847),rZ=a(761649),r$=a(73041),rY=a(227362),rX=a(421023),rJ=a(482868),rQ=a(594259),rq=a(575207),r0=a(289298);function r1(e){let t=(0,s.wA)(),a=o.useRef(null),n=(0,as.Um)(),r="whiteboard"===(0,r$.lg)(),l=(0,rQ.F5)(),{tabManager:i,searchQuery:c}=(0,ry.cX)(),d=(0,rm.Vq)(i.activeTab),m=(0,rY.Gt)(e.pluginId,d),p=(0,rY.dR)(e.pluginId,d),E=(0,rY.RK)(e.pluginId),_=(0,rZ.t)(e.pluginId,m,p).length>0,g=_&&n?.type===eT.LO,f=(0,rJ.b)(),{validatePublishedPluginInOrgAllowlist:h,isPluginBlockedByAllowlist:b}=(0,n7.j1)(e.pluginId),v=o.useCallback(n=>{if(n.stopPropagation(),h()){if(r&&(0,rQ.oM)({id:e.pluginId,type:rg.p.PLUGINS,source:d,options:{...l,query:c}}),_){g?t(al.oB()):t(al.j7({type:eT.LO,data:{pluginId:e.pluginId,view:e.view,target:a.current?.getBoundingClientRect(),triggeredFrom:d}}));return}E?m():p(),f()}},[h,r,_,f,e.pluginId,e.view,d,l,c,g,t,E,m,p]),{buttonCta:T,isNotInHeader:y}=e,w=(0,s.d4)(e=>(0,rX.zg)(e.selectedView)&&!e.user),[C,S]=o.useState(w);o.useEffect(()=>{S(w)},[w]);let I=y?rz.$$:rz.nR,N=w?void 0:v;return o.createElement("div",{ref:a,"data-not-draggable":!0,"data-testid":"run-cta-button"},o.createElement(I,{onClick:u.Ay.isIpad?void 0:N,onPointerDown:u.Ay.isIpad?N:void 0,className:w||b?rq.NY:rq.lI},T,_&&o.createElement(eQ.B,{svg:r0.A,className:y||w?rq.sD:rq.wE})))}var r2=a(616845),r5=a(831723),r3=a(336272),r4=a(107712);let r6="browse_plugins_universal_modal_tiles--savedPluginTile--pLNFr browse_plugins_universal_modal_tiles--browsePluginTile--99ESx",r8="browse_plugins_universal_modal_tiles--pluginTileIcon--C0pTJ",r7="browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",r9="browse_plugins_universal_modal_tiles--savedPluginTileLeftSide--nqHJe browse_plugins_universal_modal_tiles--browsePluginTileRightSide--u74qu",le="browse_plugins_universal_modal_tiles--pluginTileDescription--gno7V text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa";var lt=a(610837),la=a(111431);let ln=(0,rB.M)(),lr=o.forwardRef((e,t)=>{let a=(0,s.wA)(),{localFileId:n,view:r}=e,l=(0,n7.nl)(),i=n?l[n]:null,c=(0,n7.kd)(),d=i?i.plugin_id:e.publishedPlugin.id,m=e.publishedPlugin??c.find(e=>e.id===d),u=m?.versions[m.current_plugin_version_id],p=!!u,E=o.useRef(null),_=(0,as.Um)(),g=_?.type===r2.lD&&_.data.localFileId===n&&_.data.pluginId===d&&_.data.view===r&&_.data.targetRect,{tabManager:f,searchQuery:h,setPreviewResource:b}=(0,ry.cX)(),{dragState:v,onInsertableResourcePointerDown:T}=(0,rF.c)({clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:(0,rJ.b)(),triggeredFrom:(0,rm.Vq)(f.activeTab),resource:i??u,searchQuery:h});if(!i&&!m)return null;let y=()=>{n&&ln.openExtensionDirectory(n)};return o.createElement(o.Fragment,null,o.createElement(eq.n.div,{className:r6,onPointerDown:T,ref:t},o.createElement(eJ.E,{className:r9,onClick:()=>p?b({id:u.plugin_id,type:rm.Rt.PLUGINS}):y()},o.createElement("div",{className:r8},p&&u?o.createElement(rU.V,{plugin:u,loading:"lazy",alt:""}):o.createElement(eQ.B,{svg:la.A})),o.createElement("div",{className:r7},o.createElement("div",{className:"browse_plugins_universal_modal_tiles--developmentPluginPrimaryText--25RR9"},o.createElement("span",{className:"browse_plugins_universal_modal_tiles--developmentPluginName--f75Vj browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},u?u.name:i.name),m&&rV.tY.PluginManagementTitleBadge(m)),o.createElement(rW.A,{localResource:i,publishedResource:m}))),o.createElement("div",{className:"browse_plugins_universal_modal_tiles--developmentTileRightSide----HW6"},o.createElement(rN.T,{selected:g??void 0},o.createElement(ec.K,{ref:E,onClick:e=>{let t=e.currentTarget.getBoundingClientRect();a(al.j7({type:r2.lD,data:{localFileId:n,pluginId:d,view:r,targetRect:t}}))},"aria-label":(0,k.t)("whiteboard.inserts.plugin_development_options_tooltip"),htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("whiteboard.inserts.plugin_development_options_tooltip")}},o.createElement(rL.J,null))),g&&o.createElement(r2.T9,{localResource:i??void 0,publishedResource:i?void 0:m,viewResource:()=>b({id:d,type:rm.Rt.PLUGINS})}),o.createElement(r1,{pluginId:d,buttonCta:(0,k.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:r}))),o.createElement(rP.z,{dragState:v}))});function ll(e){let t=(0,rD.xp)(e.pluginId),a=(0,n7.Be)().plugins[e.pluginId],n=o.useMemo(()=>a||e.pluginVersion||(0,rH.Ar)(t)||rH.lT,[a,t,e.pluginVersion]);return o.createElement(li,{pluginId:e.pluginId,pluginVersion:n,view:e.view,showLockIcon:e.showLockIcon,plugin:t})}let li=o.memo(function(e){let{plugin:t,pluginVersion:a}=e,{isSavedForUser:n}=(0,r4.QK)(e.pluginId,ru.vt.PLUGIN),r=(0,rJ.b)(),{tabManager:l,searchQuery:i,setPreviewResource:s}=(0,ry.cX)(),c=(0,rD.EO)(t),m=(0,rD.gn)(t),u=(0,rl.sZ)(),p=(0,n7.ll)(),E=(0,rn.XV)({org:u,extension:t,allowlistedExtensions:p}),{dragState:_,onInsertableResourcePointerDown:g}=(0,rF.c)({clickToInsert_DEPRECATED:!1,afterSuccessfulInsert:r,triggeredFrom:(0,rm.Vq)(l.activeTab),resource:a,searchQuery:i,showRequestFlow:E}),f=(0,n7.bI)(a.plugin_id)&&e.view===rg.p.PLUGINS,h=(0,v.BI)(),b=(0,rA.QP)({resource:t,height:"16",validBadges:[rA.op.FREEMUM,rA.op.OFF_PLATFORM,rA.op.PURCHASED]});if(a===rH.lT||(0,ru.m3)(t)&&(h?.shouldOptimizeForIpadApp||(0,d.kc)().cmty_m10n_test_apple_os))return null;let T=f?o.createElement(rG.WZ,{resource:t}):c?o.createElement(lo,{plugin:t}):m?o.createElement(rK.Vv,null,(0,k.tx)("community.buyer.update")):E?o.createElement("div",{style:rk.sx.add({width:"80px"}).$},o.createElement(r3.s,{version:a,isPlugin:!0,variant:r3.w.FigJamPluginTile})):o.createElement(r1,{pluginId:e.pluginId,buttonCta:(0,k.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!1,view:e.view}),y=(0,r5.kB)(t)||(0,r5.CF)(a),w=f?o.createElement(rG.e2,{resource:t}):o.createElement(o.Fragment,null,o.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTileHeader--gYj6D"},o.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTitle--aUkOj resource_tiles--pluginTitle--dP-tg"},o.createElement("span",{className:"browse_plugins_universal_modal_tiles--pluginTileName--z1OSk text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},a.name),b&&o.createElement("div",{className:"browse_plugins_universal_modal_tiles--pluginTitleBadgeContainer--SQKss resource_tiles--pluginTitleBadgeContainer--Q-9cz"},b),m&&o.createElement("div",{className:"browse_plugins_universal_modal_tiles--browsePluginTilePaymentError--A0pCZ"},o.createElement(rK.xY,null)),e.showLockIcon&&o.createElement(eQ.B,{svg:lt.A}))),o.createElement("div",{className:ep()(le,"browse_plugins_universal_modal_tiles--pluginTileDescriptionPadding--qGAaH")},(0,rM.G8)(a,rO.$J)),y&&o.createElement("div",{className:le},y));return o.createElement(o.Fragment,null,o.createElement(eq.n.div,{className:r6,onPointerDown:g,"data-testid":`figjam-plugin-tile-${e.pluginId}`},o.createElement(eJ.E,{className:r9,onClick:()=>s({id:a.plugin_id,type:rm.Rt.PLUGINS})},o.createElement("div",{className:"browse_plugins_universal_modal_tiles--relativeContainer--yRMHl"},f&&o.createElement("div",{className:"browse_plugins_universal_modal_tiles--redDot--rXNiG red_dot--baseRedDot--pgZV7"}),o.createElement("div",{className:r8},o.createElement(rU.V,{plugin:a,loading:"lazy",alt:"",draggable:!1}))),o.createElement("div",{className:r7},w)),o.createElement("div",{className:ep()([ev.s.flex.itemsCenter.mr8.if(n,ev.s.visible).$])},o.createElement(rj._W,{resourceId:e.pluginId,resourceType:ru.vt.PLUGIN,parentView:rj.nN.FIGJAM_PLUGIN_ROW})),o.createElement("div",null,T)),o.createElement(rP.z,{dragState:_}))});function lo(e){let t=(0,ry.cX)().setPreviewResource,a=(0,rD.lt)(e.plugin);return(0,ru.m3)(e.plugin)?o.createElement(eJ.E,{className:"browse_plugins_universal_modal_tiles--priceBadgeContainer--Sf172",onClick:()=>t({id:e.plugin.id,type:rm.Rt.PLUGINS}),htmlAttributes:{"data-not-draggable":!0}},o.createElement("div",{className:"browse_plugins_universal_modal_tiles--priceBadge--L2Q5M ellipsis--ellipsis--Tjyfa"},(0,rx.bV)(e.plugin.monetized_resource_metadata)),(0,rx.Lt)({resource:e.plugin,payment:a})&&o.createElement(rR.w5,{metadata:e.plugin.monetized_resource_metadata,condensed:!0})):null}var ls=a(431494),lc=a(893704),ld=a(855613),lm=a(168594),lu=a(202230),lp=a(359946),lE=a(671491),l_=a(199399),lg=a(982703);let lf="browse_widgets_universal_modal_tiles--widgetImageContainer--Jawtg",lh="browse_widgets_universal_modal_tiles--widgetTileMeta--pIVCD",lb="browse_widgets_universal_modal_tiles--widgetMetadataContainer--BLS2U",lv="browse_widgets_universal_modal_tiles--developmentWidgetPrimaryText--4ORbR",lT="browse_widgets_universal_modal_tiles--widgetResourceActionContainer--tlXT0";function ly(e){let{publishedWidget:t}=e,a=(0,ry.cX)().setPreviewResource,n=(0,s.wA)(),r=t.id,l=t?.versions[t.current_plugin_version_id],i=!!l,c=(0,as.Um)(),d=c&&c?.type===r2.lD&&c.data.localFileId===r&&c.data.view===e.tab,m=i?l.redirect_snapshot_url||"":lE.J;return o.createElement(o.Fragment,null,o.createElement(ld.sU,{image:o.createElement(lm.FK,{className:lf},o.createElement(lu.z,{src:m,context:ro._Y.WHITEBOARD})),bottomRow:o.createElement("div",{className:lh},o.createElement(ld.dY.MetadataContainer,{className:lb,onClick:()=>a({id:r,type:rm.Rt.WIDGETS})},o.createElement(ld.dY.TextMetadataLayout,{primaryText:o.createElement("div",{className:lv},o.createElement("span",null,l.name),t&&rV.tY.PluginManagementTitleBadge(t)),secondaryText:o.createElement(rW.A,{publishedResource:t,localResource:void 0})})),o.createElement(ld.dY.ResourceActionContainer,{className:lT},o.createElement(rN.T,{selected:d??void 0},o.createElement(ec.K,{onClick:t=>{let a=t.currentTarget.getBoundingClientRect();n(al.j7({type:r2.lD,data:{localFileId:r,view:e.tab,targetRect:a}}))},"aria-label":(0,k.t)("whiteboard.inserts.widget_options"),htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("whiteboard.inserts.widget_options")}},o.createElement(rL.J,null))),d&&o.createElement(r2.T9,{publishedResource:t,viewResource:()=>a({id:r,type:rm.Rt.WIDGETS})})))}))}let lw=(0,rB.M)(),lC=o.forwardRef((e,t)=>{let a=(0,n7.yQ)(),{localFileId:n}=e,r=(0,s.wA)(),l=a[n],i=(0,n7.bh)(),c=(0,n7.jg)(),d=(0,as.Um)(),{tabManager:m,searchQuery:u,setPreviewResource:p}=(0,ry.cX)();if(!l)return null;let E=i.find(e=>e.id===a[n].plugin_id),_=l.plugin_id,g=E?.versions[E.current_plugin_version_id],f=!!g,h=d&&d?.type===r2.lD&&d.data.localFileId===l.localFileId&&d.data.view===e.tab,b=()=>{lw.openExtensionDirectory(l.localFileId)},v=f&&g.redirect_snapshot_url||c[n]&&c[n].metadata.widgetSnapshotImageSrc||lE.J;return o.createElement(ld.sU,{image:o.createElement(lm.FK,{className:lf},o.createElement(lp._,{src:v,widget:l,analytics:{triggeredFrom:(0,rm.Vq)(m.activeTab),searchQuery:u},context:ro._Y.WHITEBOARD})),bottomRow:o.createElement("div",{ref:t,className:lh},o.createElement(ld.dY.MetadataContainer,{className:lb,onClick:()=>f?p({id:_,type:rm.Rt.WIDGETS}):b()},o.createElement(ld.dY.TextMetadataLayout,{primaryText:o.createElement("div",{className:lv},o.createElement("span",null,g?.name?g?.name:l.name),E&&rV.tY.PluginManagementTitleBadge(E)),secondaryText:o.createElement(rW.A,{localResource:l,publishedResource:E})})),o.createElement(ld.dY.ResourceActionContainer,{className:lT},o.createElement(rN.T,{selected:h??void 0},o.createElement(ec.K,{onClick:t=>{let a=t.currentTarget.getBoundingClientRect();r(al.j7({type:r2.lD,data:{localFileId:l.localFileId,view:e.tab,targetRect:a}}))},"aria-label":(0,k.t)("whiteboard.inserts.widget_options"),htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("whiteboard.inserts.widget_options")}},o.createElement(rL.J,null))),h&&o.createElement(r2.T9,{localResource:l,viewResource:()=>p({id:_,type:rm.Rt.WIDGETS})})))})}),lS=o.memo(function(e){let{tabManager:t,setPreviewResource:a}=(0,ry.cX)(),n=(0,s.wA)(),r=e.widgetId,l=(0,rD.aQ)(e.widgetId),i=o.useMemo(()=>e.widgetVersion||(0,rH.uF)(l),[e.widgetVersion,l]),c=(0,rD.EO)(l),m=(0,rD.gn)(l),u=(0,rl.sZ)(),E=(0,n7.U6)(),_=(0,rn.XV)({org:u,extension:l,allowlistedExtensions:E}),g=!!(c||_),{searchQuery:f}=(0,ry.cX)();o.useEffect(()=>{l||n(n5.af({id:r,resourceType:ru.bD.WIDGET}))},[r,n,l]);let h=(0,v.BI)(),b=(0,s.d4)(e=>e.authedActiveCommunityProfile),{isSavedForUser:T}=(0,r4.QK)(e.widgetId,ru.vt.WIDGET);return(0,p.q8)()&&l_.RA.has(r)||!i||(0,ru.m3)(l)&&(h?.shouldOptimizeForIpadApp||(0,d.kc)().cmty_m10n_test_apple_os)?null:o.createElement(ld.sU,{className:"browse_widgets_universal_modal_tiles--widgetCardContainer--yzVBr resource_tiles--_parentWithHoverAction--m180X",image:o.createElement(lm.FK,{className:lf},!m&&o.createElement("div",{className:"browse_widgets_universal_modal_tiles--widgetMonetizationBadge--C1Vye"},(0,rA.$3)({resource:l,authedActiveCommunityProfile:b,validBadges:[rA.op.PURCHASED,rA.op.OFF_PLATFORM,rA.op.FREEMUM,rA.op.PRICE]})),g?o.createElement(lu.z,{src:i.redirect_snapshot_url,context:ro._Y.WHITEBOARD}):o.createElement(lp._,{src:i.redirect_snapshot_url,widget:i,analytics:{triggeredFrom:(0,rm.Vq)(t.activeTab),searchQuery:f},context:ro._Y.WHITEBOARD})),bottomRow:o.createElement(ld.dY.FigJamMetadata,{name:i.name,onClick:()=>a({id:r,type:rm.Rt.WIDGETS}),publishers:l?.community_publishers?.accepted,showLockIcon:e.showLockIcon,showPaymentError:m,rightAlignedElement:o.createElement("div",{className:ep()("browse_widgets_universal_modal_tiles--saveButtonInTile--KIOlI",{[lg._0]:!T})},o.createElement(rj._W,{resourceId:e.widgetId,resourceType:ru.vt.WIDGET,parentView:rj.nN.TILE}))}),onClick:g||m?()=>a({id:r,type:rm.Rt.WIDGETS}):void 0,dataTestId:`figjam-widget-tile-${r}`})}),lI="browse_resources_all_search_view--sectionHeaderContainer--fg20n",lN="browse_resources_all_search_view--sectionHeader--0rdpg text--fontPos13--xW8hS text--_fontBase--QdLsd",lL="browse_resources_all_search_view--seeMore--t4uuM text--fontPos13--xW8hS text--_fontBase--QdLsd";var lO=a(451479),lk=a(236705);function lA(e){let{assetsPanelSearch:t}=(0,s.d4)(e=>e.library),a=(0,nc.d0)();return e.lastPluginSearchQuery!==e.debouncedSearchQuery||e.lastWidgetSearchQuery!==e.debouncedSearchQuery||a&&e.lastFaceStampSearchQuery!==e.debouncedSearchQuery?o.createElement(rw.Wd,null):0===t.normalizedSearchResults.length&&0===e.searchTemplatesResult[lc.e].length&&0===e.widgetSavedSearchResultIds.length&&0===e.widgetCommunitySearchResultIds.length&&0===e.widgetOrgSearchResultIds.length&&0===e.pluginSavedSearchResultIds.length&&0===e.pluginOrgSearchResultIds.length&&0===e.pluginCommunitySearchResultIds.length&&0===e.widgetDevelopmentSearchResultIds.length&&0===e.pluginDevelopmentSearchResultIds.length&&0===e.moreResult.length&&0===e.teamTemplatesFromSearch.length?o.createElement(rT.e,{illustration:lk.A,query:e.query,cta:o.createElement(rT._,{url:"/community/figjam"})}):o.createElement(na.fu,{name:"all",properties:{resourceType:"all",query:e.query}},o.createElement(lF,{results:e.moreResult}),[()=>o.createElement(lD,{key:"librarySearchResults"}),()=>a&&o.createElement(lM,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query,key:"faceStampSearchResults"}),()=>o.createElement(lP,{templateSearchResults:e.searchTemplatesResult,teamTemplatesFromSearch:e.teamTemplatesFromSearch,totalNumTeamTemplatesFromSearch:e.totalNumTeamTemplatesFromSearch,key:"templateSearchResults"}),()=>o.createElement(lR,{savedSearchResultIds:e.widgetSavedSearchResultIds,communitySearchResultIds:e.widgetCommunitySearchResultIds,orgSearchResultIds:e.widgetOrgSearchResultIds,developmentSearchResultIds:e.widgetDevelopmentSearchResultIds,searchIsLoading:e.widgetSearchIsLoading,searchHasResolved:e.widgetSearchHasResolved,key:"widgetSearchResults"}),()=>o.createElement(lx,{savedSearchResultIds:e.pluginSavedSearchResultIds,communitySearchResultIds:e.pluginCommunitySearchResultIds,orgSearchResultIds:e.pluginOrgSearchResultIds,developmentSearchResultIds:e.pluginDevelopmentSearchResultIds,searchIsLoading:e.pluginSearchIsLoading,searchHasResolved:e.pluginSearchHasResolved,key:"pluginSearchResults"})].map(e=>e()))}function lR(e){let t=(0,ry.cX)().tabManager,a=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(a.length+e.developmentSearchResultIds.length-4,0),r=a.slice(0,4),l=Math.min(e.developmentSearchResultIds.length,4-r.length);return 0===a.length?null:o.createElement(o.Fragment,null,o.createElement("div",{className:lI},o.createElement("div",null,o.createElement("div",{className:lN},(0,k.tx)("whiteboard.inserts.widgets"))),n>0&&o.createElement("button",{className:lL,onClick:()=>{t.setActiveTab(rg.p.WIDGETS)}},`See ${n} more ${(0,rh.LD)(n,"result")}`)),o.createElement("div",{className:"browse_resources_all_search_view--widgetTilesGridContainer--MDlpu browse_widgets_view--widgetTilesGridContainer--t5-lL"},o.createElement(o.Fragment,null,r.map(e=>o.createElement(lS,{widgetId:e,key:e})),e.developmentSearchResultIds.slice(0,l).map(e=>o.createElement(lC,{localFileId:e,tab:rg.p.DEVELOPMENT,key:e})))))}function lx(e){let t=(0,ry.cX)().tabManager,a=e.savedSearchResultIds.concat(e.communitySearchResultIds,e.orgSearchResultIds),n=Math.max(a.length+e.developmentSearchResultIds.length-4,0),r=a.slice(0,4),l=Math.min(e.developmentSearchResultIds.length,4-r.length);return 0===a.length?null:o.createElement(o.Fragment,null,o.createElement("div",{className:ep()(lI,"browse_resources_all_search_view--pluginCategorySectionHeaderPadding--RKhPp")},o.createElement("div",null,o.createElement("div",{className:lN},(0,k.tx)("whiteboard.inserts.plugins"))),n>0&&o.createElement("button",{className:lL,onClick:()=>{t.setActiveTab(rg.p.PLUGINS)}},`See ${n} more ${(0,rh.LD)(n,"result")}`)),o.createElement(o.Fragment,null,r.slice(0,4).map(e=>o.createElement(ll,{pluginId:e,view:rg.p.PLUGINS,key:e})),e.developmentSearchResultIds.slice(0,l).map(e=>o.createElement(lr,{localFileId:e,view:rg.p.DEVELOPMENT,key:e}))))}function lM(e){let t=(0,nc.U5)(e.query),{setPreviewResource:a}=(0,ry.cX)();return 0===t.length?null:o.createElement(o.Fragment,null,o.createElement("div",{className:lI},o.createElement("div",{className:lN},(0,k.tx)("whiteboard.inserts.faces_title")),t.length>5&&!e.faceStampSearchIsLoading&&o.createElement("button",{className:lL,onClick:()=>{a({id:"FACE_STAMPS",type:rm.Rt.ORG_FACE_STAMPS})}},(0,k.tx)("whiteboard.inserts.see_more"))),o.createElement("div",{className:lO.ts},e.faceStampSearchIsLoading?o.createElement("div",{className:"browse_resources_all_search_view--skeletonContainer--W9B65"},o.createElement(rI._b,{rows:1,showHeader:!1})):o.createElement(rI.Jd,{maxRows:1,isLoading:!1,users:t})))}function lD(){let e=(0,ry.cX)().tabManager,{assetsPanelSearch:t}=(0,s.d4)(e=>e.library),a=o.useMemo(()=>(0,rb.Ow)(t.normalizedSearchResults),[t.normalizedSearchResults]),n=Math.max(a.length-12,0),r=(0,s.wA)(),l=(0,W.q5)(),{fileVersion:i,loadingState:c}=(0,nJ.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState})),d=l&&i&&(0,rs.Sc)(c,(0,r_.yD)(l.key));return(o.useEffect(()=>{d&&r((0,n6.zK)())},[r,d]),0===a.length)?null:o.createElement(o.Fragment,null,o.createElement("div",{className:lI},o.createElement("div",null,o.createElement("div",{className:lN},(0,k.tx)("whiteboard.inserts.stickers"))),n>0&&o.createElement("button",{className:lL,onClick:()=>{e.setActiveTab(rg.p.STICKERS_AND_COMPONENTS)}},(0,k.tx)("whiteboard.inserts.see_num_more_resources",{numMoreResources:n}))),o.createElement(rC.lU,{items:(0,rS.M8)(a.slice(0,12)),showContextMenu:!0,layoutOverride:rv.rp.SMALL}))}function lP(e){let t=(0,ry.cX)().tabManager,a=(0,s.d4)(e=>e.hubFiles),n=(e.templateSearchResults[lc.e]||[]).map(e=>a[e]),r=[...e.teamTemplatesFromSearch.map(e=>({type:rd.n.TeamTemplate,template:e})),...n.map(e=>({type:rd.n.HubFile,template:e}))],l=Math.max(n.length+e.totalNumTeamTemplatesFromSearch-4,0);return 0===r.length?null:o.createElement(o.Fragment,null,o.createElement("div",{className:lI},o.createElement("div",{className:lN},(0,k.tx)("whiteboard.inserts.templates")),l>0&&o.createElement("button",{className:lL,onClick:()=>{t.setActiveTab(rg.p.TEMPLATES)}},(0,k.tx)("whiteboard.inserts.see_num_more_resources",{numMoreResources:l}))),o.createElement(ls.g,{templates:r.slice(0,4),templateInsertionLocation:ri.RD.CURRENT_FILE}))}function lF(e){return o.createElement("div",{className:"browse_resources_all_search_view--moreTopPadding--NroRc"},e.results.map((e,t)=>o.createElement(e,{key:t})))}var lB=a(230344),lH=a(597700),lU=a(648800),lV=a(328099),lW=a(522917),lK=a(762010),lG=a(409504),lj=a(131022),lz=a(968656),lZ=a(223309),l$=a(678775),lY=a(185552);let lX="browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",lJ="browse_resources_use_cases--flexContainer--dANvZ",lQ="browse_resources_use_cases--useCaseSectionHeader--e5Nxj browse_resources_use_cases--sectionHeader--bfznu text--fontPos13--xW8hS text--_fontBase--QdLsd",lq="browse_resources_use_cases--sectionHeaderSubtext--5e-e- text--fontPos11--2LvXf text--_fontBase--QdLsd",l0="browse_resources_use_cases--resourceContainer--rxSfA browse_explore_category_view--resourceContainer--pdbQU",l1="browse_resources_use_cases--resourceMetadata--AdJJW text--fontPos11--2LvXf text--_fontBase--QdLsd",l2="browse_resources_use_cases--stickerWidgetEllipsis--KpMzQ ellipsis--ellipsis--Tjyfa",l5="browse_resources_use_cases--templateEllipsis--8hbx5 ellipsis--ellipsis--Tjyfa";function l3({onClick:e,name:t,localizedName:a,localizedDescription:n,children:r}){return o.createElement("div",{className:"browse_resources_use_cases--useCaseSection--c00-9",key:t},o.createElement(eJ.E,{className:lX,onClick:e},o.createElement("div",{className:"browse_resources_use_cases--buttonText--zK9DZ"},a||t),e?o.createElement(lH.n,null):null),o.createElement("div",{className:lq},n),o.createElement("div",{className:"browse_resources_use_cases--sectionResources--WMI76"},r))}function l4(){let e=(0,s.d4)(e=>e.figjamDefaultInserts.useCases),t=e=>"Brainstorm together"===e?(0,k.t)("whiteboard.inserts.use_cases_brainstorm_together"):"Run a meeting"===e?(0,k.t)("whiteboard.inserts.use_cases_run_a_meeting"):"Diagram anything"===e?(0,k.t)("whiteboard.inserts.use_cases_diagram_anything"):"Lead a workshop"===e?(0,k.t)("whiteboard.inserts.use_cases_lead_a_workshop"):"Break the ice"===e?(0,k.t)("whiteboard.inserts.use_cases_break_the_ice"):void 0,a=e=>"Brainstorm together"===e?(0,k.t)("whiteboard.inserts.use_cases_brainstorm_together_description"):"Run a meeting"===e?(0,k.t)("whiteboard.inserts.use_cases_run_a_meeting_description"):"Diagram anything"===e?(0,k.t)("whiteboard.inserts.use_cases_diagram_anything_description"):"Lead a workshop"===e?(0,k.t)("whiteboard.inserts.use_cases_lead_a_workshop_description"):"Break the ice"===e?(0,k.t)("whiteboard.inserts.use_cases_break_the_ice_description"):void 0,n=e.filter(e=>!e.name.includes("Whats New"));return 0===n.length?o.createElement(it,null):o.createElement(o.Fragment,null,n.map(e=>"collage_items"===e.name?null:o.createElement(l3,{name:e.name,localizedName:t(e.name),localizedDescription:a(e.name),key:e.name},e.resources.slice(0,3).map(t=>o.createElement(o.Fragment,{key:[e.name,t?t.id:""].join("_")},t&&"is_widget"in t&&!!t.is_widget&&o.createElement(l7,{widgetId:t.id}),t&&"type"in t&&t.type===ty.PW.COMPONENT&&o.createElement(ie,{resource:t}),t&&"viewer_mode"in t&&!!t.viewer_mode&&o.createElement(l8,{template:{type:rd.n.HubFile,template:t}}))))))}function l6(e){let t=(0,s.d4)(e=>e.figjamDefaultInserts.useCases).find(t=>t.name===e.useCaseName);if(!t)return null;let a=t.resources.filter(e=>"viewer_mode"in e&&!!e.viewer_mode),n=t.resources.filter(e=>"is_widget"in e&&!!e.is_widget),r=t.resources.filter(e=>"type"in e&&e.type===ty.PW.COMPONENT),l=t.resources.filter(e=>"is_widget"in e&&!e.is_widget);return o.createElement(na.fu,{name:"use_case",properties:{useCase:t.name}},!!a.length&&o.createElement(o.Fragment,null,o.createElement("div",{className:lQ},(0,k.tx)("whiteboard.inserts.templates")),o.createElement(ls.g,{templates:a.map(e=>({type:rd.n.HubFile,template:e})),templateInsertionLocation:ri.RD.CURRENT_FILE})),!!n.length&&o.createElement(o.Fragment,null,o.createElement("div",{className:lQ},(0,k.tx)("whiteboard.inserts.widgets")),o.createElement("div",{className:"browse_resources_use_cases--widgetTilesGridContainer--gv30z browse_widgets_view--widgetTilesGridContainer--t5-lL"},n.map(e=>o.createElement("button",{key:e.id,className:l0},o.createElement(lS,{widgetId:e.id,key:e.id}))))),!!r.length&&o.createElement(o.Fragment,null,o.createElement("div",{className:lQ},(0,k.tx)("whiteboard.inserts.stickers_and_components")),o.createElement(rC.OS,{items:r,showContextMenu:!0})),!!l.length&&o.createElement(o.Fragment,null,o.createElement("div",{className:lQ},(0,k.tx)("whiteboard.inserts.plugins")),o.createElement("div",{className:"browse_resources_use_cases--pluginCategoryViewPadding--e1D-M"},l.map(e=>o.createElement("button",{key:e.id,className:l0},o.createElement(ll,{pluginId:e.id,view:rg.p.ALL,key:e.id}))))))}function l8({template:e,showPublisherName:t=!1}){let{imageUrl:a,clientMeta:n,thumbnailIsSet:r,isWhiteboard:l,hubFileId:i,name:s,primaryKey:c,publishers:d,resizedThumbnailUrls:m}=(0,lV.fG)()(e),u=(0,rJ.b)(),{isInsertingTemplate:p}=(0,re.Fz)(),{dragState:E,onInsertableResourcePointerDown:_}=(0,lj.B)({resource:e,clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:u,triggeredFrom:"universal-insert-figjam-all-use-case"}),g=d[0];return o.createElement("div",{className:"browse_resources_use_cases--templatePreview--vlIll browse_resources_use_cases--resourcePreview--rTL2d"},o.createElement(lm.zq,{image:o.createElement("div",{onPointerDown:_,className:E?lY.J:void 0},o.createElement(lm.FK,{backgroundColor:(0,lW.Cn)(n)},o.createElement(lm.zx.Cover,null,o.createElement("div",{className:"browse_resources_use_cases--hoverOverlay--84hkm browse_templates_tab--hoverOverlay--BpdyD"})),o.createElement(lm.zx.Center,null,o.createElement(lZ.i,{insertTemplate:eg.lQ,isInsertingTemplate:p(c),shouldUseOpaqueBackground:!0},(0,ri.Ve)(ri.RD.CURRENT_FILE))),o.createElement(l$.Ho,{image:a||void 0,isSet:r,isWhiteboard:l,hubFileId:i,alt:s,resizedThumbnailUrls:m}))),bottomRow:o.createElement("button",{className:ep()(l1,t&&g&&"browse_resources_use_cases--resourceMetadataWithPublisher--V9KyE"),role:e.type===rd.n.HubFile?void 0:"presentation"},o.createElement("div",{className:lJ},o.createElement("div",{className:l5},s)),t&&!!g&&o.createElement("div",{className:lJ},o.createElement("div",{className:ep()(l5,"browse_resources_use_cases--publisher--2akDJ")},(0,k.tx)("whiteboard.inserts.by_publisher_name",{publisherName:g.name}))))}),o.createElement(lK.S,{dragState:E}))}function l7(e){let t=e.widgetId,a=(0,s.d4)(e=>e.publishedWidgets[t]),n=a?(0,rH.Ar)(a):null;return a&&n?o.createElement(l9,{widgetVersion:n}):null}function l9(e){let{dragState:t,onInsertableResourcePointerDown:a}=(0,lz.P)({resource:e.widgetVersion,clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:(0,rJ.b)(),triggeredFrom:"universal-insert-figjam-all-use-case"});return o.createElement("div",null,o.createElement(ld.sU,{className:"browse_resources_use_cases--widgetPreview--egQ9B browse_resources_use_cases--resourcePreview--rTL2d",image:o.createElement(ld.WM,{backgroundColor:"transparent",removeBorder:!0,className:"browse_resources_use_cases--widgetImageContainer--diYt5"},o.createElement("div",{onPointerDown:a,role:"button",tabIndex:0},o.createElement("img",{className:ep()("browse_resources_use_cases--widgetImage--Rciys",{[lY.J]:!!t}),src:e.widgetVersion.redirect_snapshot_url,alt:""}))),bottomRow:o.createElement("button",{className:l1},o.createElement("div",{className:lJ},o.createElement("div",{className:l2},e.widgetVersion.name)))}),o.createElement(lG.E,{dragState:t}))}function ie(e){let t=(0,rJ.b)();return o.createElement("div",{className:"browse_resources_use_cases--stickerPreview--ESlWj browse_resources_use_cases--resourcePreview--rTL2d"},o.createElement(tw.lX,{item:e.resource,height:90,width:90,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,draggable:{sourceForTracking:"universal-insert-figjam-all-use-case",afterSuccessfulInsert:t},buttonProps:{clickToInsert:!0}}),o.createElement("button",{className:"browse_resources_use_cases--stickerResourceMetadata--vE2eG browse_resources_use_cases--resourceMetadata--AdJJW text--fontPos11--2LvXf text--_fontBase--QdLsd"},o.createElement("div",{className:l2},e.resource.name)),o.createElement(rC.he,null))}function it(){return o.createElement(o.Fragment,null,o.createElement(ia,{name:(0,k.t)("whiteboard.inserts.use_cases_brainstorm_together"),description:(0,k.t)("whiteboard.inserts.use_cases_brainstorm_together_description")}),o.createElement(ia,{name:(0,k.t)("whiteboard.inserts.use_cases_run_a_meeting"),description:(0,k.t)("whiteboard.inserts.use_cases_run_a_meeting_description")}),o.createElement(ia,{name:(0,k.t)("whiteboard.inserts.use_cases_diagram_anything"),description:(0,k.t)("whiteboard.inserts.use_cases_diagram_anything_description")}),o.createElement(ia,{name:(0,k.t)("whiteboard.inserts.use_cases_lead_a_workshop"),description:(0,k.t)("whiteboard.inserts.use_cases_lead_a_workshop_description")}),o.createElement(ia,{name:(0,k.t)("whiteboard.inserts.use_cases_break_the_ice"),description:(0,k.t)("whiteboard.inserts.use_cases_break_the_ice_description")}))}function ia({name:e,description:t,miniCardsOnly:a=!1}){return o.createElement("div",{className:ep()("browse_resources_use_cases--useCaseSectionLoading--jAjoI browse_resources_use_cases--useCaseSection--c00-9",{"browse_resources_use_cases--mini_useCaseSectionLoading--Er0Hh":a}),key:e},o.createElement("div",{className:lX},e,o.createElement(lH.n,null)),o.createElement("div",{className:lq},t))}function ir({currentOrg:e}){let{teamTemplates:t,isLoading:a}=(0,n9.wv)(),{setSelectedCategory:n}=(0,ry.cX)(),r=!t?.length,l=(0,k.t)("whiteboard.inserts.start_from_a_template"),i=(0,k.t)("whiteboard.inserts.try_handmade_templates_created_by_your_team");return a?o.createElement(ia,{name:l,description:i,miniCardsOnly:!0}):r?null:o.createElement(l3,{name:l,localizedName:l,localizedDescription:i,onClick:()=>n({resourceType:rm.Rt.TEAM_TEMPLATES,id:"",title:(0,k.t)("whiteboard.inserts.org_name_templates",{orgName:e.name})})},o.createElement(lU.Y,{spacing:32,horizontalAlignItems:"center"},t.map(e=>o.createElement(l8,{key:(0,lV.gp)(e),template:e,showPublisherName:!0}))))}var il=a(411216),ii=a(873137),io=a(486839);function is(e){let t=(0,nc.d0)(),a=(0,m.md)(ii.c5),n=(0,io.dQ)(),r=(0,io.Q6)(a?.numPrimaryTools??0),l=n.filter(e=>!r.includes(e));return o.createElement("div",{className:e.hasTopPadding?"browse_more_view--moreViewContainer--blJLd":void 0},l.map(e=>o.createElement(ic,{key:e,toolKey:e})),o.createElement(il.l7,null),t&&o.createElement(rI.H_,null),o.createElement(il.j6,null),o.createElement(il.m_,null),o.createElement(il.G0,null),o.createElement(il.fQ,null))}function ic({toolKey:e}){switch(e){case"text":return o.createElement(il.ue,null);case"section":return o.createElement(il.Sn,null);case"table":return o.createElement(il.vh,null);case"stamp":return o.createElement(il.Ox,null);case"comments":return o.createElement(il.v7,null);default:return null}}var id=a(7395);let im=o.memo(function(e){let t=t=>(0,id.ZQ)(t)?o.createElement(lr,{localFileId:t.localFileId,view:e.view,key:"development_plugin_"+t.localFileId}):o.createElement(ll,{pluginId:t.plugin_id,view:e.view,pluginVersion:t,key:"recent_plugin_"+t.plugin_id});return o.createElement(o.Fragment,null,e.items.map(e=>t(e)))});function iu(){let e=(0,ry.Hb)(),t=(0,n7.Tg)().filter(e);return o.createElement(o.Fragment,null,o.createElement(im,{items:t.slice(0,4),view:rg.p.RECENTS}))}function ip(){let e=(0,re.eE)(rp.$A.FigJam),t=(0,ry.ik)(e,"templates",(e,t)=>!t.some(t=>t.type===rd.n.HubFile&&t.template.id===e.id),4),a=(0,ry.mk)(t,[(0,rs.mC)(rE.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:rp.$A.FigJam})),(0,rs.mC)(n4.fC)]);return o.createElement(ls.g,{templates:a,templateInsertionLocation:ri.RD.CURRENT_FILE})}let iE="browse_widgets_view--sectionHeader--rxCOO text--fontPos13--xW8hS text--_fontBase--QdLsd",i_="browse_widgets_view--widgetTilesGridContainer--t5-lL",ig=o.memo(function(e){let t=e=>(0,id.ZQ)(e)?o.createElement(lC,{localFileId:e.localFileId,tab:rg.p.RECENTS,key:e.localFileId}):o.createElement(lS,{widgetId:e.plugin_id,widgetVersion:e,key:e.plugin_id,tab:rg.p.RECENTS});return o.createElement("div",{className:i_},e.items.map(e=>t(e)))});function ih({}){let e=(0,ry.Sp)(),t=(0,n7.qr)().filter(e);return o.createElement(ig,{items:t.slice(0,4)})}var ib=a(593350);let iv="browse_resources_all_tab--divider--lN9-d",iT="browse_resources_all_tab--sectionBottomPadding--3jqXm";function iy(){let e=(0,ry.qZ)(),t=(0,n9.Gi)(),a=(0,rs.oh)(n4.fC),n=(0,rs.oh)(rE.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:rp.$A.FigJam})),r=(0,rs.oh)(n6.fi),l=(0,rs.oh)(rE.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:rp.$A.FigJam})),i=(0,s.d4)(e=>e.figjamDefaultInserts.useCases),c=!!e&&0===i.length;return a||e&&c||!e&&(n||r||l)?o.createElement(rw.Wd,null):o.createElement(na.fu,{name:"all"},o.createElement("div",null,o.createElement(ib.O9,{applyInsertStyling:!0}),t?.type==="org"&&o.createElement(ir,{currentOrg:t.entity}),e?o.createElement(l4,null):o.createElement(o.Fragment,null,o.createElement(iS,null),o.createElement("div",{className:iv}),o.createElement(iI,null),o.createElement("div",{className:iv}),o.createElement(iw,null),o.createElement("div",{className:iv}),o.createElement(iC,null),o.createElement("div",{className:iv}),o.createElement(iN,null))))}function iw(){let e=(0,ry.cX)().tabManager;return o.createElement("div",{className:iT},o.createElement(iL,{title:(0,k.t)("whiteboard.inserts.widgets"),subtitle:(0,k.t)("whiteboard.inserts.widgets_subtitle"),onClick:()=>e.setActiveTab(rg.p.WIDGETS),showCaret:!0,shorterSectionHeader:!1}),o.createElement(ih,null))}function iC(){let e=(0,ry.cX)().tabManager;return o.createElement("div",{className:iT},o.createElement(iL,{title:(0,k.t)("whiteboard.inserts.plugins"),subtitle:(0,k.t)("whiteboard.inserts.plugins_subtitle"),onClick:()=>e.setActiveTab(rg.p.PLUGINS),showCaret:!0,shorterSectionHeader:!0}),o.createElement(iu,null))}function iS(){let e=(0,ry.cX)().tabManager;return o.createElement("div",{className:iT},o.createElement(iL,{title:(0,k.t)("whiteboard.inserts.stickers"),subtitle:(0,k.t)("whiteboard.inserts.stickers_subtitle"),onClick:()=>e.setActiveTab(rg.p.STICKERS_AND_COMPONENTS),showCaret:!0,shorterSectionHeader:!1}),o.createElement(rS.zz,null))}function iI(){let e=(0,ry.cX)().tabManager;return o.createElement("div",{className:iT},o.createElement(iL,{title:(0,k.t)("whiteboard.inserts.templates"),subtitle:(0,k.t)("whiteboard.inserts.templates_subtitle"),onClick:()=>e.setActiveTab(rg.p.TEMPLATES),showCaret:!0,shorterSectionHeader:!1}),o.createElement(ip,null))}function iN(){let e=(0,ry.cX)().tabManager;return o.createElement("div",{className:iT},o.createElement(iL,{title:(0,k.t)("whiteboard.inserts.more"),onClick:()=>e.setActiveTab(rg.p.MORE),showCaret:!0,shorterSectionHeader:!0}),o.createElement(is,{hasTopPadding:!1}))}function iL(e){return o.createElement(eJ.E,{className:ep()({"browse_resources_all_tab--sectionHeaderContainer--2ZoeS":!!e.subtitle,"browse_resources_all_tab--sectionHeaderContainerNoSubtitle--qdp9l browse_resources_all_tab--sectionHeaderContainer--2ZoeS":!e.subtitle,"browse_resources_all_tab--sectionHeaderContainerShorter--jEE47":!!e.shorterSectionHeader}),onClick:e.onClick},o.createElement("div",{className:"browse_resources_all_tab--sectionTitleContainer--5Z1j0"},o.createElement("div",{className:"browse_resources_all_tab--sectionHeader--Xq6Ds text--fontPos16--oMC-G text--_fontBase--QdLsd"}," ",e.title," "),e.showCaret&&o.createElement(lB.a,{className:"browse_resources_all_tab--icon--NB560"})),e.subtitle&&o.createElement("div",{className:"browse_resources_all_tab--sectionHeaderSubtext--7a8Mb text--fontPos13--xW8hS text--_fontBase--QdLsd"},e.subtitle))}var iO=a(701263);function ik({children:e,searchQuery:t,setSearchQuery:a,resourceDetailViewContent:n,resourceDetailViewHeader:r,categoryViewContent:l,categoryViewHeader:i,mainScrollContainerRef:c,categoryScrollContainerRef:d,initialModalPosition:m,modalPosition:u,bounds:p,showLeftPinBound:E,setShowLeftPinBound:_,shouldSnapToPosition:g,entryPointId:f,disableDragging:h,setPinned:b}){let T=(0,s.wA)(),{tabManager:y}=(0,ry.cX)(),w=!l&&!i&&!n&&!r,C=i&&l,S=n&&r,I=v.Kx()?.shouldOptimizeForIpadApp;return o.createElement(iO.B.Root,{initialPosition:m,modalPosition:u,bounds:p,showLeftPinBound:E,setShowLeftPinBound:_,shouldSnapToPosition:g,entryPointId:f,disableDragging:h,setPinned:b,shouldOptimizeForIpadApp:I,shouldShowTabView:w},o.createElement(iO.B.TabView,{hasSlidingPaneStyle:w},o.createElement(iO.B.SearchBar,{searchQuery:t,setSearchQuery:a,showCloseButton:!0,topBarStyle:"browse_all_resources_modal_container--figjamTopBarContainer--KF-6s",onFocus:()=>T(U.Dy({entryPoint:"figjam:inserts"}))}),o.createElement("div",{className:"browse_all_resources_modal_container--divider--U9jtu"}),o.createElement(iO.B.ScrollContainer,{type:"main",currentTab:y.activeTab,scrollContainerRef:c,shouldShowTabView:w,toolbeltHeight:rf.zD},e)),C&&o.createElement(iO.B.TabView,{hasSlidingPaneStyle:!S},i,o.createElement(iO.B.ScrollContainer,{type:"category",currentTab:y.activeTab,scrollContainerRef:d,shouldShowTabView:w,toolbeltHeight:rf.zD},l)),S&&o.createElement(iO.B.TabView,{hasSlidingPaneStyle:!0},r,o.createElement(iO.B.ScrollContainer,{type:"detail",currentTab:y.activeTab,shouldShowTabView:w,toolbeltHeight:rf.zD},n)))}var iA=a(846377),iR=a(582057),ix=a(288632),iM=a(307487);let iD="browse_explore_category_view--resourceContainer--pdbQU";function iP(e){let t=e.selectedCategoryId,{shelves:a,isLoading:n}=(0,iR.d)(e.shelfType),r=a?a.find(e=>e.id===t):void 0;if(!a||0===a.length)return null;if(n)return o.createElement(iM.L,null);let l=t=>o.createElement("button",{key:t.id,className:iD},e.renderResource(t));return r?o.createElement(na.fu,{name:"explore",properties:{resourceType:e.resourceType,selectedCategory:t}},o.createElement("div",{className:e.resourceType===ru.bD.WIDGET?"browse_explore_category_view--widgetTilesGridContainer--U4Dl6 browse_widgets_view--widgetTilesGridContainer--t5-lL":"browse_explore_category_view--pluginCategoryViewPadding--tst89"},r.shelf_content.map(e=>l(e))),o.createElement(ix.q,{resourceType:e.resourceType})):null}function iF(e){let t=(0,nc.U5)(e.debouncedSearchQuery),a=(0,nc.d0)();return 0===e.results.length&&0===t.length?o.createElement(na.fu,{name:"more",properties:{query:e.debouncedSearchQuery}},o.createElement(rT.e,{illustration:lk.A,defaultDisplayStringResourceType:"items",query:e.query})):o.createElement(na.fu,{name:"more",properties:{query:e.debouncedSearchQuery}},o.createElement("div",{className:"browse_more_search_view--searchTopPadding--iZQ6F"},a&&o.createElement(lM,{faceStampSearchIsLoading:e.faceStampSearchIsLoading,query:e.query}),e.results.map((e,t)=>o.createElement(e,{key:t}))))}let iB="browse_plugins_search_view--sectionHeader--OKPiP text--fontPos13--xW8hS text--_fontBase--QdLsd";function iH(e){let{query:t,debouncedSearchQuery:a,hasResolved:n,savedSearchResultIds:r,communitySearchResultIds:l,orgSearchResultIds:i,developmentSearchResultIds:c,lastPluginSearchQuery:d}=e,m=(0,s.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=r&&r.length>0,p=l&&l.length>0,E=c&&c.length>0,_=m&&i&&i.length>0;return d!==a?o.createElement(rw.VR,null):!n||u||p||_||E?o.createElement(na.fu,{name:"plugins",properties:{resourceType:"plugin",query:a}},u&&o.createElement(o.Fragment,null,o.createElement("div",{className:iB},(0,k.tx)("whiteboard.inserts.plugin_recents")),r.map(e=>o.createElement(ll,{pluginId:e,view:rg.p.SAVED,key:`saved_plugin_${e}`}))),E&&o.createElement(o.Fragment,null,o.createElement("div",{className:iB},(0,k.tx)("whiteboard.inserts.development")),c.map(e=>o.createElement(lr,{localFileId:e,view:rg.p.DEVELOPMENT,key:"development_plugin_"+e}))),_&&o.createElement(o.Fragment,null,o.createElement("div",{className:iB},(0,k.tx)("whiteboard.inserts.plugin_from_org",{orgName:m.name})),i.map(e=>o.createElement(ll,{pluginId:e,view:rg.p.EXPLORE,key:`org_plugin_${e}`}))),p&&o.createElement(o.Fragment,null,o.createElement("div",{className:iB},(0,k.tx)("whiteboard.inserts.plugin_from_community")),l.map(e=>o.createElement(ll,{pluginId:e,view:rg.p.EXPLORE,key:`community_plugin_${e}`})))):o.createElement(na.fu,{name:"plugins",properties:{resourceType:"plugin",query:a}},o.createElement(rT.e,{illustration:lk.A,defaultDisplayStringResourceType:"plugins",query:t,cta:o.createElement(rT._,{url:"/community/plugins"}),orgNameIfAllowlistEnforced:m&&m.plugins_whitelist_enforced?m.name:void 0}))}var iU=a(885123),iV=a(628220),iW=a(255600),iK=a(940795),iG=a(269049),ij=a(601256),iz=a(534971),iZ=a(452271);let i$={migrationGroup:iG.L.GROUP_1,component:"BrowseExtensionsOrgAllowlistView"};function iY(e){let t=e.extensionType===id.Ag.Plugin?iZ.E2:iZ.Hr,a=(0,iK.b_)(i$);return(0,iK.yN)({...i$,attribute:"hasAllowList",legacy:(e,a)=>!!a&&t.hasAllowlist(a),migrated:(e,a)=>a?.key.type===ro.OL.ORG&&!!a.key.parentId&&t.hasAllowlist({id:a.key.parentId,plugins_whitelist_enforced:a.pluginsWhitelistEnforced,widgets_whitelist_enforced:a.widgetsWhitelistEnforced})})&&a?o.createElement(iJ,{orgId:a,dedupeOrgSaves:e.dedupeOrgSaves,extensionType:e.extensionType}):null}function iX(e){let{extensionIds:t,extensionType:a}=e;return a===id.Ag.Plugin?o.createElement(o.Fragment,null,t.map(e=>o.createElement(ll,{pluginId:e,view:rg.p.EXPLORE,key:e}))):o.createElement("div",{className:i_},t.map(e=>o.createElement(lS,{widgetId:e,key:e})))}function iJ(e){let{orgId:t}=e,a=(e.extensionType===id.Ag.Plugin?n7.ll:n7.U6)(),n=o.useMemo(()=>Object.keys(a),[a]),r=(0,W.tS)(),l=(e.extensionType===id.Ag.Plugin?id.Gb:id.n_)(t,r),i=(0,rs.mC)(l),s=(0,n7.Be)(),c=e.extensionType===id.Ag.Plugin?s.orgPlugins:s.orgWidgets,d=o.useMemo(()=>e.dedupeOrgSaves?n.filter(e=>!c[e]):n,[n,e.dedupeOrgSaves,c]);return i?0===d.length?null:o.createElement(o.Fragment,null,o.createElement("div",{className:iE},(0,k.tx)("universal_insert.approved_from_figma_community")),o.createElement(iX,{extensionType:e.extensionType,extensionIds:d})):o.createElement(iM.L,null)}var iQ=a(281935),iq=a(315145),i0=a(453783),i1=(e=>(e.RECENT_AND_SAVED="recent_and_saved",e.DEVELOPMENT="development",e.ORG="org",e))(i1||{});let i2="browse_main_view_selector--mainViewHeader--1tbfQ",i5="browse_main_view_selector--mainViewSelectorTitle--WL5Qi text--fontPos13--xW8hS text--_fontBase--QdLsd";function i3(e){let t=(0,s.wA)(),a=(0,as.Um)(),n=(0,rl.sZ)(),r=o.useCallback(e=>(function(e,t){switch(e){case i1.RECENT_AND_SAVED:return(0,k.t)("universal_insert.recents_and_saved");case i1.DEVELOPMENT:return(0,k.t)("universal_insert.development");case i1.ORG:return t?(0,k.t)("whiteboard.inserts.plugin_from_org",{orgName:t.name}):(0,k.t)("universal_insert.from_your_org")}})(e,n),[n]),l=[i1.RECENT_AND_SAVED],i=(0,s.d4)(e=>e.universalInsertModal.scrollDevelopmentSectionIntoView),c=o.useRef(null);if(c.current&&i){t(iq.SI({}));let e=c.current;setTimeout(()=>e.scrollIntoView({behavior:"smooth"}),0)}return(iQ.eD&&l.push(i1.DEVELOPMENT),1!==l.length||n)?o.createElement("div",{className:i2,ref:c},o.createElement(i0.l6,{id:"figjam-browse-modal-main-view-select",property:e.currentView,formatter:{format:r},onChange:e.setCurrentView,dispatch:t,inputClassName:i5,className:"browse_main_view_selector--mainViewSelector--l7iuo",dropdownShown:a,dropdownWidth:173,role:"button"},l.map(e=>o.createElement(i0.c$,{value:e,key:e},r(e))),n&&o.createElement(i0.sK,null),n&&o.createElement(i0.c$,{value:i1.ORG},r(i1.ORG)))):o.createElement("div",{className:ep()(i2,ev.s.ml8.mt2.mb2.$)},o.createElement("div",{className:i5},r(l[0])))}let i4=(0,m.eU)(i1.RECENT_AND_SAVED),i6=(0,m.eU)(i1.RECENT_AND_SAVED);var i8=a(800491);function i7(){let e=(0,n7.nl)(),t=(0,n7.Im)(),a=(0,n7.kd)().filter(e=>!t[e.id]);if(0===Object.keys(e).length&&0===a.length)return o.createElement(i8.W,{isWidget:!1});let n=Object.keys(e).reverse();return o.createElement(o.Fragment,null,n.map(e=>o.createElement(lr,{localFileId:Number(e),view:rg.p.DEVELOPMENT,key:"development_plugin_"+e})),a.map(e=>o.createElement(lr,{publishedPlugin:e,view:rg.p.DEVELOPMENT,key:"development_plugin_"+e.id})))}function i9(){let e=(0,n7.f6)();return 0===e.length?null:o.createElement(na.fu,{name:"invited"},e.map(e=>o.createElement(ll,{pluginId:e.id,key:e.id,view:rg.p.PLUGINS,pluginVersion:(0,rH.uF)(e)})),o.createElement(lU.Y,{padding:{horizontal:24}},o.createElement("div",{className:ev.s.wFull.h1.$,style:rk.sx.add({backgroundColor:"var(--color-border)"}).$})))}var oe=a(463844),ot=a(552650),oa=a(326612),on=a(975580);function or(){return o.createElement("div",{className:ev.s.flex.flexColumn.itemsCenter.alignCenter.pl16.pr16.$},o.createElement("div",null,o.createElement(eQ.B,{svg:on.A,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"90px",autosize:!0})),o.createElement("div",{className:ev.s.mb24.mt16.pl36.pr36.$},(0,k.tx)("whiteboard.inserts.plugin_community_disabled",{private_plugins:o.createElement(oa.N,{newTab:!0,href:"https://www.figma.com/plugin-docs",trusted:!0},(0,k.tx)("whiteboard.inserts.plugin_community_disabled_private_plugins"))})))}let ol="browse_plugins_recents_list--loadingSpinner--ydkCW";function oi(){let e=(0,s.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?o.createElement(oo,{org:e}):o.createElement("span",{className:ol,"data-testid":"loading-spinner"},o.createElement(oe.k,null))}function oo({org:e}){let t=(0,s.d4)(t=>{let{orgUsersByOrgId:a}=t,n=a[e.id];return n[t.user.id]?.permission===ro._D.GUEST}),a=!!(e&&e.plugins_whitelist_enforced),n=(0,n7.ll)(),r=(0,nJ.R)(a=>e&&!t?(0,rH.Qt)((0,rH.i8)((0,ry.H6)(Object.values(a.publishedPlugins))),e.id):{}),l=Object.keys(r),i=(0,W.tS)(),c=(0,id.Gb)(e?.id??"",i),d=(0,rs.mC)(c),m=n5.LP.loadingKeyForPayload(e?.id??""),u=(0,rs.mC)(m),p=(0,n7.Be)().orgPlugins,E=o.useMemo(()=>{let e=Object.values(p).filter(e=>!r[e.plugin_id]);return a&&(e=e.filter(e=>n[e.plugin_id])),e.sort(n7.YW)},[n,a,r,p]),_=(0,ot.Ol)(E),g=!e.public_plugins_allowed||e.plugins_whitelist_enforced&&d&&0===Object.keys(n).length,f=t||u&&0===Object.keys(r).length,h=(0,s.wA)();return(o.useEffect(()=>{e&&!t&&h(n3.Xt())},[h,e,t]),(!a||d)&&u)?g&&f?o.createElement(or,null):o.createElement(na.fu,{name:"explore"},l.length>0&&o.createElement(o.Fragment,null,l.map(e=>o.createElement(ll,{pluginId:e,view:rg.p.EXPLORE,key:e,showLockIcon:!0}))),_.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:"browse_plugins_recents_list--sectionHeader--az12L text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,k.tx)("universal_insert.saved_from_community")),_.map(e=>{let t=e.plugin_id;return o.createElement(ll,{pluginId:t,view:rg.p.EXPLORE,key:t})})),o.createElement(iY,{extensionType:id.Ag.Plugin,dedupeOrgSaves:!0})):o.createElement("span",{className:ol,"data-testid":"loading-spinner"},o.createElement(oe.k,null))}var os=a(866415),oc=a(815153),od=a(461832),om=a(181230);let ou="browse_recent_and_saved_view--subTitle--04tFz text--fontPos12--YsUAh text--_fontBase--QdLsd",op="browse_recent_and_saved_view--showAllSavedExtensionsButton--l1qOq text--fontPos12--YsUAh text--_fontBase--QdLsd";function oE(){let{filterByAllowlist:e,filterByPublicResourcesAllowed:t}=(0,n7.jA)(!1),a=(0,ry.Hb)(),n=(0,n7.Tg)().filter(a);n=t(n=e(n));let r=(0,n7.Be)(),l=r.plugins,i=o.useMemo(()=>Object.values(l).sort(n7.YW).filter(e=>"user"===e.installed_by),[l]),s=(0,os.xx)(()=>i),c=(0,ot.Ol)(s()),[d,m]=o.useState(!1),u=o.useMemo(()=>d?c:c.slice(0,40),[c,d]),p=(0,oc.$D)();if(!r.loaded&&!p)return o.createElement("div",{className:ev.s.flex.justifyCenter.alignCenter.p24.$},o.createElement(oe.k,null));if(0===n.length&&0===c.length)return o.createElement(od.H,{isWidget:!1});let E=n.slice(0,6),_=E.length>0,g=c.length>0;return o.createElement(o.Fragment,null,_&&o.createElement(o.Fragment,null,o.createElement("div",{className:ou},(0,k.tx)("universal_insert.recents")),o.createElement(im,{items:E,view:rg.p.RECENTS})),_&&g&&o.createElement(om.F,null),g&&o.createElement(o.Fragment,null,o.createElement("div",{className:ou},(0,k.tx)("universal_insert.saved")),o.createElement(im,{items:u,view:rg.p.SAVED}),c.length>40&&!d&&o.createElement("button",{className:op,onClick:()=>m(!0)},(0,k.tx)("universal_insert.show_all_saved_plugins"))))}function o_(){return o.createElement(iz.K,{resourceType:ru.bD.PLUGIN,shelfType:ru.cS.BROWSE_PLUGINS_MODAL,renderResource:e=>o.createElement(ll,{pluginId:e.id,view:rg.p.EXPLORE,key:e.id})})}function og(){let[e,t]=(0,m.fp)(i6);return o.createElement(i3,{setCurrentView:t,currentView:e})}function of(){let e=(0,m.md)(i6),t=(0,iK.yN)({migrationGroup:iG.L.GROUP_4,component:"BrowsePluginsCombinedListView",attribute:"inOrgWithAllowListEnforced",legacy:(e,t)=>!!(t&&t.plugins_whitelist_enforced),migrated:(e,t)=>t?.pluginsWhitelistEnforced??!1});return o.createElement("div",null,o.createElement(i9,null),o.createElement("div",{className:ev.s.flex.justifyBetween.wFull.minW0.$},o.createElement(og,null),e===i1.DEVELOPMENT&&o.createElement("div",{className:ev.s.flex.itemsCenter.pr16.$},o.createElement(ij.n,{resourceType:ru.bD.PLUGIN}))),e===i1.RECENT_AND_SAVED&&o.createElement(o.Fragment,null,o.createElement(oE,null),t?o.createElement(iY,{extensionType:id.Ag.Plugin}):o.createElement(o_,null)),e===i1.DEVELOPMENT&&o.createElement(i7,null),e===i1.ORG&&o.createElement(o.Fragment,null,o.createElement(oi,null),!t&&o.createElement(o_,null)))}function oh(){o.useEffect(()=>{function e(e){e.key===iW.S7&&iU.D.dispatch(iV.HQ({storeInRecentsKey:rp.$A.FigJam}))}return iU.D.dispatch(iV.HQ({storeInRecentsKey:rp.$A.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,s.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",a=(0,rs.oh)(n1.sz.loadingKeyForPayload({shelfType:ru.cS.BROWSE_PLUGINS_MODAL})),n=(0,W.tS)(),r=(0,rs.oh)((0,id.Gb)(t,n)),l=(0,rs.oh)(n5.LP.loadingKeyForPayload(t));return a||r||l?o.createElement(rw.VR,null):o.createElement(na.fu,{name:"plugins"},o.createElement(of,null))}var ob=a(344793),ov=a(631769),oT=a(559098),oy=a(870469),ow=a(163021),oC=a(968525),oS=a(305216),oI=a(697907),oN=a(768482),oL=a(689954),oO=a(754648),ok=a(351921),oA=a(270951);function oR(e){let t=(0,s.d4)(e=>e.universalInsertModal),a=(0,s.wA)(),n=(0,n7.$1)(),r=(0,s.d4)(t=>(0,rH.my)(e.pluginId,t.publishedPlugins)),l=(0,rD.gn)(r),i=Object.values(n).find(e=>e.plugin_id===r.id),c=!!i,m=!!r.id,u=(0,n7.Be)().plugins[e.pluginId]||(0,rH.uF)(r),{isSavedForOrg:p,isSavedForUser:E,onSaveClick:_}=(0,r4.Bj)(u),g=p||E,f=(0,ry.cX)().tabManager,h=(0,rm.Vq)(f.activeTab),b=(0,rJ.b)(),T=(0,v.Kx)(),y=(0,W.q5)(),{orgEntity:w,org:C,appModel:S,selectedView:I,isReadOnly:N,userCanRunPlugins:L,pluginSubmenuDropdownTargetRect:O,activeTextReviewPlugin:A}=(0,nJ.R)(e=>({orgEntity:(0,oC.Jl)(e),org:e.currentUserOrgId&&e.orgById[e.currentUserOrgId]||null,appModel:e.mirror.appModel,selectedView:e.selectedView,isReadOnly:e.mirror.appModel.isReadOnly,userCanRunPlugins:(0,oS.GP)(e),pluginSubmenuDropdownTargetRect:e.dropdownShown?.data?.targetRect,activeTextReviewPlugin:e.mirror.appModel.activeTextReviewPlugin}));o.useEffect(()=>{m||a(n5.af({id:e.pluginId,resourceType:ru.bD.PLUGIN}))},[a,e.pluginId,m]);let R={};R[u.plugin_id]=u;let x={openFile:y,allSavedPlugins:R,localExtensions:n,orgEntity:w,org:C,isReadOnly:N,userCanRunPlugins:L,editorType:"whiteboard",activeTextReviewPlugin:A,isDevHandoff:!1,publishedPlugins:{},publishedWidgets:{}},M={openFile:y,allSavedPlugins:{},localExtensions:n,orgEntity:w,org:C,isReadOnly:N,userCanRunPlugins:L,editorType:"whiteboard",activeTextReviewPlugin:A,publishedPlugins:{},publishedWidgets:{}},D=(0,as.Um)(),P=D?.type===ox&&D.data.pluginId===e.pluginId,F=i?.manifest.menu&&i.manifest.menu.length>0?(0,oT.z)(i.manifest.menu,i):[],B=u.manifest.menu&&u.manifest.menu.length>0?(0,oT.z)(u.manifest.menu,u):[],H=B.length>0||F.length>0,U=c||H,V=()=>{let e=()=>{let e=(0,rY.cK)(u);(0,ow.Im)(x,h,e)};g?e():_(e,!0),b()},K=()=>{if(!i)return;let e=()=>{let e=(0,rY.hN)(i);(0,ow.Im)(M,h,e)};g?e():_(e,!0),b()};if(!m)return o.createElement(iM.L,null);let G=T?.shouldOptimizeForIpadApp||(0,d.kc)().cmty_m10n_test_apple_os;return o.createElement(na.fu,{name:"detail",properties:{resourceId:r.id,isMonetized:(0,ru.m3)(r),resourceType:ru.bD.PLUGIN,editorType:"whiteboard"}},o.createElement(eh.P,{height:(0,rf.mS)(t.pinned,500,ry.s3,rf.zD)},o.createElement("div",{className:ok.tJ},l&&o.createElement(rK.cu,null),o.createElement("img",{className:ep()(ok.VM,ok.Mp),src:r.redirect_thumbnail_url||"",alt:`${u.name}`,width:rr.gR,height:rr.gR/2}),o.createElement("div",{className:ok.oQ},o.createElement(oO.f,{resource:r})),o.createElement("div",{className:ok.h_},o.createElement(ov.R,{fallback:null,errorFallback:null,value:u.description})))),!G&&o.createElement(ob._,{newTab:!0,className:ok.P0,href:`/community/plugin/${e.pluginId}`,trusted:!0},o.createElement(eQ.B,{svg:oA.A,className:ok.JX}),(0,k.tx)("whiteboard.inserts.see_more_details_in_community")),P&&O&&o.createElement(oL.j,{lean:"left",minWidth:130,rootAndSubmenuMaxWidth:190,leanPadding:0,showPoint:!1,items:(()=>{if(!U)return[];if(!H&&i)return[{displayText:"In-development version",callback:()=>K()},{displayText:"Published version",callback:()=>V()}];let e=e=>()=>(0,ow.Im)(x,h,e),t=[];B.forEach(a=>{t.push((0,oy.q)(a,e))});let n=(0,oN.jv)(t,{appModel:S,selectedView:I});if(!c)return n;let r=e=>()=>(0,ow.Im)(M,h,e),l=[];F.forEach(e=>{l.push((0,oy.q)(e,r))});let o=(0,oN.jv)(l,{appModel:S,selectedView:I}),s=[];return i.error?s.push({displayText:"\u26A0 In-development version",callback:()=>{a((0,nA.to)({type:oI.r,data:{dispatch:a,error:i.error,resourceType:ru.bD.PLUGIN},showModalsBeneath:!0}))}}):o.length>0?s.push({displayText:"In-development version",children:o}):s.push({displayText:"In-development version",callback:()=>{K()}}),n.length>0?s.push({displayText:"Published version",children:n}):s.push({displayText:"Published version",callback:()=>{V()}}),s})(),onSelectItem:e=>{e.callback&&e.callback("",null,a)},parentRect:O,dispatch:a}))}let ox="DROPDOWN_TYPE_PLUGIN_DETAIL_SUBMENU";function oM(e){let t=e.selectedCategoryId,{shelves:a,isLoading:n}=(0,iR.d)(e.shelfType),r=a?a.find(e=>e.id===t):void 0;if(!a||0===a.length)return null;if(n)return o.createElement(iM.L,null);let l=t=>o.createElement("div",{key:t.id,className:iD,role:"button",tabIndex:0},e.renderResource(t));return r?o.createElement(na.fu,{name:"explore",properties:{selectedCategory:t}},o.createElement("div",{className:"browse_explore_category_view--resourcesGrid--Gvw3Y"},r.shelf_content.map(e=>l(e)))):null}var oD=a(199501),oP=a(832708),oF=a(864986),oB=a(671694),oH=a(839644),oU=a(646361);function oV(e){let t=(0,s.wA)(),a=(0,s.d4)(e=>e.universalInsertModal),n=(0,s.d4)(e=>e.hubFiles)[e.id],r=(0,ri.a6)(n),l=(0,v.Kx)(),i=l?.shouldOptimizeForIpadApp||(0,d.kc)().cmty_m10n_test_apple_os;return o.createElement(na.fu,{name:"detail",properties:{resourceId:n.id,resourceType:ru.bD.HUB_FILE}},o.createElement(eh.P,{height:(0,rf.mS)(a.pinned,504,ry.s3,rf.zD)},o.createElement("div",{className:"browse_templates_preview--embedContainer--8lgx5 hub_file_detail_view--embedContainer--QMuUr detail_view--embedContainer---TcbF"},o.createElement(oU.Z,{key:n.id,hubFile:n,profileIdToAdminResourceAs:null,fullscreenState:oH.G4.DEFAULT,dispatch:t,containerClassName:"browse_templates_preview--embedContainerInner--0EnCv hub_file_detail_view--iframeContainer---uQYN",disableClickToExpand:!0,disableComments:!0,disableFullscreen:!0,fixedSize:!0})),o.createElement("div",{className:"browse_templates_preview--description--RScN2 text--fontPos13--xW8hS text--_fontBase--QdLsd"},o.createElement("div",{className:"browse_templates_preview--textDescription--4t3-n"},(0,rO.$J)(r.description).trim().length>0&&o.createElement(ov.R,{fallback:null,errorFallback:null,value:r.description})))),!i&&o.createElement(oP.N,{className:"browse_templates_preview--communityLinkBase--1NI6W",href:(0,oF.UI)({path:oB.Uo.FILE,id:n.id}),target:"_blank",trusted:!0},o.createElement(eQ.B,{svg:oA.A,className:"browse_templates_preview--communityLinkIcon--DC-Q4 text--fontPos11--2LvXf text--_fontBase--QdLsd"}),(0,k.tx)("whiteboard.inserts.see_more_details_in_community")))}var oW=a(920447),oK=a(234780),oG=a(931539),oj=a(647173);function oz(e){let{resourceId:t,goBack:a,buttonCta:n}=e,r=(0,s.d4)(e=>e.hubFiles)[t],l=(0,ri.a6)(r),{insertTemplate:i,isInsertingTemplate:d}=(0,re.Fz)(),m=(0,rJ.b)(),{tabManager:p,searchQuery:E}=(0,ry.cX)(),_=(0,rm.Vq)(p.activeTab),g=(0,rr.LR)(),f=o.useCallback(()=>g(),[g]),h="whiteboard"===(0,r$.lg)(),b=(0,rQ.F5)(),v=(0,oG.F)(),T=r.community_publishers?.accepted||[];return o.createElement("div",{className:"browse_templates_preview_top_bar--topBar--6SkwK"},o.createElement("div",{className:"browse_templates_preview_top_bar--left--vErPQ"},o.createElement(eQ.B,{svg:oj.A,className:"browse_templates_preview_top_bar--backButton--d3Iws",onClick:u.Ay.isIpad?void 0:a,onPointerDown:u.Ay.isIpad?a:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),o.createElement("div",{className:"browse_templates_preview_top_bar--pluginMetadataContainer--WC29F"},o.createElement("div",{className:"browse_templates_preview_top_bar--pluginTileName--iiS-m text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},l.name),(r.community_publishers?.accepted.length||0)>0&&o.createElement("div",{className:"browse_templates_preview_top_bar--pluginTilePublishers--UFpkz text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},(0,k.tx)("whiteboard.inserts.by_publisher",{numPublishers:T.length,firstPublisherName:T[0]?.name,multiplePublisherSuffix:o.createElement("span",{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,oW.eg)(T.slice(1),T.length,e=>e.name)},(0,k.tx)("whiteboard.inserts.and_others"))})))),o.createElement("div",{className:"browse_templates_preview_top_bar--right--jxcsE"},o.createElement(lZ.i,{insertTemplate:()=>{i({template:{template:r,type:rd.n.HubFile},templateInsertionDirection:c.hKj.RIGHT,triggeredFrom:_,onSuccess:()=>{h&&(0,rQ.oM)({id:r.id,type:rg.p.TEMPLATES,source:_,options:{...b,query:E}}),m()}})},isInsertingTemplate:d(t)},n),v?o.createElement(oK.O,{setPinned:e.setPinned}):o.createElement(ec.K,{onClick:f,"aria-label":(0,k.t)("general.close")},o.createElement(em.A,null))))}var oZ=a(563654);function o$(e){let t=(0,s.d4)(e=>e.hubFiles),a=e.templates[lc.e].map(e=>t[e]),n=(0,n9.tS)(),[r,l]=o.useState(!n);o.useEffect(()=>{n&&l(!1)},[e.debouncedSearchQuery,n]);let i=[...e.teamTemplatesFromSearch.map(e=>({type:rd.n.TeamTemplate,template:e})),...r?a.map(e=>({type:rd.n.HubFile,template:e})):[]];return 0!==a.length||0!==e.totalNumTeamTemplatesFromSearch||e.teamTemplatesFromSearchIsLoading?o.createElement(na.fu,{name:"templates",properties:{query:e.debouncedSearchQuery}},o.createElement("div",{className:oZ.iU},o.createElement(ls.g,{templates:i,templateInsertionLocation:ri.RD.CURRENT_FILE}),!e.teamTemplatesFromSearchIsLoading&&o.createElement("div",{className:ev.s.relative.$},o.createElement(nq.a,{className:ev.s.absolute.h300.$,style:{top:"-150px"},"data-testid":"load-more-search",onIntersectionChange:({isIntersecting:t})=>{t&&!e.requestLoadMoreTeamTemplatesFromSearch()&&l(!0)}})))):o.createElement(na.fu,{name:"templates",properties:{query:e.debouncedSearchQuery}},o.createElement(rT.e,{illustration:lk.A,defaultDisplayStringResourceType:"templates",query:e.query,cta:o.createElement(rT._,{url:"/community/figjam",resourceType:ru.bD.HUB_FILE})}))}var oY=a(150741);let oX="browse_widgets_search_view--sectionHeader--IDC0e text--fontPos13--xW8hS text--_fontBase--QdLsd",oJ="browse_widgets_search_view--widgetTilesGridContainer--b0tIx browse_widgets_view--widgetTilesGridContainer--t5-lL";var oQ=a(83958);function oq(e){let{query:t,debouncedSearchQuery:a,hasResolved:n,savedSearchResultIds:r,communitySearchResultIds:l,orgSearchResultIds:i,developmentSearchResultIds:c,lastWidgetSearchQuery:d}=e,m=(0,s.d4)(e=>e.currentUserOrgId&&e.orgById[e.currentUserOrgId]),u=(0,n7.NU)(),p=r&&r.length>0,E=l&&l.length>0,_=m&&i&&i.length>0,g=c&&c.length>0;return d!==a?o.createElement(rw.i8,null):!n||p||E||_||g?o.createElement(na.fu,{name:"widgets",properties:{resourceType:"widget",query:a}},p&&o.createElement(o.Fragment,null,o.createElement("div",{className:oX},(0,k.tx)("whiteboard.inserts.saved")),o.createElement("div",{className:oJ},r.map(e=>o.createElement(lS,{widgetId:e,widgetVersion:u[e],key:`saved_plugin_${e}`})))),g&&o.createElement(o.Fragment,null,o.createElement("div",{className:oX},(0,k.tx)("whiteboard.inserts.development")),o.createElement("div",{className:oJ},c.map(e=>o.createElement(lC,{tab:rg.p.DEVELOPMENT,localFileId:e,key:e})))),_&&o.createElement(o.Fragment,null,o.createElement("div",{className:oX},(0,k.tx)("whiteboard.inserts.widgets_from_org",{orgName:m.name})),o.createElement("div",{className:oJ},i.map(e=>o.createElement(lS,{widgetId:e,key:e})))),E&&o.createElement(o.Fragment,null,o.createElement("div",{className:oX},(0,k.tx)("whiteboard.inserts.from_community")),o.createElement("div",{className:oJ},l.map(e=>o.createElement(lS,{widgetId:e,key:e}))))):o.createElement(na.fu,{name:"widgets",properties:{resourceType:"widget",query:a}},o.createElement(rT.e,{illustration:oQ.A,defaultDisplayStringResourceType:"widgets",query:t,cta:o.createElement(rT._,{url:"/community/widgets"}),orgNameIfAllowlistEnforced:m&&m.widgets_whitelist_enforced?m.name:void 0}))}function o0(){let{filterByAllowlist:e}=(0,n7.jA)(!0),t=(0,ry.Sp)(),a=(0,n7.qr)().filter(t);a=e(a);let n=(0,n7.Be)().widgets,r=o.useMemo(()=>Object.values(n).sort(n7.YW).filter(e=>"user"===e.installed_by),[n]),l=(0,os.xx)(()=>r),i=(0,ot.Ol)(l()),[s,c]=o.useState(!1),d=o.useMemo(()=>s?i:i.slice(0,40),[i,s]),m=o.useMemo(()=>a.slice(0,6),[a]);if(0===m.length&&0===i.length)return o.createElement(od.H,{isWidget:!0});let u=m.length>0,p=i.length>0;return o.createElement(o.Fragment,null,u&&o.createElement(o.Fragment,null,o.createElement("div",{className:ep()(ou,ev.s.mb8.$)},(0,k.tx)("universal_insert.recents")),o.createElement(ig,{items:m})),u&&p&&o.createElement(om.F,null),p&&o.createElement(o.Fragment,null,o.createElement("div",{className:ep()(ou,ev.s.mb8.$)},(0,k.tx)("universal_insert.saved")),o.createElement(ig,{items:d}),i.length>40&&!s&&o.createElement("button",{className:op,onClick:()=>c(!0)},(0,k.tx)("universal_insert.show_all_saved_widgets"))))}function o1(){let e=(0,n7.yQ)(),t=(0,n7.bh)().filter(t=>!Object.keys(e).find(a=>e[a].plugin_id===t.id));if(0===Object.keys(e).length&&0===t.length)return o.createElement(i8.W,{isWidget:!0});let a=Object.keys(e).reverse();return o.createElement("div",{className:i_},a.map(e=>o.createElement(lC,{localFileId:Number(e),tab:rg.p.DEVELOPMENT,key:e})),t.map(e=>o.createElement(ly,{tab:rg.p.DEVELOPMENT,publishedWidget:e,key:e.id})))}function o2(){let e=(0,n7.wW)();return 0===e.length?null:o.createElement(na.fu,{name:"invited"},o.createElement("div",{className:ev.s.mt16.$},o.createElement(lU.Y,{width:"fill-parent",verticalAlignItems:"center",padding:{horizontal:24,vertical:16},horizontalAlignItems:"center",spacing:24,direction:"vertical"},e.map(e=>o.createElement(o5,{key:e.id,widget:e})),o.createElement("div",{className:ev.s.wFull.h1.$,style:rk.sx.add({backgroundColor:"var(--color-border)"}).$}))))}function o5({widget:e}){let t=(0,rH.uF)(e),{tabManager:a}=(0,ry.cX)();return o.createElement(lU.Y,null,o.createElement("div",{className:ev.s.relative.$},o.createElement("div",{className:ev.s.absolute.w8.h8.bRadiusHalf.colorBgDanger.$,style:rk.sx.add({left:"-8px",top:"-8px"}).$}),o.createElement(ld.sU,{image:o.createElement(ld.WM,{removeBorder:!0},o.createElement(lp._,{src:t.redirect_snapshot_url,widget:t,analytics:{triggeredFrom:(0,rm.Vq)(a.activeTab)},context:ro._Y.WHITEBOARD})),className:ev.s.w200.$})),o.createElement(rG.PE,{resource:e}))}var o3=a(146061),o4=a(22293),o6=a(286138);function o8(){return o.createElement("div",{className:ev.s.flex.flexColumn.itemsCenter.$},o.createElement("div",null,o.createElement(eQ.B,{svg:o6.A,useOriginalSrcFills_DEPRECATED:!0,svgWidth:"60px",autosize:!0})),o.createElement("div",{className:ev.s.mt16.mb24.$},(0,k.tx)("whiteboard.inserts.disabled_org_widgets_empty_state_description")))}function o7(){let e=(0,s.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0);return e?o.createElement(o9,{org:e}):o.createElement(iM.L,null)}function o9({org:e}){let t=(0,iK.Tn)({migrationGroup:iG.L.GROUP_8,component:"_BrowseWidgetsOrgView"}),a=e&&e.widgets_whitelist_enforced,n=(0,n7.U6)(),r=(0,o3.h)("widget"),l=(0,W.tS)(),i=(0,id.n_)(e?.id??"",l),s=(0,rs.mC)(i),c=n5.a8.loadingKeyForPayload(e.id??""),d=(0,rs.mC)(c),m=!e.public_plugins_allowed||e.widgets_whitelist_enforced&&s&&0===Object.keys(n).length,u=t||d&&0===r.length,p=(0,n7.Be)().orgWidgets,E=o.useMemo(()=>{let t=Object.values(p).filter(t=>!(0,o4.s7)(t,e.id));return a&&(t=t.filter(e=>n[e.plugin_id])),t.sort(n7.YW)},[n,a,e.id,p]),_=(0,ot.Ol)(E);return s&&d?m&&u?o.createElement(o8,null):o.createElement(na.fu,{name:"explore"},r.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:i_},r.map(e=>{let t=e.plugin_id;return o.createElement(lS,{widgetId:t,key:t,showLockIcon:!0})}))),_.length>0&&o.createElement(o.Fragment,null,o.createElement("div",{className:iE},(0,k.tx)("universal_insert.saved_from_community")),o.createElement("div",{className:i_},_.map(e=>{let t=e.plugin_id;return o.createElement(lS,{widgetId:t,key:t})}))),o.createElement(iY,{extensionType:id.Ag.Widget,dedupeOrgSaves:!0})):o.createElement(iM.L,null)}function se(){return o.createElement(iz.K,{resourceType:ru.bD.WIDGET,shelfType:ru.cS.BROWSE_WIDGETS_MODAL,renderResource:e=>o.createElement(lS,{widgetId:e.id,key:e.id})})}function st(){let[e,t]=(0,m.fp)(i4);return o.createElement(i3,{setCurrentView:t,currentView:e})}function sa(){let e=(0,m.md)(i4),t=(0,rl.sZ)(),a=!!(t&&t.widgets_whitelist_enforced);return o.createElement("div",null,o.createElement(o2,null),o.createElement("div",{className:ev.s.flex.justifyBetween.wFull.minW0.$},o.createElement(st,null),e===i1.DEVELOPMENT&&o.createElement("div",{className:ev.s.flex.itemsCenter.pr16.$},o.createElement(ij.n,{resourceType:ru.bD.WIDGET}))),e===i1.RECENT_AND_SAVED&&o.createElement(o.Fragment,null,o.createElement(o0,null),a?o.createElement(iY,{extensionType:id.Ag.Widget}):o.createElement(se,null)),e===i1.DEVELOPMENT&&o.createElement(o1,null),e===i1.ORG&&o.createElement(o.Fragment,null,o.createElement(o7,null),!a&&o.createElement(se,null)))}function sn(){o.useEffect(()=>{function e(e){e.key===iW.xk&&iU.D.dispatch(iV.aF({storeInRecentsKey:rp.$A.FigJam}))}return iU.D.dispatch(iV.aF({storeInRecentsKey:rp.$A.FigJam})),window.addEventListener("storage",e,!1),()=>{window.removeEventListener("storage",e,!1)}},[]);let e=(0,s.d4)(e=>e.currentUserOrgId?e.orgById[e.currentUserOrgId]:void 0),t=e?e.id:"",a=(0,rs.oh)(n1.sz.loadingKeyForPayload({shelfType:ru.cS.BROWSE_WIDGETS_MODAL})),n=(0,W.tS)(),r=(0,rs.oh)((0,id.n_)(t,n)),l=(0,rs.oh)(n5.a8.loadingKeyForPayload(t)),i=(0,rs.mC)(rE.cd.fetchWidgetsMetadata.loadingKeyForPayload({key:rp.$A.FigJam}));return a||r||l||!i?o.createElement(rw.i8,null):o.createElement(na.fu,{name:"widgets"},o.createElement(sa,null))}var sr=a(782392),sl=a(903260),si=a(550643),so=a(796288),ss=a(324588);function sc({teamId:e}){let{requestLoadMoreForTeam:t,templatesByTeam:a}=(0,n9.li)({teamId:e,editorType:ro._Y.WHITEBOARD});return a?o.createElement(na.fu,{name:"custom_templates_by_team"},o.createElement("div",{className:ev.s.pt20.$},o.createElement(ls.g,{templates:a.templates.map(e=>({type:rd.n.TeamTemplateLg,template:e}))}),o.createElement(nq.a,{className:ev.s.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&t()}}))):o.createElement(ib.Ht,null)}var sd=a(548478),sm=a(926603);function su(e){let{resourceId:t,goBack:a}=e,n=(0,s.d4)(e=>e.authedActiveCommunityProfile),r=(0,rD.xp)(t),l=!!r.id,i=(0,n7.Be)().plugins[t]||(0,rH.uF)(r),c=(0,s.d4)(e=>(0,rX.zg)(e.selectedView)&&!e.user),m=r.community_publishers?.accepted||[],p=(0,s.wA)(),E=(0,rr.LR)();o.useEffect(()=>{l||p(n5.af({id:t,resourceType:ru.bD.PLUGIN}))},[p,t,l]);let _=(0,rD.EO)(r),g=Object.values((0,n7.$1)()).find(t=>String(t.plugin_id)===e.resourceId),f=(0,rl.sZ)(),h=(0,n7.ll)(),b=!g&&(0,rn.XV)({org:f,extension:r,allowlistedExtensions:h}),v=(0,oG.F)(),T=o.useCallback(()=>E(),[E]);return o.createElement("div",{className:rq.XV},o.createElement("div",{className:rq.kb},o.createElement(eQ.B,{svg:oj.A,className:rq.Gv,onClick:u.Ay.isIpad?void 0:a,onPointerDown:u.Ay.isIpad?a:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),o.createElement("div",{className:rq.uV},o.createElement("div",{className:rq.uA},o.createElement("div",{className:rq.B6},i.name),(0,rA.$3)({resource:r,height:"16",validBadges:[rA.op.PURCHASED],authedActiveCommunityProfile:n})||o.createElement(sd.I,{badges:r.badges,height:"16",hideTooltip:!0})),(r.community_publishers?.accepted.length||0)>0&&o.createElement("div",{className:rq.N9},(0,k.tx)("whiteboard.inserts.by_publisher",{numPublishers:m.length,firstPublisherName:m[0]?.name,multiplePublisherSuffix:o.createElement("span",{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,oW.eg)(m.slice(1),m.length,e=>e.name)},(0,k.tx)("whiteboard.inserts.and_others"))})))),o.createElement("div",{className:rq.pG},o.createElement("div",{className:ev.s.mr8.$},_&&!(0,d.kc)().community_hub_admin_reviewer?o.createElement(sm.I,{resource:r,context:ru.aL.INSERTS,payment:r.community_resource_payment}):o.createElement("div",{"data-tooltip-type":c?e2.Ib.TEXT:void 0,"data-tooltip":c?(0,k.t)("whiteboard.inserts.log_in_or_sign_up_to_use",{resourceType:ru.vt.PLUGIN}):void 0},b?o.createElement(r3.s,{version:i,isPlugin:!0}):o.createElement(r1,{pluginId:r.id,buttonCta:(0,k.t)("whiteboard.inserts.plugin_run_cta"),isNotInHeader:!0,view:rg.p.PLUGINS}))),o.createElement(rj._W,{resourceId:r.id,resourceType:ru.vt.PLUGIN,parentView:rj.nN.DETAIL}),v?o.createElement(oK.O,{setPinned:e.setPinned}):o.createElement(ec.K,{onClick:T,"aria-label":(0,k.t)("general.close")},o.createElement(em.A,null))))}var sp=a(176384),sE=a(614400);function s_(e){let{resourceId:t,goBack:a}=e,n=(0,rD.aQ)(e.resourceId),r=n?.community_publishers.accepted||[],l=(0,s.wA)(),i=(0,rr.LR)(),c=Object.values((0,n7.yQ)()).find(e=>e.plugin_id===t),m=(0,s.d4)(e=>e.authedActiveCommunityProfile),p=(0,n7.bh)().find(e=>e.id===t),E=iQ.eD&&!!p&&!c,_=!!c||E,g=(0,as.Um)(),f=g?.type===sg&&g.data.widgetId===t,h=(0,rH.uF)(n),{tabManager:b,searchQuery:v}=(0,ry.cX)(),T=(0,rm.Vq)(b.activeTab),y="whiteboard"===(0,r$.lg)(),w=(0,rQ.F5)(),C=Object.values((0,n7.$1)()).find(t=>String(t.plugin_id)===e.resourceId),S=(0,rl.sZ)(),I=(0,n7.U6)(),N=!C&&(0,rn.XV)({extension:n,org:S,allowlistedExtensions:I});o.useEffect(()=>{n||l(n5.af({id:t,resourceType:ru.bD.WIDGET}))},[t,l,n]);let L=(0,rJ.b)(),O=F.nc.user("insert-published-widget",()=>{(0,sE.j)({pluginID:h.plugin_id,widgetName:h.name,pluginVersionID:h.id,triggeredFrom:T}),y&&(0,rQ.oM)({id:h.plugin_id,type:rg.p.WIDGETS,source:T,options:{...w,query:v}}),L()}),A=(0,rD.EO)(n),R=(0,oG.F)(),x=o.useCallback(()=>i(),[i]);if(!n)return null;let M=_?e=>{if(_){if(e.preventDefault(),e.stopPropagation(),f)l(al.oB());else{let a=e.target.getBoundingClientRect();l(al.j7({type:sg,data:{targetRect:a,widgetId:t}}))}}}:O;return o.createElement("div",{className:rq.XV},o.createElement("div",{className:rq.kb},o.createElement(eQ.B,{svg:oj.A,className:rq.Gv,onClick:u.Ay.isIpad?void 0:a,onPointerDown:u.Ay.isIpad?a:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),o.createElement("div",{className:rq.uV},o.createElement("div",{className:rq.uA},o.createElement("div",{className:rq.B6},h.name),(0,rA.$3)({resource:n,height:"16",validBadges:[rA.op.PURCHASED],authedActiveCommunityProfile:m})||o.createElement(sd.I,{badges:n.badges,height:"16",hideTooltip:!0})),(n.community_publishers?.accepted.length||0)>0&&o.createElement("div",{className:rq.N9},(0,k.tx)("whiteboard.inserts.by_publisher",{numPublishers:r.length,firstPublisherName:r[0]?.name,multiplePublisherSuffix:o.createElement("span",{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,oW.eg)(r.slice(1),r.length,e=>e.name)},(0,k.tx)("whiteboard.inserts.and_others"))})))),o.createElement("div",{className:rq.pG},o.createElement("div",{className:ev.s.mr8.$},A&&!(0,d.kc)().community_hub_admin_reviewer?o.createElement(sm.I,{resource:n,context:ru.aL.INSERTS}):N?o.createElement(r3.s,{version:h,isPlugin:!1}):o.createElement(ti.$n,{onClick:u.Ay.isIpad?void 0:M,actionOnPointerDown:u.Ay.isIpad??void 0,variant:"primary",htmlAttributes:{"data-testid":"add-widget-button","data-not-draggable":!0}},o.createElement("span",{className:ev.s.flex.flexRow.justifyCenter.itemsCenter.$},(0,k.t)("whiteboard.inserts.add_widget"),_&&o.createElement(eQ.B,{svg:r0.A,className:rq.sD})))),o.createElement("div",null,o.createElement(rj._W,{resourceId:n.id,resourceType:ru.vt.WIDGET,parentView:rj.nN.DETAIL})),R?o.createElement(oK.O,{setPinned:e.setPinned}):o.createElement(ec.K,{onClick:x,"aria-label":(0,k.t)("general.close")},o.createElement(em.A,null))))}let sg="DROPDOWN_TYPE_WIDGET_DETAIL_SUBMENU";function sf(){let{universalInsertModal:e}=(0,nJ.R)(e=>({universalInsertModal:e.universalInsertModal})),[t,a]=o.useState(e.initialSelectedCategory??l),n=(0,W.tS)(),r=e.initialTab||i||(n?rg.p.ALL:rg.p.WIDGETS),{searchQuery:s,setSearchQuery:c,previewResource:d,setPreviewResource:m}=(0,oY.Rz)();return o.createElement(ry.kx,{initialTab:r,setPreviewResource:m,setSelectedCategory:a,searchQuery:s},o.createElement(sh,{selectedCategory:t,setSearchQuery:c,previewResource:d}))}function sh({selectedCategory:e,setSearchQuery:t,previewResource:a}){let{tabManager:n,setSelectedCategory:r,searchQuery:c,setPreviewResource:u}=(0,ry.cX)(),p=(0,W.q5)(),{fileVersion:E,loadingState:_,universalInsertModal:g}=(0,nJ.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState,universalInsertModal:e.universalInsertModal})),{searchTemplatesResult:f,moreResult:h,pluginSavedSearchResultIds:b,pluginCommunitySearchResultIds:v,pluginOrgSearchResultIds:T,pluginDevelopmentSearchResultIds:y,pluginSearchIsLoading:w,pluginSearchHasResolved:C,widgetSavedSearchResultIds:S,widgetCommunitySearchResultIds:I,widgetOrgSearchResultIds:N,widgetSearchIsLoading:O,widgetSearchHasResolved:A,widgetDevelopmentSearchResultIds:R,faceStampSearchIsLoading:x,faceStampSearchHasResolved:M,debouncedSearchQuery:D,lastPluginSearchQuery:P,lastWidgetSearchQuery:F,lastFaceStampSearchQuery:B,teamTemplatesFromSearch:H,totalNumTeamTemplatesFromSearch:U,teamTemplatesFromSearchIsLoading:V,requestLoadMoreTeamTemplatesFromSearch:K}=(0,oY.Ib)(),G=(0,rl.sZ)(),j=(0,m.md)(rt.D);o.useEffect(()=>{j&&!so.l.has(j)&&(0,n0.YQ)({id:ra.X,properties:{requester:ra.Y.FigjamUniversalInsertsMenuOpen}})},[j]),o.useEffect(()=>{g.previewResource&&u(g.previewResource)},[u,g.previewResource]),o.useEffect(()=>{l=e},[e]),o.useEffect(()=>{i=n.activeTab},[n.activeTab]),o.useEffect(()=>{g.initialSearch&&t(g.initialSearch)},[g.initialSearch,t]);let{isInsertingTemplate:z}=(0,re.Fz)(),Z=(0,s.wA)(),$=(0,si.W6)(),Y=g.sourceRect,[X,J]=o.useMemo(()=>{if($&&Y)return[void 0,{kind:"sourceRect",sourceRect:Y}];{let e=ss.b;return[e,{kind:"buttonTarget",buttonTarget:e}]}},[$,Y]),{initialModalPosition:Q,modalPosition:q,setModalPosition:ee}=(0,rr.ts)(J,rr.zo,rr.gR),{bounds:et,showLeftPinBound:ea,setShowLeftPinBound:en,shouldSnapToPosition:er,setPinned:el}=(0,sp.C)(sv,ee,g.pinned,ry.t$,Q,g.showing);o.useEffect(()=>{Z(rE.cd.fetchTemplatesMetadata({key:rp.$A.FigJam,orgId:p?.parentOrgId})),Z(rE.cd.fetchWidgetsMetadata({key:rp.$A.FigJam})),Z(n4.qR({}))},[Z,p?.parentOrgId]),o.useEffect(()=>{Z(n1.sz({shelfType:ru.cS.FIGJAM_TEMPLATES_PICKER}))},[Z]);let ei=Object.keys((0,n7.yQ)()).join(","),eo=(0,L.iZ)(),es=(0,rl.sZ)(),ec=(0,rc.G7)(es),ed=(0,n9.Gi)(),em=o.useRef(null),eu=o.useRef(null);o.useEffect(()=>{eo&&(Z(n2._J()),Z(n3.aq()))},[Z,eo,ei]),(0,nQ.IT)((0,n5.se)()),(0,nQ.IT)((0,n5.fd)()),o.useEffect(()=>{Z(n8.cr({shouldSearchDefaultLibraries:!0}))},[Z]);let ep=p&&E&&(0,rs.Sc)(_,(0,r_.yD)(p.key));o.useEffect(()=>{ep&&Z((0,n6.zK)())},[Z,ep]),o.useEffect(()=>{"function"==typeof eu.current?.scroll&&eu.current.scroll({top:0,behavior:"smooth"})},[D]);let eE=(0,d.kc)().pro_templates_lg,{filterOptions:e_,selectedTeamOrWorkspaceOrLicenseGroupIds:eg,isMyTeamsOnly:ef,onFilterChange:eh,requestLoadMore:eb,requestLoadMoreForTeam:eT,templatesByTeam:ey,userTeamOrWorkspaceIds:ew,isLoadingTeamTemplates:eC}=(0,n9.GR)(ed?.type==="org"?ed.entity:null,ro._Y.WHITEBOARD),{filterOptions:eS,selectedIds:eI,isMyTeamsOnly:eN,onFilterChange:eL,requestLoadMoreForOrg:eO,teamTemplates:ek,userTeamOrWorkspaceIds:eA,isLoading:eR}=(0,n9.L_)({orgId:ed?.type==="org"?ed.entity.id:null,areWorkspacesEnabled:ec,editorType:ro._Y.WHITEBOARD,numTemplatesPerTeam:4}),ex=eE?eS:e_,eM=eE?eI:eg,eD=eE?eN:ef,eP=eE?eL:eh,eF=eE?eO:eb,eB=eE?eA:ew,eH=eE?eR:eC,eU=eE?ek:ey;return o.createElement(ik,{searchQuery:c,setSearchQuery:t,resourceDetailViewContent:a&&a.id&&a.type?a.type===rm.Rt.TEMPLATES?o.createElement(oV,{id:a.id,selectedCategoryId:"",setPreviewHubFile:u}):a.type===rm.Rt.WIDGETS?o.createElement(sr.xl,{id:a.id}):a.type===rm.Rt.PLUGINS?o.createElement(oR,{pluginId:a.id}):a.type===rm.Rt.ORG_FACE_STAMPS?o.createElement(rI.$t,{onBack:()=>{n.setActiveTab(rg.p.MORE)},queryFromAllSearch:""!==D?D:null}):void 0:null,resourceDetailViewHeader:a&&a.id&&a.type?a.type===rm.Rt.TEMPLATES?o.createElement(oz,{resourceId:a.id,goBack:()=>{u(void 0)},buttonCta:(0,k.t)("whiteboard.inserts.add_template"),setPinned:el}):a.type===rm.Rt.WIDGETS?o.createElement(s_,{resourceId:a.id,goBack:()=>u(void 0),setPinned:el}):a.type===rm.Rt.PLUGINS?o.createElement(su,{resourceId:a.id,goBack:()=>u(void 0),setPinned:el}):a.type===rm.Rt.ORG_FACE_STAMPS?o.createElement(rI.EP,{onBack:()=>u(void 0),setPinned:el,queryFromAllSearch:D}):void 0:null,categoryViewContent:e?e.resourceType===rm.Rt.TEMPLATES?o.createElement(oM,{selectedCategoryId:e.id,shelfType:ru.cS.FIGJAM_TEMPLATES_PICKER,setPreviewHubFile:u,renderResource:e=>o.createElement(oD.S,{template:{type:rd.n.HubFile,template:e},key:e.id,templateInsertionLocation:ri.RD.CURRENT_FILE,triggeredFrom:(0,rm.Vq)(n.activeTab),isInsertingTemplate:z(e.id),onClickTitle:()=>u({id:e.id,type:rm.Rt.TEMPLATES})})}):e.resourceType===rm.Rt.STICKERS_AND_COMPONENTS?o.createElement(rS.uU,{selectedLibrary:e,setSelectedLibrary:r}):e.resourceType===rm.Rt.WIDGETS?o.createElement(iP,{selectedCategoryId:e.id,goBack:()=>r(void 0),resourceType:ru.bD.WIDGET,shelfType:ru.cS.BROWSE_WIDGETS_MODAL,renderResource:e=>o.createElement(lS,{widgetId:e.id,key:e.id})}):e.resourceType===rm.Rt.PLUGINS?o.createElement(iP,{selectedCategoryId:e.id,goBack:()=>r(void 0),resourceType:ru.bD.PLUGIN,shelfType:ru.cS.BROWSE_PLUGINS_MODAL,renderResource:e=>o.createElement(ll,{pluginId:e.id,view:rg.p.EXPLORE,key:e.id})}):e.resourceType===rm.Rt.ALL?o.createElement(l6,{useCaseName:e.id}):e.resourceType===rm.Rt.TEAM_TEMPLATES?eE&&e.id||ed?.type==="team"?o.createElement(sc,{teamId:e.id}):eU.length||eH?o.createElement(na.fu,{name:"custom_org_templates"},eU.map(({teamId:e,teamName:t,workspaceName:a,templates:n,totalTemplatesByTeam:l})=>o.createElement(o.Fragment,{key:e},eE?o.createElement(sl.Z0,{teamName:t??"",workspaceName:ec?a??"":null,teamId:e,minimalSpacing:!0,onSeeAllClick:l>4?()=>{r({id:e,resourceType:rm.Rt.TEAM_TEMPLATES,title:(0,k.t)("whiteboard.inserts.team_name_templates",{teamName:t??""})})}:void 0},o.createElement(ls.g,{templates:n})):o.createElement(sl.fc,{teamName:t??"",workspaceName:ec?a??"":null,teamId:e,onRequestLoadMoreForTeam:eT,minimalSpacing:!0},o.createElement(ls.g,{templates:n})))),o.createElement(nq.a,{"data-testid":"load-more-teams",className:ev.s.relative.$,style:{bottom:"250px"},onIntersectionChange:({isIntersecting:e})=>{e&&eF()}})):o.createElement(ib.Ht,null):void 0:null,categoryViewHeader:function(){if(!e)return;let t=e.resourceType===rm.Rt.TEAM_TEMPLATES&&""===e.id?o.createElement("div",{className:ev.s.mr8.$},o.createElement(sl.DL,{filterOptions:ex,selectedIds:eM,isMyTeamsOnly:eD,onFilterChange:e=>{"function"==typeof em.current?.scroll&&em.current?.scroll({top:0,behavior:"smooth"}),eP(e)},userTeamOrWorkspaceIds:new Set(eB),showWorkspaces:ec})):void 0;return o.createElement(iA.b,{selectedCategory:e,goBack:()=>{eE&&e.resourceType===rm.Rt.TEAM_TEMPLATES&&e.id&&ed?.type==="org"?r({id:"",title:(0,k.t)("whiteboard.inserts.org_name_templates",{orgName:G?.name??""}),resourceType:rm.Rt.TEAM_TEMPLATES}):r(void 0)},setPinned:el,extraContent:t})}(),setPinned:el,initialModalPosition:Q,modalPosition:q,bounds:et,showLeftPinBound:ea,setShowLeftPinBound:en,shouldSnapToPosition:er,entryPointId:X,categoryScrollContainerRef:em,mainScrollContainerRef:eu},o.createElement(sb,{setPinned:el,setPreviewResource:u,setPreviewHubFile:u,searchQuery:c,searchTemplatesResult:f,moreResult:h,pluginSavedSearchResultIds:b,pluginCommunitySearchResultIds:v,pluginOrgSearchResultIds:T,pluginDevelopmentSearchResultIds:y,pluginSearchIsLoading:w,pluginSearchHasResolved:C,widgetSavedSearchResultIds:S,widgetCommunitySearchResultIds:I,widgetOrgSearchResultIds:N,widgetSearchIsLoading:O,widgetSearchHasResolved:A,faceStampSearchIsLoading:x,faceStampSearchHasResolved:M,widgetDevelopmentSearchResultIds:R,debouncedSearchQuery:D,lastPluginSearchQuery:P,lastWidgetSearchQuery:F,lastFaceStampSearchQuery:B,teamTemplatesFromSearch:H,totalNumTeamTemplatesFromSearch:U,teamTemplatesFromSearchIsLoading:V,requestLoadMoreTeamTemplatesFromSearch:K}))}function sb({setPreviewResource:e,searchQuery:t,searchTemplatesResult:a,moreResult:n,pluginSavedSearchResultIds:r,pluginCommunitySearchResultIds:l,pluginOrgSearchResultIds:i,pluginDevelopmentSearchResultIds:s,pluginSearchIsLoading:c,pluginSearchHasResolved:d,widgetSavedSearchResultIds:m,widgetCommunitySearchResultIds:u,widgetOrgSearchResultIds:p,widgetSearchIsLoading:E,widgetSearchHasResolved:_,widgetDevelopmentSearchResultIds:g,faceStampSearchIsLoading:f,faceStampSearchHasResolved:h,debouncedSearchQuery:b,lastPluginSearchQuery:v,lastWidgetSearchQuery:T,lastFaceStampSearchQuery:y,teamTemplatesFromSearch:w,teamTemplatesFromSearchIsLoading:C,totalNumTeamTemplatesFromSearch:S,requestLoadMoreTeamTemplatesFromSearch:I}){let N=(0,nc.U5)(t),L=(0,rl.sZ)(),O=(0,n7.ll)(),k=(0,n7.U6)(),A=o.useMemo(()=>(0,rn.Cs)({org:L,isWidget:!1})?l:L&&L.plugins_whitelist_enforced?l.filter(e=>O[e]):l,[L,O,l]),R=o.useMemo(()=>(0,rn.Cs)({org:L,isWidget:!0})?u:L&&L.widgets_whitelist_enforced?u.filter(e=>k[e]):u,[L,k,u]),{tabPanelPropsMap:x}=(0,ry.cX)();return o.createElement(o.Fragment,null,o.createElement(nX.t.TabPanel,{...x.All},t?o.createElement(lA,{query:t,searchTemplatesResult:a,moreResult:n,pluginSavedSearchResultIds:r,pluginCommunitySearchResultIds:A,pluginOrgSearchResultIds:i,pluginDevelopmentSearchResultIds:s,pluginSearchIsLoading:c,pluginSearchHasResolved:d,widgetSavedSearchResultIds:m,widgetCommunitySearchResultIds:R,widgetOrgSearchResultIds:p,widgetDevelopmentSearchResultIds:g,widgetSearchIsLoading:E,widgetSearchHasResolved:_,faceStampSearchIsLoading:f,faceStampSearchHasResolved:h,faceStampSearchResults:N,debouncedSearchQuery:b,lastPluginSearchQuery:v,lastWidgetSearchQuery:T,lastFaceStampSearchQuery:y,teamTemplatesFromSearch:w,totalNumTeamTemplatesFromSearch:S}):o.createElement(iy,null)),o.createElement(nX.t.TabPanel,{...x.Widgets},t?o.createElement(oq,{query:t,debouncedSearchQuery:b,hasResolved:_,savedSearchResultIds:m,communitySearchResultIds:R,orgSearchResultIds:p,developmentSearchResultIds:g,lastWidgetSearchQuery:T}):o.createElement(sn,null)),o.createElement(nX.t.TabPanel,{...x.Stickers},o.createElement(rS.FN,{query:t})),o.createElement(nX.t.TabPanel,{...x.Plugins},t?o.createElement(iH,{query:t,debouncedSearchQuery:b,savedSearchResultIds:r,communitySearchResultIds:A,developmentSearchResultIds:s,orgSearchResultIds:i,hasResolved:d,lastPluginSearchQuery:v}):o.createElement(oh,null)),o.createElement(nX.t.TabPanel,{...x.Templates},t?o.createElement(o$,{templates:a,teamTemplatesFromSearch:w,totalNumTeamTemplatesFromSearch:S,teamTemplatesFromSearchIsLoading:C,requestLoadMoreTeamTemplatesFromSearch:I,query:t,debouncedSearchQuery:b}):o.createElement(lc.J,{setPreviewHubFile:e})),o.createElement(nX.t.TabPanel,{...x.More},t?o.createElement(iF,{results:n,query:t,debouncedSearchQuery:b,faceStampSearchIsLoading:f}):o.createElement(na.fu,{name:"more2"},o.createElement(is,{hasTopPadding:!0}))))}function sv(){return{x:-rr.gR,y:0,width:2*rr.gR+rf.wR,height:window.innerHeight}}var sT=a(774270),sy=a(803472),sw=a(150197),sC=a(252327),sS=a(295020),sI=a(134288);function sN({children:e}){return o.createElement(o.Fragment,null,e)}a(399991);var sL=a(780017),sO=a(602670),sk=a(806273),sA=a(430242),sR=a(465424),sx=a(509223),sM=a(809961),sD=a(856749),sP=a(62887),sF=a(891720),sB=a(206443);function sH({showBottomBorder:e=!0,title:t,onClose:a,badge:n,backButton:r,inputField:l,closeButtonInnerText:i}){return(0,f.GS)()?function({title:e,onClose:t,badge:a,closeButtonInnerText:n}){let r=(0,sB.$)();return o.createElement("div",{className:"figjam_panel_header--headerContainer--fVdY4"},o.createElement("div",{className:"figjam_panel_header--title--n9fHo"},e),o.createElement("div",{className:ev.s.flex.itemsCenter.gap4.$},a,o.createElement(nt.Me,{onClick:t,"aria-label":(0,k.t)("common.close"),actionOnPointerDown:r,trackingProperties:{text:n||"close"}},o.createElement(em.A,null))))}({title:t,onClose:a,badge:n,closeButtonInnerText:i}):function({showBottomBorder:e,title:t,onClose:a,badge:n,backButton:r,inputField:l,closeButtonInnerText:i}){let s=(0,sB.$)();return o.createElement(o.Fragment,null,o.createElement("div",{className:ep()("figjam_panel_header--headerContainerUI2--9ku6y",{[ev.s.pl8.$]:r,[ev.s.pl16.$]:!r,"figjam_panel_header--withBottomBorder--TYv8K":e})},o.createElement("div",{className:ev.s.flex.itemsCenter.gap4.$},r,o.createElement("div",{className:ev.s.font13.fontSemiBold.$},t)),o.createElement("div",{className:ev.s.flex.itemsCenter.gap4.$},n,o.createElement(nt.Me,{onClick:a,"aria-label":(0,k.t)("common.close"),actionOnPointerDown:s,trackingProperties:{text:i||"close"}},o.createElement(em.A,null)))),l&&o.createElement("div",{className:ev.s.pt12.px16.pb20.$},l))}({showBottomBorder:e,title:t,onClose:a,badge:n,backButton:r,inputField:l,closeButtonInnerText:i})}var sU=a(898046);let sV="ai_modal--generateButtonContainer--TZ5A4",sW="ai_modal--suggestionV2--Us2t6",sK="ai_modal--secondaryButton--weULP",sG="ai_modal--selected--S4ORY";var sj=a(806429);function sz({suggestion:{title:e,subtitle:t,useCaseCategory:a},onClick:n}){return o.createElement("button",{onClick:n,className:ep()(ev.s.flex.justifyBetween.itemsCenter.py16.pl16.pr12.b1.colorBorder.bRadius6.wFull.alignLeft.$,"ai_modal--oneClickButton--VqeLK"),"data-testid":"figjam-ai-one-click-v2"},o.createElement("div",{className:ev.s.flex.itemsCenter.justifyBetween.gap12.wFull.$},o.createElement("div",{className:ev.s.flex.flexRow.itemsStart.$},o.createElement("div",{className:ep()(ev.s.colorTextSecondary.font11.fontInter.normal.overflowHidden.ellipsis.$,"ai_modal--oneClickText--36sek")},o.createElement("span",{className:ev.s.colorText.font11.fontInter.fontMedium.normal.$},e),` ${t}`)),o.createElement("div",{className:"ai_modal--oneClickIcon--J1-2k"},(0,sS.wg)(a)),o.createElement(eQ.B,{className:ep()(ev.s.hidden.colorIconBrand.bRadius2.$,"ai_modal--oneClickAiIcon--fQNmm"),"data-tooltip":(0,k.t)("whiteboard.ai_modal.generate"),"data-tooltip-type":e2.Ib.TEXT,"data-tooltip-show-above":"true",svg:sj.A})))}var sZ=a(888178),s$=a(320174),sY=a(919911),sX=a(906112);let sJ="prompt_editor_v2--input--hm43Y text--fontPos13--xW8hS text--_fontBase--QdLsd",sQ="prompt_editor_v2--promptBoxTextShimmer--pMr3h";function sq(){let[e]=(0,sX.DF)(),[t,a]=o.useState("");return o.useEffect(()=>e.registerUpdateListener(({editorState:e})=>{let t="";e.read(()=>{t=(0,sY.bk)([sY.mK,sY.NB])}),a(t)}),[e]),t}function s0({initialPrompt:e=null,setInitialPrompt:t}){let a={paragraph:ep()(ev.s.lh24.$,"prompt_editor_v2--promptParagraph--NNM8M prompt_editor_v2--paragraph--poJzZ"),list:{listitem:"prompt_editor_v2--listItem--annrO",ol:"prompt_editor_v2--ol--ic0Fx",olDepth:["prompt_editor_v2--ol1--faICF","prompt_editor_v2--ol2--F-Y-h","prompt_editor_v2--ol3--MAJmP","prompt_editor_v2--ol4--fqE0M","prompt_editor_v2--ol5---WTwx"],ul:"prompt_editor_v2--ul--S8A3v",nested:{listitem:"prompt_editor_v2--nestedListItem--JvJWk"}}};return{namespace:"FigJamAiPromptEditor",editorState:()=>{e&&(0,sY.Wn)(e,[sY.mK,sY.NB]),t("")},nodes:[s$.v5,s$.YW],theme:a,onError:function(e){console.error(e)}}}var s1=a(98015);function s2({onSubmit:e}){let t=sq(),a=(0,m.md)(sC.dO);return o.createElement("div",{className:ep()(sV)},o.createElement(ti.IK,{variant:"primary",disabled:0===t.length||a.status===sZ.c.LOADING,onClick:()=>{e(t)},htmlAttributes:{"data-testid":"figjam-ai-modal-generate-button"}},o.createElement("div",{className:ev.s.flex.itemsCenter.gap8.justifyCenter.$},o.createElement(eQ.B,{svg:s1.A,className:ev.s.colorIconOnbrand.$}),(0,k.tx)("whiteboard.ai_modal.generate"))))}function s5({onSubmit:e}){let t=sq(),a=(0,m.md)(sC.dO);return o.createElement("div",{className:sV},o.createElement("div",{className:"ai_modal--generateButtonContainerInner--LrHTI"},o.createElement(ti.$n,{disabled:0===t.length||a.status===sZ.c.LOADING,onClick:()=>{e(t)},htmlAttributes:{"data-testid":"figjam-ai-modal-generate-button"}},(0,k.tx)("whiteboard.ai_modal.generate_shortcut"))))}var s3=a(834825),s4=a(537336),s6=a(239033),s8=a(222758),s7=a(294526),s9=a(474713),ce=a(194931),ct=a(929702),ca=a(163948),cn=a(931223),cr=a(812272),cl=a(271646),ci=a(421024);function co({shouldAutoFocus:e}){let[t]=(0,sX.DF)();return o.useEffect(()=>{e&&t.focus()},[t,e]),null}var cs=a(277403),cc=a(489803),cd=a(726084),cm=a(403286);function cu(){return o.createElement("div",{className:ev.s.flex.font11.colorTextSecondary.overflowBreakWord.$},o.createElement("span",{className:ev.s.mr2.$},(0,k.tx)("whiteboard.ai_modal.disclaimer")),o.createElement(cc.Ph,{newTab:!0,trusted:!0,href:cm.nG,htmlAttributes:{"data-tooltip":(0,k.t)("whiteboard.ai_modal.learn_more"),"data-tooltip-type":e2.Ib.TEXT},innerText:"learn more"},o.createElement(cd.In,{icon:"info-16",fill:"secondary"})))}var cp=a(461838),cE=a(922070),c_=a(666308);function cg({hasFreeformEditedPrompt:e,updatePillSuggestions:t,examplePrompt:a}){let n=(0,m.md)(sC.xc),[r]=(0,sX.DF)(),l=(0,m.md)(sC.dO),[i,s]=(0,m.fp)(sC.JV),c=(0,m.Xr)(sC.KL);o.useEffect(()=>{n?r.update(()=>{(0,sY.Wn)(n.prompt,[sY.mK,sY.NB]),t(r.getEditorState(),n.useCaseCategory)}):t(r.getEditorState())},[r,n,t]),o.useEffect(()=>{l.status===sZ.c.LOADING?r.setEditable(!1):r.setEditable(!0)},[r,l]);let d=o.useCallback(t=>((0,c_.Fo)(t)&&"Enter"===t.key||"Tab"===t.key||e.current||((0,ci.Br)(),e.current=!0),!1),[e]);o.useEffect(()=>r.registerCommand(cE.R1,d,cE.Jj),[r,d]);let u=o.useCallback(e=>{if((0,c_.Fo)(e)||(0,c_.vN)(e,c_.xH.SHIFT)||(0,c_.vN)(e,c_.xH.ALT))return!1;let n=(0,sY.bk)([sY.mK,sY.NB]);return r.update(()=>{if(0===n.length){let n=(0,sS.sM)(a.title,a.subtitle);(0,sY.Wn)(n,[sY.mK,sY.NB]),(0,cE.Ni)().selectEnd().insertText(" ");let l=r.getEditorState();return s(a.useCaseCategory),t(l,a.useCaseCategory),e.preventDefault(),c(n),(0,ci.tV)(n),!0}}),!1},[r,a,s,t,c]);return o.useEffect(()=>r.registerCommand(cE.OX,u,cE.Jj),[r,u]),o.useEffect(()=>r.registerUpdateListener(({editorState:e,prevEditorState:a})=>{let n="";e.read(()=>{n=(0,sY.bk)([sY.mK,sY.NB])});let r=!1,l="";a.read(()=>{l=(0,sY.bk)([sY.mK,sY.NB]);let e=(0,cE.vJ)(),t=cE.Ni().getFirstDescendant()?.getKey(),a=cE.Ni().getLastDescendant()?.getKey();(0,cE.I2)(e)&&(r=l.length>0&&(0===e.focus.offset&&e.focus.key===t&&e.anchor.key===a&&(0,cp.Nx)(e.anchor)||0===e.anchor.offset&&e.anchor.key===t&&e.focus.key===a&&(0,cp.Nx)(e.focus)))}),r?n!==l&&(s(void 0),t(e,void 0,!0),n.length>0&&(0,ci.Br)()):n.length>0&&!i?t(e):0===n.length&&(s(void 0),t(e))}),[r,i,s,t]),null}var cf=a(471923),ch=a(266838),cb=a(556843),cv=a(163773),cT=a(360495),cy=a(710636),cw=a(26096);function cC(){return o.createElement("div",{className:"ai_announcement_modal--browseInCommunityContainer--03F-u"},o.createElement(oP.N,{href:"/community/collections/best-figjam-ai-prompts",target:"_blank",className:"ai_announcement_modal--communityLink--CA-Qf",trusted:!0},o.createElement(eQ.B,{svg:cw.A,className:"ai_announcement_modal--communityIcon--Gmr2-"}),(0,k.tx)("whiteboard.ai_feature_announcement.more_prompts.community_button")))}function cS(){return o.createElement("div",{className:"ai_announcement_modal--morePromptsHeader--Av2QS"},o.createElement("span",{className:"ai_announcement_modal--headerText--iJ5yO"},(0,k.tx)("whiteboard.ai_feature_announcement.more_prompts.title")),o.createElement("span",{className:ev.s.font13.$},(0,k.tx)("whiteboard.ai_feature_announcement.more_prompts.description")))}function cI({selectedPrompt:e,setSelectedPrompt:t}){let a=(0,sS.FN)();return o.createElement("div",{className:"ai_announcement_modal--morePromptsBodyOuter--3cfNs"},o.createElement("div",{className:"ai_announcement_modal--morePromptsBody--SEGr5"},Object.entries(a).map(([a,n])=>o.createElement(cN,{key:a,category:n.category,suggestion:n.suggestion,isSelected:e===a,onClick:()=>t(a)}))))}function cN({category:e,suggestion:t,isSelected:a,onClick:n}){let r=(0,sS.wg)(e);return o.createElement("button",{className:ep()("ai_announcement_modal--morePromptExample--O3B-f",{"ai_announcement_modal--selectedMorePromptExample--TCcYx":a}),onClick:n},o.createElement("div",{className:"ai_announcement_modal--morePromptIcon--vM2Pj"},r),o.createElement("div",{className:ev.s.inline.alignLeft.$},t.map((e,a)=>o.createElement("span",{key:a,className:e.bold?"ai_announcement_modal--boldedText--DaSsh":"ai_announcement_modal--normalText--zPNO-"},e.text,a!==t.length?" ":""))))}function cL({dismissModal:e,selectedPromptKey:t}){let a=(0,m.Xr)(sC.ft),n=(0,m.Xr)(sC.xc),r="en"===(0,d.mm)()[0],l=(0,tQ.dh)();return o.createElement("div",{className:ep()("ai_announcement_modal--morePromptsFooter--peV6H")},r?o.createElement(cC,null):o.createElement("div",null),o.createElement("div",{className:ev.s.flex.gap16.$},o.createElement("button",{onClick:function(){let r=(0,sS.FN)()[t];if(!r)return;let i=(0,sS.hZ)(r);n({prompt:i,useCaseCategory:r.setUseCaseCategory?r.category:void 0}),a({prompt:i,useCaseCategory:r.setUseCaseCategory?r.category:void 0,subtitle:i,stage:sS.Zj.GENERATE_MODE,entrypoint:sS.fV.IN_EDITOR,pageNodeId:l}),e()}},o.createElement("div",{className:ep()(ev.s.py4.pl8.pr16.b1.bRadius6.font13.fontMedium.lh24.$,"ai_announcement_modal--primaryBtn--Hp0e- ai_announcement_modal--btn--I8Apa")},o.createElement("div",{className:ev.s.flex.flexRow.itemsCenter.$},o.createElement(eQ.B,{svg:sj.A,className:"ai_announcement_modal--aiIcon--u4hnd"}),(0,k.t)("whiteboard.ai_modal.generate"))))))}let cO=(0,cy.Ju)(function(e){let t=cf.hS(e),[a,n]=o.useState(()=>Object.keys((0,sS.FN)())[0]??"");return o.createElement(ch.bL,{manager:t,width:"fit-content"},o.createElement(cb.vo,null,o.createElement(cb.Y9,null,o.createElement("div",{className:ep()(ev.s.absolute.h18.$,"ai_announcement_modal--aiBadge--DSi1-")},o.createElement(sU.G,{location:"MODAL",onPointerUp:()=>{(0,cT.Lf)(cm.nG)||cv.Ay.unsafeRedirect(cm.nG,"_blank")}}))),o.createElement(cb.nB,{noPadding:!0},o.createElement(cS,null),o.createElement("div",{className:"ai_announcement_modal--morePromptsModalBody--8TEvg"},o.createElement(cI,{setSelectedPrompt:n,selectedPrompt:a}))),o.createElement(cb.wi,null,o.createElement(cL,{dismissModal:e.onClose,selectedPromptKey:a}))))},"FigJamAIMorePromptsModal");var ck=a(553551),cA=a(911087);function cR({suggestions:e,setSuggestions:t,updatePillSuggestions:a,maxHeight:n}){let r=(0,s.wA)(),[l]=(0,sX.DF)(),i=(0,m.md)(sC.dO),[c,d]=(0,m.fp)(sC.JV),u=ep()("ai_modal--suggestionPill--w44sw text--fontPos11--2LvXf text--_fontBase--QdLsd",sW),p=ep()(ev.s.colorBg.pl10.pr8.font11.lh16.borderBox.b1.bRadius6.wFitContent.$,sW),E=sq();return o.createElement(o.Fragment,null,e.length>0&&o.createElement("div",{className:"ai_modal--pillSuggestions--G7kp1",style:{maxHeight:n}},o.createElement("div",{className:"ai_modal--pillSuggestionsGenerated--6JXOL"},e.map((n,r)=>o.createElement("button",{key:n.title,className:u,onClick:()=>{void 0===c?l.update(()=>{(0,sY.Wn)(n.prompt,[sY.mK,sY.NB]),n.prompt.endsWith(" ")&&(0,cE.Ni)().selectEnd().insertText(" ")}):l.update(()=>{let t=(0,sY.bk)([sY.mK,sY.NB]),a=(0,sS.LY)(c).length===e.length&&c!==sS.es.MIND_MAP?`${(0,sS.jJ)(t)} 
- ${n.prompt} `:`${t}
- ${n.prompt} `;(0,sY.Wn)(a,[sY.mK,sY.NB])}),(0,sS.UH)(n)?(d(n.categoryKey),a(l.getEditorState(),n.categoryKey)):t(e=>e.filter(e=>e.prompt!==n.prompt)),(0,ci.lt)(r,n.prompt)},disabled:i.status===sZ.c.LOADING},o.createElement("div",{className:ev.s.flex.itemsCenter.gap6.$},(0,sS.UH)(n)&&(0,sS.Oo)(n.categoryKey),n.title,!(0,sS.UH)(n)&&o.createElement(eQ.B,{svg:cA.A,className:ev.s.colorIconTertiary.$}))))),void 0===c&&0===E.length&&o.createElement("button",{className:p,disabled:i.status===sZ.c.LOADING,onClick:()=>{r((0,nA.to)({type:cO}))}},o.createElement("div",{className:ev.s.flex.itemsCenter.gap4.cursorDefault.$},(0,k.tx)("whiteboard.ai_modal.suggestion.more_prompts"),o.createElement(eQ.B,{svg:ck.A,className:ev.s.colorIconFigjam.$})))))}function cx({onSubmit:e}){let[t]=(0,sX.DF)(),a=sq(),n=o.useCallback(t=>0===a.length||!!(0,c_.Fo)(t)&&(t.preventDefault(),e((0,sY.bk)([sY.mK,sY.NB])),!0),[e,a.length]);return o.useEffect(()=>t.registerCommand(cE.if,n,cE.Jj),[t,n]),null}function cM(){let e=sq(),t=(0,m.md)(sC.JV),a=(0,sS.TQ)(e,t);if(e.length<=0||!a)return null;let n=(0,sS.jJ)(e);return o.createElement("div",{className:ep()(ev.s.absolute.zIndex0.top0.left0.bgTransparent.overflowHidden.colorTextTertiary.font13.wFull.lh24.$,"prompt_editor_v2--placeholderParagraph--D5ueD prompt_editor_v2--paragraph--poJzZ")},`${n}${(0,k.t)("whiteboard.ai_modal.prompt_builder.trailing_ellipsis")}`)}function cD({onSubmit:e}){let t;let[a,n]=(0,m.fp)(sC.Ac),r=(0,o.useRef)(!1),l=(0,m.md)(sC.JV),[i,s]=(0,o.useState)((0,sS.fF)(a,l)),c=(0,m.md)(sC.dO),[d,u]=(0,o.useState)(()=>(0,s3.QP)([sS.B1.TEMPLATE,sS.B1.VISUAL])),[p,E]=(0,o.useState)(!0),_=(0,o.useMemo)(()=>(0,sS.Cb)(d),[d]),g=(0,sS.sM)(_.title,_.subtitle,!1),f=(0,m.Xr)(sC.Ac),h=(0,sF.R)(),b=(0,o.useRef)(null),v=(0,cn.wY)(b),T=(t=180,v&&(t=36*Math.floor(((0,aN.jz)(aU.N5f)-v.height)/36)),t),y=(0,o.useCallback)((e,t,a)=>{e.read(()=>{let e=(0,sY.bk)([sY.mK,sY.NB]);s(n=>{let r=(0,sS.fF)(e,t),l=!n.every(sS.UH),i=r.some(sS.UH)&&0===e.length||a;return l&&!i?n:r})})},[]),w=(0,o.useRef)([]);(0,o.useEffect)(()=>{let e=w.current.map(e=>e.title),t=i.map(e=>e.title),a=!(0,cr.yZ)(new Set(e),new Set(t)),n=w.current.length>0&&!w.current.some(sS.UH)&&!i.some(sS.UH);w.current=i,a&&!n&&(0,ci.Fg)(i)},[i]);let C=o.useCallback(e=>{e.read(()=>{let e=(0,sY.bk)([sY.mK,sY.NB]);0!==e.length||p?0!==e.length&&p&&E(!1):(u(e=>e===sS.B1.TEMPLATE?sS.B1.VISUAL:sS.B1.TEMPLATE),E(!0)),r.current&&0===e.length&&(r.current=!1,f(""))})},[p,f]);return o.createElement(o.Fragment,null,o.createElement(sP.n,{key:"FigJamAiPromptEditor",initialConfig:s0({initialPrompt:a,setInitialPrompt:n})},o.createElement("div",{className:ep()("prompt_editor_v2--promptBox--SdF5B",ev.s.flex.flexColumn.colorBgSecondary.p16.mx16.bRadius6.if(c.status===sZ.c.LOADING,ev.s.opacity0_5).$)},o.createElement("div",{className:ev.s.relative.flex.flexColumn.font13.resizeNone.wFull.hFull.justifyBetween.$},o.createElement(ct.$,{contentEditable:o.createElement(s4.a,{disabled:c.status===sZ.c.LOADING,className:sJ,spellCheck:!1,"data-testid":"figjam-ai-modal-prompt-editor-v2",style:{minHeight:v?.height}}),placeholder:o.createElement("div",{className:ep()("prompt_editor_v2--placeholder--wqsck text--fontPos13--xW8hS text--_fontBase--QdLsd",sQ),ref:b},o.createElement("span",null,g),o.createElement(cB,null)),ErrorBoundary:s6.A}),o.createElement(cM,null),o.createElement(cR,{suggestions:i,setSuggestions:s,updatePillSuggestions:y,maxHeight:T}))),o.createElement(s7.Q,null),o.createElement(ca.m,null),o.createElement(cs.A,{maxDepth:5}),o.createElement(ce.D,{onChange:C,ignoreSelectionChange:!0}),o.createElement(s8.G,null),o.createElement(s9.E,{transformers:[sY.mK,sY.NB]}),o.createElement(co,{shouldAutoFocus:c.status!==sZ.c.LOADING}),o.createElement(cx,{onSubmit:e}),o.createElement(cg,{hasFreeformEditedPrompt:r,updatePillSuggestions:y,examplePrompt:_}),o.createElement(cP,{isUI3:h,onSubmit:e})))}function cP({isUI3:e,onSubmit:t}){return e?o.createElement(o.Fragment,null,o.createElement("div",{className:ev.s.mt16.mx16.$},o.createElement(cu,null)),o.createElement(s5,{onSubmit:t})):o.createElement(o.Fragment,null,o.createElement(s2,{onSubmit:t}),o.createElement("div",{className:ev.s.mt16.mx16.$},o.createElement(cu,null)))}function cF({onSubmit:e}){let t=(0,m.md)(nH.QY);return o.createElement("div",{className:ep()(ev.s.colorBgSecondary.p16.bRadius6.cursorText.$,"prompt_editor_v2--entryViewPromptBox--EkmRO"),"data-onboarding-key":sM.AI},o.createElement("div",{className:ev.s.font13.fontInter.normal.fontNormal.lh24.flex.itemsStart.wFull.hFull.$},o.createElement(ct.$,{contentEditable:o.createElement(s4.a,{className:ep()(ev.s.overflowYScroll.zIndex1.wFull.hFull.alignLeft.$,sJ),spellCheck:!1,"data-testid":"figjam-ai-modal-entry-view-prompt-editor"}),placeholder:o.createElement("div",{className:ep()(ev.s.eventsNone.colorTextTertiary.absolute.$,t.showing?null:sQ)},o.createElement("span",null,(0,k.t)("whiteboard.ai_modal.prompt_placeholder"))),ErrorBoundary:s6.A}),o.createElement(s7.Q,null),o.createElement(ca.m,null),o.createElement(cs.A,{maxDepth:5}),o.createElement(s8.G,null),o.createElement(cx,{onSubmit:e}),o.createElement(s9.E,{transformers:[sY.mK,sY.NB]})))}function cB(){return o.createElement(cl.Ex,{className:ep()(ev.s.font11.fontMedium.h16.px4.bRadius5.ml4.hFitContent.colorTextSecondary.$,"prompt_editor_v2--tabBadge--bntTA"),text:(0,k.t)("whiteboard.ai_modal.hint_tab"),color:cl.zE.TERTIARY})}function cH({onGenerate:e}){let t=(0,m.md)(sC.zS),a=(0,m.Xr)(sC.H4),n=(0,W.tS)(),r=(0,o.useMemo)(()=>(0,sS.w4)(1),[]),l=(0,m.Xr)(sC.ft),i=(0,m.Xr)(sC.Ac),s=(0,sF.R)(),c=(0,tQ.dh)(),d=t=>{e(),i(`${t.title} ${t.subtitle}`),l({prompt:`${t.title} ${t.subtitle}`,useCaseCategory:t.useCaseCategory,subtitle:t.subtitle,stage:sS.Zj.GENERATE_MODE,entrypoint:sS.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:c})},u=async t=>{e(),i(t),await l({prompt:t,stage:sS.Zj.GENERATE_MODE,entrypoint:sS.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:c})};return o.createElement(na.fu,{name:sR.e0.AI_PROMPT_BUILDER_ENTRY_VIEW,properties:{fileKey:n}},o.createElement("div",{"data-testid":"figjam-ai-modal-entry-view-v2"},o.createElement(sP.n,{key:"FigJamAiEntryViewPromptEditor",initialConfig:s0({setInitialPrompt:i})},o.createElement(sH,{title:(0,k.t)("whiteboard.ai_modal.generate"),onClose:a,badge:o.createElement(sU.G,{location:"MODAL"})}),o.createElement("div",{className:"ai_modal--entryViewPromptEditorWrapper--D6Zwq"},o.createElement(cF,{onSubmit:u})),o.createElement("div",{className:"ai_modal--oneClickPromptSection--K-kml"},o.createElement("div",{className:ep()(ev.s.mx16.grid.rowGap12.overflowHidden.$,"ai_modal--oneClickPromptGridV2--yc8rD")},r.map((e,a)=>o.createElement(cV,{key:e.title+e.subtitle,shouldAnimate:t===sC.Wl.NEW_FILE,index:a},o.createElement(sz,{suggestion:e,onClick:()=>d(e)}))))),o.createElement(cU,{isUI3:s,onSubmit:u}))))}function cU({isUI3:e,onSubmit:t}){return e?o.createElement(o.Fragment,null,o.createElement("div",{className:ev.s.mt16.mx16.$},o.createElement(cu,null)),o.createElement(s5,{onSubmit:t})):o.createElement(o.Fragment,null,o.createElement(s2,{onSubmit:t}),o.createElement("div",{className:ev.s.mt16.mx16.$},o.createElement(cu,null)))}function cV({shouldAnimate:e,index:t,children:a}){return e?o.createElement(sI.P.div,{initial:{opacity:0,scale:.8,transform:"translateY(40px)"},animate:{opacity:1,scale:1,transform:"translateY(0px)"},transition:{delay:(t+1)*.05}},a):a}var cW=a(497216),cK=a(281326),cG=a(337104);function cj(){let e=(0,m.md)(sC.dO),t=(0,d.kc)().cortex_execution_tracing&&(e.status===sZ.c.SUCCESS||e.status===sZ.c.ERROR)&&e.trace,a=(0,sF.R)();return t?o.createElement("div",{style:rk.sx.if(a,rk.sx.mb16).$,className:ev.s.mx16.mt16.$},o.createElement("div",{className:ev.s.px12.py12.flex.gap12.bRadius6.colorBgFigjamTertiary.font11.colorTextFigjam.overflowBreakWord.$},o.createElement("div",null,(0,k.tx)("whiteboard.ai_modal.share_trace_nudge_in_modal",{weirdOutput:o.createElement("span",{className:ev.s.font11.colorTextFigjam.fontBold.$},(0,k.t)("whiteboard.ai_modal.share_trace_nudge_weird_output"))})),o.createElement(eJ.E,{className:ep()("ai_share_trace_nudge--button--9ZX8n"),onClick:()=>{(0,cG.j)(JSON.stringify(e.trace,null,2),"trace.json")}},o.createElement("div",{className:ev.s.font11.lh16.noWrap.$},(0,k.tx)("whiteboard.ai_modal.share_trace"))))):o.createElement(o.Fragment,null)}function cz({onGenerate:e}){let t=(0,m.Xr)(sC.H4),a=(0,m.md)(sC.dO),n=(0,m.md)(sC.JV),[r,l]=(0,m.fp)(sC.Sn),i=(0,m.md)(sC.l1),u=(0,W.q5)(),p=(0,s.d4)(e=>e.multiplayer.allUsers.length),E=a.status===sZ.c.SUCCESS?sS.Zj.REFINEMENT_MODE:sS.Zj.GENERATE_MODE,_=(0,m.Xr)(sC.ft),g=(0,f.GS)(),h=(0,tQ.dh)(),b=async t=>{e(),(0,d.kc)().workspace_activity_write&&u?.team?.workspaceId&&cK.i.recordActivity({activityUnitType:cW.qj.FILE_COLLABORATION,fileKey:u.key,collaborationType:cW.Uz.AI_PROMPT_BUILDER,numPeopleInFile:p}),await _({prompt:t,useCaseCategory:n,stage:E,entrypoint:sS.fV.IN_EDITOR,fromGenerateModalV2:!0,pageNodeId:h})};function v(e){e!==r&&i&&c.$mk&&(l(e),c.$mk.updateFigjamAiGanttChartType(e,i))}return o.createElement(na.fu,{name:sR.e0.AI_PROMPT_BUILDER_GENERATE_STAGE,properties:{fileKey:u?.key}},o.createElement("div",{"data-testid":"figjam-ai-modal-prompt-builder-v2"},o.createElement(sH,{title:(0,k.t)("whiteboard.ai_modal.generate"),onClose:t,badge:o.createElement(sU.G,{location:"MODAL"}),closeButtonInnerText:"dismiss"}),o.createElement("div",{className:g?ev.s.pt16.$:void 0},o.createElement(cD,{onSubmit:b})),o.createElement(cj,null),a.status===sZ.c.SUCCESS&&"gantt"===a.type&&o.createElement("div",{className:"ai_modal--ganttChartStyleContainer--lXP5n"},o.createElement("div",{className:"ai_modal--ganttChartStyleContainerInner--GQHQh"},o.createElement("div",{className:ep()(ev.s.colorTextSecondary.$)},(0,k.tx)("whiteboard.ai_modal.style")),o.createElement("div",null,o.createElement("button",{onClick:()=>{v(c.VIy.BASIC)},className:ep()(ev.s.inline.itemsCenter.py6.px14.b1.colorBorder.fontMedium.lh16.$,{[sK]:!0,[sG]:r===c.VIy.BASIC}),style:rk.sx.add({borderRadius:"6px 0px 0px 6px",fontSize:"10px"}).$},(0,k.tx)("whiteboard.ai_modal.basic")),o.createElement("button",{onClick:()=>{v(c.VIy.EXPANDED)},className:ep()(ev.s.inline.itemsCenter.py6.px14.bSolid.br1.bt1.bb1.colorBorder.fontMedium.lh16.$,{[sK]:!0,[sG]:r===c.VIy.EXPANDED}),style:rk.sx.add({borderRadius:"0px 6px 6px 0px",fontSize:"10px"}).$},(0,k.tx)("whiteboard.ai_modal.expanded")))))))}let cZ=[(0,d.ck)("25d8a30c44eab356d393ee997bc62cd0c85b4a28"),(0,d.ck)("3d959a21151e0b11ad486bd688e54f88d625c00a"),(0,d.ck)("9e7571f06975aa64d8e90ac0289a1b152dcc4dad")];function c$(){let e=(0,sk.q)(),t=(0,b.aV)();return!!e&&!t}function cY(){let e=(0,s.d4)(e=>e.mirror.appModel.showUi),t=(0,m.md)(sC.zS),a=(0,m.Xr)(sC.H4),n=(0,o.useRef)(null);return(0,sO.O1)(()=>{let r=document.activeElement;return!!(e&&t!==sC.Wl.NONE&&(n.current?.contains(r)||r?.classList.contains("focus-target")||(0,sA.t)(r)))&&(a(),!0)},sO.KD.OVERLAY),n}function cX(){return c$()?o.createElement(sN,null,o.createElement(cJ,null)):null}function cJ(){let e;let[t,a]=(0,m.fp)(sC.yt);!function(){let e=(0,tQ.dh)(),t=(0,m.md)(sC.J1),a=(0,m.Xr)(sC.RJ);(0,o.useEffect)(()=>{e!==t&&a()},[e,a,t])}(),function(){let e=(0,W.tS)(),t=(0,m.Xr)(sC.A0);(0,o.useEffect)(()=>{t()},[e,t])}();let n=(0,b.p8)("showUi"),r=(0,m.md)(sC.zS),l=(0,f.GS)(),i=()=>{a(!0)};if(r===sC.Wl.NONE)return null;if(r===sC.Wl.TOP_BAR)e=l?null:o.createElement(cQ,{onGenerate:i});else if(r===sC.Wl.NEW_FILE)e=o.createElement(c0,{onGenerate:i,hasGenerated:t});else throw Error("Unsupported AI Modal Display Type");return o.createElement("div",{className:ev.s.if(!n,ev.s.hidden).$},e)}function cQ({onGenerate:e}){let t=(0,W.tS)(),a=cY();return(0,es.U1)(a),o.createElement(na.fu,{name:sR.e0.AI_PROMPT_BUILDER_MODAL,properties:{fileKey:t,modalSource:sC.Wl.TOP_BAR}},o.createElement("div",{className:"ai_modal--topBarV2--kJAjC","data-testid":"figjam-ai-modal-topbar-v2",ref:a},o.createElement(c2,{onGenerate:e})))}function cq(){let e=!(0,p.q8)()&&(0,sS.Uy)(),t=(0,m.Xr)(sC.yt),a=(0,m.md)(sC.zS)===sC.Wl.TOP_BAR,n=c$();return e&&a&&n?o.createElement(sN,null,o.createElement(cQ,{onGenerate:()=>{t(!0)}})):null}function c0({onGenerate:e,hasGenerated:t}){let a=(0,W.tS)(),n=(0,l_.tG)(),r=cY();return o.createElement(o.Fragment,null,o.createElement(na.fu,{name:sR.e0.AI_PROMPT_BUILDER_MODAL,properties:{fileKey:a,modalSource:sC.Wl.NEW_FILE}},o.createElement("div",{className:ep()("ai_modal--modalV2--uHVNF"),"data-testid":"figjam-ai-modal-new-file-v2",ref:r},o.createElement(c2,{onGenerate:e}),!t&&o.createElement(c1,null))),n&&o.createElement(sx.p,null,o.createElement(sM.i1,{targetKey:sM.AI})))}function c1(){let e=(0,W.tS)(),t=(0,s.wA)(),a={rest:{scale:.9},hover:{transition:{duration:.3,ease:"easeInOut"},scale:[.9,1],y:[0,-9,3]}};return o.createElement(na.fu,{name:sR.e0.AI_PROMPT_BUILDER_TEMPLATES_CALLOUT,properties:{fileKey:e}},o.createElement("div",{className:ev.s.flex.justifyCenter.itemsCenter.mt16.mb10.$},o.createElement("div",{className:ep()(ev.s.h2.flex1.$,"ai_modal--hrLeft--trcI7")}),o.createElement("div",{className:ep()(ev.s.relative.px10.py4.font11.colorTextSecondary.fontNormal.$)},(0,k.tx)("whiteboard.ai_modal.or")),o.createElement("div",{className:ep()(ev.s.h2.flex1.$,"ai_modal--hrRight--rxij6")})),o.createElement(sI.P.div,{variants:{hover:{transition:{staggerChildren:.05}}},initial:"rest",whileHover:"hover"},o.createElement(na.$z,{onClick:()=>{t(nA.$O({type:sD.PH.type,data:{triggeredFrom:"aiModal",templateInsertionLocation:ri.RD.CURRENT_FILE}}))},innerText:"start with template",className:ev.s.flex.itemsCenter.justifyCenter.py6.bgTransparent.wFull.$,style:rk.sx.add({height:"42px"}).$},o.createElement("div",null,cZ.map((e,t)=>o.createElement(sI.P.img,{key:e,src:e,alt:(0,k.t)("whiteboard.ai_modal.template_image_alt"),style:rk.sx.add({width:"51px",position:"relative"}).if(1===t,rk.sx.add({width:"44px",top:"-5px",marginLeft:"-26px"})).if(0===t,rk.sx.add({top:"3px"})).if(2===t,rk.sx.add({marginLeft:"-24px",top:"3px"})).$,variants:a}))),o.createElement(sI.P.div,{className:ev.s.flex.itemsCenter.justifyCenter.gap4.$,variants:{rest:{x:0},hover:{transition:{duration:.3,type:"spring"},x:[0,-5,0]}}},o.createElement("div",{className:ep()(ev.s.font13.$,"ai_modal--templateCtaV2--n1GTF")},(0,k.tx)("whiteboard.ai_modal.template_cta")),o.createElement("div",{className:ep()(ev.s.colorIconSecondary.mt2.$)},o.createElement(ts.k,null))))))}function c2({onGenerate:e}){let t=(0,m.md)(sC.zS)===sC.Wl.TOP_BAR,a=(0,m.md)((0,sL.Fu)(sC.Pg));return o.createElement("div",{className:ep()(ev.s.colorBg.flex.pb16.flexColumn.$,eT.Dm,"ai_modal--generateContainerV2--vAeZh",{"ai_modal--boxShadow--Vnbhg":t,"ai_modal--border--WpxWn":!t}),"data-testid":"figjam-ai-modal-content-v2"},a?.status==="loaded"&&!a?.data&&o.createElement(cH,{onGenerate:e}),a?.status==="loaded"&&a?.data&&o.createElement(cz,{onGenerate:e}))}var c5=a(960579),c3=a(49762);let c4="ai-loading-bell";function c6(){return o.createElement(sN,null,o.createElement(c8,null))}function c8(){let e=(0,m.md)(sC.dO),t=(0,s.wA)(),a=(0,c3.um)();return(0,o.useEffect)(()=>{e.status===sZ.c.LOADING?t(_.F.enqueue({message:(0,k.t)("whiteboard.ai_modal.streaming"),icon:c5.zX.SPINNER,type:c4,timeoutOverride:1/0})):t(_.F.dequeue({matchType:c4})),e.status===sZ.c.ERROR&&a(e.errorMessage,c3.ez.GENERATE)},[e,t,a]),null}var c7=a(18840),c9=a(413453),de=a(999538),dt=a(965636),da=a(923219);function dn(e){let[t,a]=(0,dt.lJ)("accessibleLabel"),[n,r]=(0,o.useState)(t),{setIsEditorOpen:l}=e,i=(0,s.wA)(),c=(0,s.d4)(e=>e.userFlags.seen_alt_text_explanation),d=o.useCallback(()=>{!c&&n&&i(V.b({seen_alt_text_explanation:!0}))},[c,n,i]),m=o.useCallback(e=>{r(e.target.value),a(e.target.value)},[r,a]),u=o.useCallback(e=>{"Enter"===e.key&&(l(!1),d())},[l,d]),p=c?"image_description_editor--popup--l-kiW _overlayBase--_overlayBase--Rkj8l":"image_description_editor--popupWithExplanation--0XudB image_description_editor--popup--l-kiW _overlayBase--_overlayBase--Rkj8l";return o.createElement(o.Fragment,null,!c&&o.createElement("div",{className:"image_description_editor--explanation--JK2UL"},(0,k.tx)("whiteboard.inline_menu.image_description_explanation")),o.createElement("div",{className:`${p} ${eT.Dm}`},o.createElement("input",{className:"image_description_editor--input--GzlDz input--darkInput--zfbnG",value:n&&!(0,da.gl)(n)?n:"",onChange:m,onKeyDown:u,onClick:d,placeholder:(0,k.t)("whiteboard.inline_menu.image_description_placeholder"),autoComplete:"off",autoCapitalize:"off",autoFocus:!0})))}var dr=a(5438),dl=a(48451),di=a(32079),ds=a(696306),dc=a(336427),dd=a(596011),dm=a(204326),du=a(99981),dp=a(877857),dE=a(222389),d_=a(496793),dg=a(555351),df=a(236891),dh=a(880261),db=a(771952),dv=a(324608),dT=a(575561),dy=a(274225);let dw="font_family_control--dotOption--dSxZU";var dC=a(162596),dS=a(660422),dI=a(375161),dN=a(612705),dL=a(474571),dO=a(94987),dk=a(581067),dA=a(367499);class dR extends i0.c${}var dx=(e=>(e.SANS_SERIF="sansSerif",e.SERIF="serif",e.MONOSPACE="monospace",e.SCRIPT="script",e))(dx||{});let dM={sansSerif:{getLabel:()=>(0,k.t)("whiteboard.fonts.simple"),fontFamily:"Inter",icon:dS.A},serif:{getLabel:()=>(0,k.t)("whiteboard.fonts.bookish"),fontFamily:"Merriweather",icon:dk.A},monospace:{getLabel:()=>(0,k.t)("whiteboard.fonts.technical"),fontFamily:"Roboto Mono",icon:dI.A},script:{getLabel:()=>(0,k.t)("whiteboard.fonts.cute"),fontFamily:"Figma Hand",icon:dL.A}};function dD(){return new Set(Object.values(dM).map(e=>e.fontFamily))}let dP=e=>Object.values(dM).find(t=>e===t.fontFamily),dF=e=>e.filter(e=>!dD().has(e)).sort((e,t)=>e<t?-1:1).slice(0,5),dB=e=>{if(1!==e.length)return;let t=dP(e[0]);return t?.getLabel()},dH=e=>{if(1!==e.length)return dS.A;let t=dP(e[0]);return t?.icon||dS.A},dU=(e,t)=>{if(t){if(e===dM.monospace.fontFamily)return dN.A;if(e===dM.script.fontFamily)return dO.A;if(e===dM.serif.fontFamily)return dA.A}};function dV({reportWidth:e,value:t,optionProps:a}){let n=o.useRef(null);return o.useLayoutEffect(()=>{let a=n.current;return a&&e(t,a.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e,a.svg]),o.createElement("div",{className:"font_family_control--offscreenMeasurementContainer--owMGS","aria-hidden":!0},o.createElement(dR,{...a,additionalStylesClassName:ep()(a.additionalStylesClassName,"font_family_control--optionForMeasurement--HH-4F"),forwardedRef:n}))}var dW=a(972778),dK=a(851773),dG=a(200482),dj=a(720632),dz=a(803612),dZ=a(415986),d$=a(308518),dY=a(446533);function dX(e){let t=dJ(e);t&&e1.Y5.triggerAction(t)}function dJ(e){switch(e){case"LEFT":return"text-align-left";case"CENTER":return"text-align-center";case"RIGHT":return"text-align-right"}return""}function dQ(e){switch(e){case"LEFT":break;case"CENTER":return dZ.A;case"RIGHT":return dY.A}return d$.A}function dq(e){switch(e){case"TOP":return"text-align-top";case"CENTER":return"text-align-middle";case"BOTTOM":return"text-align-bottom"}return""}function d0(e){switch(e){case"TOP":return dj.A;case"CENTER":break;case"BOTTOM":return dG.A}return dz.A}var d1=a(693137),d2=a(863599),d5=a(620552),d3=a(859877),d4=a(616307);let d6=i0.l6,d8=i0.c$,d7={huge:96,extraLarge:64,large:40,medium:24,small:16},d9=[d7.small,d7.medium,d7.large,d7.extraLarge,d7.huge],me=new Set(d9),mt=e=>e>=d7.extraLarge?40:32,ma=e=>{let t={[d7.huge]:18,[d7.extraLarge]:16,[d7.large]:14,[d7.medium]:13,[d7.small]:12};return(0,d1.p)(t[e],"neg")},mn={omnipresent:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.omnipresent"),maxValue:1/0,minValue:1385},towering:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.towering"),maxValue:1384,minValue:745},mammoth:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.mammoth"),maxValue:744,minValue:377},ginormous:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.ginormous"),maxValue:376,minValue:185},huge:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.huge"),maxValue:d7.huge,minValue:d7.huge},extraLarge:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.extra_large"),maxValue:d7.extraLarge,minValue:d7.extraLarge},large:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.large"),maxValue:d7.large,minValue:d7.large},medium:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.medium"),maxValue:d7.medium,minValue:d7.medium},small:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.small"),maxValue:d7.small,minValue:d7.small},teensy:{getLabel:()=>(0,k.t)("whiteboard.text_sizes.teensy"),maxValue:4,minValue:-1/0}},mr=[...Object.values(mn).map(e=>e.minValue),da.oV],ml={format:e=>{let t=Object.values(mn).find(t=>e>=t.minValue&&e<=t.maxValue);return t?t.getLabel():`${e}`}},mi=e=>e.length>1?e.filter(e=>!me.has(e)).sort((e,t)=>e-t).slice(0,5):[];function mo({reportWidth:e,inputProps:t}){let a=o.useRef(null),n=t.property;return o.useLayoutEffect(()=>{let t=a.current;return t&&e(n,t.getBoundingClientRect().width),()=>e(n,void 0)},[a,n,e]),o.createElement("div",{className:d4.D9,"aria-hidden":!0},o.createElement(i0.uQ,{...t,containerClassName:ep()(t.containerClassName,d4.oO),ref:a}))}function ms({reportWidth:e,value:t,optionProps:a}){let n=o.useRef(null);return o.useLayoutEffect(()=>{let a=n.current;return a&&e(t,a.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e]),o.createElement("div",{className:d4.D9,"aria-hidden":!0},o.createElement(d8,{...a,additionalStylesClassName:ep()(a.additionalStylesClassName,d4.ZS),forwardedRef:n}))}var mc=a(301073);let md=()=>!!(0,s.d4)(mm);function mm(e){let t=e.mirror.sceneGraph,a=Object.keys(e.mirror.sceneGraphSelection);if(1!==a.length)return null;let n=t.get(a[0]);return n&&"SHAPE_WITH_TEXT"===n.type&&n.childrenAreAllGhosts?n:null}function mu(e){let t=Object.keys(e.mirror.sceneGraphSelection);return 1!==t.length?c.gEE.RIGHT:c.qmM.getConnectorCardinalDirection(t[0])}function mp(e){let t=mm(e);if(!t)return null;let a=t.attachedConnectorIDs;if(1!==a.length)return null;let n=e.mirror.sceneGraph,r=n.get(a[0]);if(!r)return null;switch(c.qmM.getQuickAddInteraction()){case c.lMj.DRAG:return r;case c.lMj.CLICK:{let e=n.get(r.connectorStart.endpointNodeID);if(!e)return null;return e}}}function mE(){let e=(0,s.d4)(e=>e.mirror.appModel.hyperlinkLocation),t=(0,as.Um)(),a=(0,m.md)(mc.n),n=t&&t.type===eT.K9,r=(0,s.d4)(e=>e.progressBarState.mode===c.Oin.HIDE_UI),l=(0,s.d4)(e=>e.mirror.selectionProperties.name&&-1!==e.mirror.selectionProperties.name.indexOf("FigJam Stamp Icon")&&e.mirror.selectionProperties.numSelectedByType?.ROUNDED_RECTANGLE===1&&1===e.mirror.selectionProperties.numSelected),i=(0,s.d4)(e=>l||e.mirror.selectionProperties.numSelectedByType?.STAMP===1&&1===e.mirror.selectionProperties.numSelected),o=(0,s.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType?.TABLE,a=e.mirror.selectionProperties.numSelectedByType?.TABLE_CELL;return t&&t>0||a&&a>0}),d=(0,s.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected),p=(0,s.d4)(mm),E=(0,nc.d0)();return!d&&!e&&!r&&(!o||!n)&&!p&&(i&&!u.XN?E:!a)}var m_=a(169253),mg=a(847213),mf=a(570446),mh=a(449741),mb=a(340239),mv=a(562419),mT=a(400834),my=a(137565),mw=a(690893);let mC="whiteboard_transparency--icon--LOJ7P",mS="whiteboard_transparency--separator--t8wmx",mI=tX.wv,mN={[c.A$i.VISIBLE]:"VISIBLE",[c.A$i.TRANSPARENT]:"TRANSPARENT",[c.A$i.TRANSPARENT_CUSTOM]:"TRANSPARENT_CUSTOM",[c.A$i.HIDDEN]:"HIDDEN"},mL={[c.A$i.VISIBLE]:o.createElement(mh.H,null),[c.A$i.TRANSPARENT]:o.createElement(mb.N,null),[c.A$i.TRANSPARENT_CUSTOM]:o.createElement(mb.N,null),[c.A$i.HIDDEN]:o.createElement(mv.a,null)};var mO=(e=>(e[e.NONE=0]="NONE",e[e.CONNECTOR=1]="CONNECTOR",e[e.SHAPE_WITH_TEXT=2]="SHAPE_WITH_TEXT",e[e.PLATFORM_SHAPE=4]="PLATFORM_SHAPE",e[e.ALL=7]="ALL",e))(mO||{});function mk(e,t,a,n,r){2&t&&a(e),1&t&&n(e===c.A$i.HIDDEN),4&t&&r(e)}function mA(){let e=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),t=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),a=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),n=0;if(e&&e>0&&t){let r=t.SHAPE_WITH_TEXT??0,l=t.CONNECTOR??0;r+l+a===e&&(r>0&&(n|=2),l>0&&(n|=1),a>0&&(n|=4))}return n}function mR(e){return 1&e?[c.A$i.VISIBLE,c.A$i.HIDDEN]:2&e||4&e?[c.A$i.VISIBLE,c.A$i.TRANSPARENT,c.A$i.HIDDEN]:[]}function mx(e,t,a,n){if(!((0,da.gl)(a)||(0,da.gl)(t)||(0,da.gl)(n))){let r=a?c.A$i.HIDDEN:c.A$i.VISIBLE,l=t??n??r;if((!(2&e)||l===t)&&(!(4&e)||l===n)&&(!(1&e)||l===r))return l}}let mM=e=>Number(e);function mD(e){return e.toString()}function mP({isColorPopoverOpen:e}){let[t,a]=(0,dt.lJ)("shapeWithTextFillType"),n={[c.A$i.VISIBLE]:(0,k.t)("whiteboard.inline_menu.shape_visibility_visible"),[c.A$i.TRANSPARENT]:(0,k.t)("whiteboard.inline_menu.shape_visibility_transparent"),[c.A$i.TRANSPARENT_CUSTOM]:(0,k.t)("whiteboard.inline_menu.shape_visibility_transparent"),[c.A$i.HIDDEN]:(0,k.t)("whiteboard.inline_menu.shape_visibility_hidden")},[r,l]=(0,dt.lJ)("connectorTextBackgroundTransparent"),[i,s]=(0,dt.lJ)("platformShapeFillType"),d=mA(),m=mR(d),u=mx(d,t,r,i),p=e=>{mk(mM(e),d,a,l,s)};return 1===d?o.createElement(o.Fragment,null,o.createElement(my.D8,{className:"whiteboard_transparency--connectorFillContainer--yUHqE",onPointerUp:e?()=>{l(u!==c.A$i.HIDDEN)}:void 0,role:"button",recordingKey:"connectorTextBackgroundVisibility"},u===c.A$i.HIDDEN?o.createElement(mT.j,{className:mC}):o.createElement(ne._,{className:mC}),o.createElement("div",{className:"whiteboard_transparency--connectorFillText--N-Ydb text--fontNeg12--2PWcg text--_fontBase--QdLsd text--_negText--j9g-L"},(0,k.t)("whiteboard.inline_menu.text_background"))),o.createElement(mI,{className:mS})):o.createElement(o.Fragment,null,o.createElement("div",{className:"whiteboard_transparency--container---6CxE"},o.createElement(mw.b,{value:void 0===u||(0,da.gl)(u)?void 0:mD(u),legend:o.createElement(mf.q,null,(0,k.t)("whiteboard.inline_menu.shape_visibility.legend")),onChange:p,recordingKey:"shapeWithTextFillType"},m.map(t=>{let a=mD(t);return o.createElement(mw.c,{key:e$.Pt("shapeWithTextFillTypeKey",mN[t]),icon:mL[t],value:a,htmlAttributes:{onPointerUp:e?()=>p(a):eg.lQ}},n[t])}))),o.createElement(mI,{className:mS}))}var mF=a(150807),mB=a(970717),mH=a(779099);function mU(){return new Map([["ADD_COLUMN_LEFT",{identifier:"ADD_COLUMN_LEFT",iconImageURL:(0,d.ck)("9400f62ae966871748dbc8fe8bb5db43905451f9"),label:(0,k.t)("fullscreen_actions.add-table-column-before"),style:dE._3.normal}],["ADD_COLUMN_RIGHT",{identifier:"ADD_COLUMN_RIGHT",iconImageURL:(0,d.ck)("a304100b18ea5bc6ac701d1702639b19584f572b"),label:(0,k.t)("fullscreen_actions.add-table-column-after"),style:dE._3.normal}],["ADD_ROW_ABOVE",{identifier:"ADD_ROW_ABOVE",iconImageURL:(0,d.ck)("af73d211189324f341d869dbe6ad31d9293f3b02"),label:(0,k.t)("fullscreen_actions.add-table-row-above"),style:dE._3.normal}],["ADD_ROW_BELOW",{identifier:"ADD_ROW_BELOW",iconImageURL:(0,d.ck)("3ff9e470d8ff8b00bda37a1a7cffbc5cf71f9c50"),label:(0,k.t)("fullscreen_actions.add-table-row-below"),style:dE._3.normal}],["DELETE_CONTENT",{identifier:"DELETE_CONTENT",iconImageURL:(0,d.ck)("fa39374a2621258ff204c8b3d19fabcac205a8bb"),label:(0,k.t)("fullscreen_actions.delete-table-contents"),style:dE._3.normal}],["DELETE_COLUMN",{identifier:"DELETE_COLUMN",iconImageURL:(0,d.ck)("0cdf2f7792c22668c4128463ce1ab2b7daf6cc04"),label:(0,k.t)("fullscreen_actions.delete-current-table-column"),style:dE._3.normal}],["DELETE_ROW",{identifier:"DELETE_ROW",iconImageURL:(0,d.ck)("b7c2f4ee6638f3636435f94e34b112c111c8a000"),label:(0,k.t)("fullscreen_actions.delete-current-table-row"),style:dE._3.normal}],["MOVE_ROW_UP",{identifier:"MOVE_ROW_UP",iconImageURL:(0,d.ck)("76b29748240a680d3c70193da514abf2fd7da3bd"),label:(0,k.t)("fullscreen_actions.move-table-row-up"),style:dE._3.normal}],["MOVE_ROW_DOWN",{identifier:"MOVE_ROW_DOWN",iconImageURL:(0,d.ck)("8a24043471d379715530ceb9a27ee89415e80a4e"),label:(0,k.t)("fullscreen_actions.move-table-row-down"),style:dE._3.normal}],["MOVE_COLUMN_LEFT",{identifier:"MOVE_COLUMN_LEFT",iconImageURL:(0,d.ck)("ced31cac875250517fc43e5503917c727ce83697"),label:(0,k.t)("fullscreen_actions.move-table-column-left"),style:dE._3.normal}],["MOVE_COLUMN_RIGHT",{identifier:"MOVE_COLUMN_RIGHT",iconImageURL:(0,d.ck)("90a6ce44002cb629d48a1152811a25e1f8542e9b"),label:(0,k.t)("fullscreen_actions.move-table-column-right"),style:dE._3.normal}],["ADD_COMMENT",{identifier:"ADD_COMMENT",iconImageURL:(0,d.ck)("ef8e7f34cbdd40b6360bfb68ed73e9435f5df6d3"),label:(0,k.t)("comments.add_a_comment"),style:dE._3.normal}],["CUT",{identifier:"CUT",iconImageURL:(0,d.ck)("4906ac36ad87b2fbc8c1131de33e50ffcd0f931c"),label:(0,k.t)("fullscreen_actions.cut"),style:dE._3.normal}],["COPY",{identifier:"COPY",iconImageURL:(0,d.ck)("a9a157a59bc9bea59323414709220f1aabc8e5b0"),label:(0,k.t)("fullscreen_actions.copy"),style:dE._3.normal}],["PASTE_HERE",{identifier:"PASTE_HERE",iconImageURL:(0,d.ck)("403745040a09ea356a24a823ce8aaa9729275bfc"),label:(0,k.t)("fullscreen_actions.paste"),style:dE._3.normal}],["PASTE_TO_REPLACE",{identifier:"PASTE_TO_REPLACE",iconImageURL:(0,d.ck)("403745040a09ea356a24a823ce8aaa9729275bfc"),label:(0,k.t)("fullscreen_actions.paste-to-replace"),style:dE._3.normal}],["EXPORT_SELECTION",{identifier:"EXPORT_SELECTION",iconImageURL:(0,d.ck)("069e62f3f6d36c863fcaf132b661541bae26f3b4"),label:(0,k.t)("fullscreen.context_menu.export_selection"),style:dE._3.normal}],["BRING_TO_FRONT",{identifier:"BRING_TO_FRONT",iconImageURL:(0,d.ck)("4ea2ce642395384d4e068112439edce0ae6eb308"),label:(0,k.t)("fullscreen_actions.bring-to-front"),style:dE._3.normal}],["SEND_TO_BACK",{identifier:"SEND_TO_BACK",iconImageURL:(0,d.ck)("1cd7645083299efad768ed580af47f6e449f3881"),label:(0,k.t)("fullscreen_actions.send-to-back"),style:dE._3.normal}],["LOCK_UNLOCK",{identifier:"LOCK_UNLOCK",iconImageURL:(0,d.ck)("5b57575766ec6e015d3ad82abdead130f38b51ee"),label:(0,k.t)("fullscreen.context_menu.lock_unlock"),style:dE._3.normal}],["MULTISELECT_MODE",{identifier:"MULTISELECT_MODE",iconImageURL:(0,d.ck)("5142f326fd3191c3bd589944cd9b9f89e70d53b5"),label:(0,k.t)("fullscreen.context_menu.multiselect"),style:dE._3.normal}]])}let mV=new Map([["MOVE_ROW_UP","move-table-row-up"],["MOVE_ROW_DOWN","move-table-row-down"],["MOVE_COLUMN_LEFT","move-table-column-left"],["MOVE_COLUMN_RIGHT","move-table-column-right"],["ADD_COLUMN_LEFT","add-table-column-before"],["ADD_COLUMN_RIGHT","add-table-column-after"],["ADD_ROW_ABOVE","add-table-row-above"],["ADD_ROW_BELOW","add-table-row-below"],["DELETE_CONTENT","delete-table-contents"],["DELETE_COLUMN","delete-current-table-column"],["DELETE_ROW","delete-current-table-row"],["CUT","cut"],["COPY","copy"],["PASTE_HERE","paste-here"],["PASTE_TO_REPLACE","paste-to-replace"],["EXPORT_SELECTION","export-selection-or-current-page"],["BRING_TO_FRONT","bring-to-front"],["SEND_TO_BACK","send-to-back"],["LOCK_UNLOCK","toggle-locked-for-selected-nodes"],["MULTISELECT_MODE","set-tool-multiselect"]]),mW=()=>{let e=(0,s.d4)(e=>e.selectedView),t=(0,s.d4)(e=>e.mirror.appModel),a=(0,s.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected),n=t.showComments&&!!e.commentsEnabled,r=new Set,l=(e,a)=>{(0,mH.Yh)(t,a)&&r.add(e)},i=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);for(let[e,o]of(n&&r.add("ADD_COMMENT"),mV.entries()))switch(e){case"PASTE_TO_REPLACE":case"EXPORT_SELECTION":a||l(e,o);break;case"PASTE_HERE":a&&l(e,o);break;case"LOCK_UNLOCK":i!==c.m1T.RASTER&&l(e,o);break;case"MULTISELECT_MODE":t.currentTool===c.NLJ.HAND_SELECT&&l(e,o);break;default:l(e,o)}return r};var mK=(e=>(e[e.CANVAS=0]="CANVAS",e[e.CONTEXTUAL_TOOLBAR=1]="CONTEXTUAL_TOOLBAR",e))(mK||{});function mG(e,t){let a=mW(),n=[["MOVE_ROW_UP","MOVE_ROW_DOWN","MOVE_COLUMN_LEFT","MOVE_COLUMN_RIGHT"],["ADD_COLUMN_LEFT","ADD_COLUMN_RIGHT"],["ADD_ROW_ABOVE","ADD_ROW_BELOW"],["ADD_COMMENT"],["CUT","COPY","PASTE_HERE","PASTE_TO_REPLACE"],["EXPORT_SELECTION"],["LOCK_UNLOCK"],["BRING_TO_FRONT","SEND_TO_BACK"],["DELETE_CONTENT","DELETE_COLUMN","DELETE_ROW"]];0===t&&n.push(["MULTISELECT_MODE"]);let r=n.map(e=>e.filter(e=>a.has(e))).filter(e=>e.length>0);return{itemStringType:"menu",identifier:e,visibleActionIdentifiers:r,visibleActionGroups:r.map(e=>({actionIdentifiers:e}))}}var mj=a(385447),mz=a(42834);function mZ(){return(0,s.d4)(e=>"UNORDERED_LIST"===e.mirror.selectionProperties.textLineType)}function m$(){return(0,s.d4)(e=>"ORDERED_LIST"===e.mirror.selectionProperties.textLineType)}var mY=a(110694),mX=a(993735),mJ=a(66690),mQ=a(562219);function mq(){return(0,s.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode===c.nzw.SECTION_NAME)}function m0(){let e=mq();return()=>{e?c.glU.hideOnCanvasNameEditor():c.glU.triggerActionInUserEditScope("rename-selection",null)}}var m1=a(240327),m2=a(20620),m5=a(604753),m3=a(828239);function m4(){let e=(0,dt.kl)("whiteboardColor"),t=(0,dt.kl)("whiteboardDividedSwatchColors");return(0,da.gl)(t)?(console.error("whiteboardDividedSwatchColors should never be mixed"),[]):e&&(0,da.hS)(e)?e:t??[]}function m6(){let e=(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),t=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),a=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),n=(0,nJ.R)(e=>e.mirror.appModel.activeCanvasEditModeType),r=(0,s.d4)(e=>Object.keys(e.mirror.sceneGraphSelection).some(t=>{let a=e.mirror.sceneGraph.get(t);return!!a?.textSublayer?.textContent.length}));if(!e)return!1;let l=e.SHAPE_WITH_TEXT??0,i=e.CONNECTOR??0,o=l+i+t===a;return i===a&&(o=(o=r)&&n!==c.m1T.TEXT),o}let m8=["alignLeft","alignHorizontalCenter","alignRight","alignTop","alignVerticalCenter","alignBottom"],m7=new Map([["alignLeft",(0,d.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93")],["alignHorizontalCenter",(0,d.ck)("ec77fcac2bc8db07c26c6e4b4b7258796a458ae9")],["alignRight",(0,d.ck)("224ca896c598305c54981a912de06bc78ddf191f")],["alignTop",(0,d.ck)("f70b64d1b08cb18c6d2afe696d33a6a47580732c")],["alignVerticalCenter",(0,d.ck)("1981f7237279e2b10c0611f022a5f05a1a1aa70b")],["alignBottom",(0,d.ck)("9860241afe3ebb4af6f6e49edeaa68b27ce9b354")]]),m9=m8.map(e=>({itemStringType:"iconAction",identifier:e,flashesOnPress:!1,iconImageURL:m7.get(e)})),ue={itemStringType:"actionSelector",identifier:"ALIGNMENT",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:3,items:m9,pages:[{rowMaxSize:3,items:m9}]}},ut={itemStringType:"actionSelector",identifier:"PENCIL_STROKE",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:d_.yp,pages:[{rowMaxSize:0,items:d_.yp}]},iconImageURLs:[(0,d.ck)("e138358eb8b3a07efda73c406e4c61cc3d9fe6d3")]},ua=d_.xp.slice().reverse(),un={itemStringType:"actionSelector",identifier:"HIGHLIGHTER_STROKE",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:ua,pages:[{rowMaxSize:0,items:ua}]},iconImageURLs:[(0,d.ck)("c1837ca930ad93b0f6cc7e262e425757c34bca44")]},ur=new Map([["alignLeft","align-left"],["alignHorizontalCenter","align-horizontal-center"],["alignRight","align-right"],["alignTop","align-top"],["alignVerticalCenter","align-vertical-center"],["alignBottom","align-bottom"]]);function ul(){let e=m6(),t=mA();return e&&t!==mO.CONNECTOR}let ui=new Map([["WHITEBOARD_COLOR",["base","baseLight"]],["HIGHLIGHT_COLOR",["highlight"]],["STICKY_COLOR",["sticky"]]]),uo=(0,d.ck)("faebe7cf9aae2c9be1f26be56081a6fa4cc09f88"),us=(0,d.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915");var uc=(e=>(e.START="START",e.END="END",e))(uc||{});let ud=["NONE","ARROW","ARROW_FILLED","ARROW_INVERTED","CIRCLE","DIAMOND"],um=new Map([["NONE","ROUND"],["DIAMOND","DIAMOND_FILLED"],["CIRCLE","CIRCLE_FILLED"],["ARROW","ARROW_LINES"],["ARROW_FILLED","ARROW_EQUILATERAL"],["ARROW_INVERTED","TRIANGLE_FILLED"]]),uu=new Map([["ROUND","NONE"],["DIAMOND_FILLED","DIAMOND"],["CIRCLE_FILLED","CIRCLE"],["ARROW_LINES","ARROW"],["ARROW_EQUILATERAL","ARROW_FILLED"],["TRIANGLE_FILLED","ARROW_INVERTED"]]),up=(e,t)=>`CONNECTOR/${e}/${t}`;function uE(e){for(let t in uc){let a=e.split(`CONNECTOR/${t}/`);if(2===a.length)return a[1]}return null}let u_=ud.map(e=>up("START",e)),ug=ud.map(e=>up("END",e));function uf(e){return ud.map(t=>({itemStringType:"iconAction",identifier:up(e,t),flashesOnPress:!1}))}let uh=new Map([["left",new Map([["NONE",(0,d.ck)("7a9930b1e4aca1b5d06c36b00bd2cc64758c5849")],["ARROW",(0,d.ck)("deb5540ae4b6484e3bdb0025b52bf8e71a79391c")],["ARROW_FILLED",(0,d.ck)("fa76c9565eddcf56affd7797c5d393fed72b9028")],["ARROW_INVERTED",(0,d.ck)("2336592069ee1de7da07da2aa881ff85c1c77989")],["CIRCLE",(0,d.ck)("7c285e3fcbace487b65e53e626cc2ad2133e9acd")],["DIAMOND",(0,d.ck)("1ab747ab4697d5f6bf7e5b99160883f70aa4c2a5")]])],["up",new Map([["NONE",(0,d.ck)("157b46536766087af28320f95b2f0c98f71a1032")],["ARROW",(0,d.ck)("8c3280098fe09c5e14d57d507f390c3bae24733a")],["ARROW_FILLED",(0,d.ck)("de8f03cc76289efcb5ae472d7cb53e899a0e8d80")],["ARROW_INVERTED",(0,d.ck)("465e721389b5e2f23116e26869dd90370cb10f2c")],["CIRCLE",(0,d.ck)("eaa032fe2bcf35f92d9276227a0f2ac4f32c7edc")],["DIAMOND",(0,d.ck)("711223c18ed61a1df0e414cc340334133720333d")]])],["right",new Map([["NONE",(0,d.ck)("7a9930b1e4aca1b5d06c36b00bd2cc64758c5849")],["ARROW",(0,d.ck)("53332df23dae692567e44b5c3321d0ec811c23d5")],["ARROW_FILLED",(0,d.ck)("d2d126c19a44a29d01f2c8927ce496c7b4906a5f")],["ARROW_INVERTED",(0,d.ck)("e644ae782ac2d99dccc8684fc8acf0627fe9bce1")],["CIRCLE",(0,d.ck)("b272c1b69833952f3054bc74183ca23bd5d6b288")],["DIAMOND",(0,d.ck)("2959df2f9f7f86724b0dfbdd24718af3742dfb76")]])],["down",new Map([["NONE",(0,d.ck)("157b46536766087af28320f95b2f0c98f71a1032")],["ARROW",(0,d.ck)("31d42fe0be5b036376d289ea121d5a1db20d3bc6")],["ARROW_FILLED",(0,d.ck)("1e60f91397fba49e24f812cc92d52ca98d88e183")],["ARROW_INVERTED",(0,d.ck)("cf37c05e83fc534cfa16a63f2f6eb49b187fdcd3")],["CIRCLE",(0,d.ck)("ce81c97a7610b01854553d55585931d67c48b657")],["DIAMOND",(0,d.ck)("aadf8da4a886c4ddf2950ce9863376fafe05543a")]])]]);function ub(e,t,a){let n=uE(e);if(n)return(0,da.gl)(a)?uh.get("START"===t?"left":"right")?.get(n):uh.get(a)?.get(n)}function uv(){let e=(0,dt.kl)("connectorStartCapForSelection");return uu.get(e)}function uT(){let e=(0,dt.kl)("connectorEndCapForSelection");return uu.get(e)}function uy(e){return{itemStringType:"divider",identifier:`DIVIDER_${e}`,padding:dE.JI.none}}function uw(){return Array(15).fill(0).map((e,t)=>uy(t))}let uC="FONT_FAMILY/",uS=["sansSerif","serif","monospace","script"],uI={sansSerif:{url:(0,d.ck)("af15617d2091d08e7dfdb4b6485a71d5f786f53a"),height:28,width:58},serif:{url:(0,d.ck)("d5d38cc21df531208977d180f40828171ce3d6ba"),height:28,width:70},monospace:{url:(0,d.ck)("21c2519d1eeb90e02169035dc8365f593e652acc"),height:28,width:100},script:{url:(0,d.ck)("4be856c46adce506823c69ea83b054e1e7438b44"),height:28,width:84}};function uN(){return uS.map(e=>{let t=dM[e];return{itemStringType:"textAction",identifier:`${uC}${e}`,text:t.fontFamily,textImage:uI[e]}})}let uL=new Map([["sansSerif",(0,d.ck)("4d90c5e665fa16415b0b261e302696e4c706553a")],["serif",(0,d.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea")],["monospace",(0,d.ck)("a96474304a571c7ef149023afd13beb0c196f764")],["script",(0,d.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]]);function uO(){let e=(0,dt.kl)("whiteboardFontFamilies");if(!(!e||(0,da.gl)(e)))return e}let uk="FONT_SIZE/",uA="FONT_SIZE/CUSTOM",uR=["small","medium","large","extraLarge","huge"];function ux(){let e=uR.map(e=>{let t=mn[e];return{itemStringType:"textAction",identifier:`${uk}${e}`,text:t.getLabel(),decoratorText:t.maxValue.toString()}});return e.push({itemStringType:"textAction",identifier:uA,text:(0,k.t)("whiteboard.text_sizes.custom")}),e}function uM(){let e=(0,dt.kl)("whiteboardFontSizes");if(e&&(0,da.hS)(e))return e}let uD="IMAGE_CROP/";function uP(){return Array.from(dW.Id.keys()).map(e=>({itemStringType:"textAction",identifier:`${uD}${e}`,text:(0,dW.Fk)(e),decoratorText:(0,dW.d4)(e)}))}let uF={itemStringType:"action",identifier:"TIDY_UP",iconImageURL:(0,d.ck)("f2098719f6f91ba59c36128eefa62954357cc185")},uB={itemStringType:"action",identifier:"GROUP_SELECTION",iconImageURL:(0,d.ck)("935d977c723aac4b950cefa8d425248f5517ed37")},uH={itemStringType:"action",identifier:"UNGROUP_SELECTION",iconImageURL:(0,d.ck)("a7761689c8cf9bf64b5d39d85aa780fa8691a1ad")},uU={itemStringType:"action",identifier:"CREATE_SECTION",iconImageURL:(0,d.ck)("c44b2b4e1e45119f431e222606f087169ce2f6bd")};function uV(){return{identifier:"AI_SUMMARIZE",label:(0,k.t)("whiteboard.inline_menu.ai_quick_actions_summarize_button"),iconImageURL:(0,d.ck)("1d27a05c1b24aba212490339088465fe5f599e4c"),style:dE._3.normal}}function uW(){return{identifier:"AI_SORT",label:(0,k.t)("whiteboard.inline_menu.ai_quick_actions_sort_stickies_button"),iconImageURL:(0,d.ck)("56fafc9be0e983648b1b6daee4136bc0897aed21"),style:dE._3.normal}}function uK(){return{identifier:"AI_LEARN_MORE",label:(0,k.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_disclaimer_cta"),iconImageURL:null,style:dE._3.normal}}function uG(){let e=[uK()];return e.push(uW()),e.push(uV()),{itemStringType:"menu",identifier:"AI_QUICK_ACTIONS",iconImageURL:(0,d.ck)("a5413bcebea4f5328627303644667c40a97cd319"),items:e}}let uj={itemStringType:"action",identifier:"DUPLICATE",iconImageURL:(0,d.ck)("0f15e280ad450f4edef016319dfacd32c00de40b")},uz={itemStringType:"action",identifier:"DELETE",iconImageURL:(0,d.ck)("947de7441fdaeb98b831a6dbaa025489abccba86"),isDestructive:!0},uZ={itemStringType:"action",identifier:"UNLOCK",iconImageURL:(0,d.ck)("abeca90f50320b169ca8b8430eaff2026dda30e7")};function u$(){let e=[...uh.values()].map(e=>[...e.values()]).flatMap(e=>{let t=[];return e.forEach(e=>{t.push(e)}),t}),t=uw().map(e=>[e.identifier,e]),a=[{itemStringType:"palette",identifier:"paletteWhiteboardColor",rowMaxSize:6,swatches:(0,d_.bE)((0,d_.LK)("WHITEBOARD_COLOR"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_COLOR",padding:dE.JI.none,axis:dE.Vq.vertical},{itemStringType:"iconAction",identifier:"fillTypeVisible",iconImageURL:(0,d.ck)("bdf989a007b1d459bbad4949c595ecadbbad5d88"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeTransparent",iconImageURL:(0,d.ck)("fd9dfdbcf1ded21e76e0f013c8b3c4c2ade59591"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeHidden",iconImageURL:(0,d.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1}],n=[{itemStringType:"iconAction",identifier:"whiteboardStrokeSolid",iconImageURL:(0,d.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeDashed",iconImageURL:(0,d.ck)("1592518d3124a6b186044c3843d78f58f3424693"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeNone",iconImageURL:(0,d.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",padding:dE.JI.none,axis:dE.Vq.horizontal},{itemStringType:"iconAction",identifier:"whiteboardStrokeThin",iconImageURL:(0,d.ck)("f45e43941c4deb776804efc35fe840177a275bf7"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeThick",iconImageURL:(0,d.ck)("89047150eaa941f24465aa324fa11dbb8b68be25"),flashesOnPress:!1}],r=[{itemStringType:"palette",identifier:"paletteHighlightColor",rowMaxSize:0,swatches:(0,d_.bE)((0,d_.LK)("HIGHLIGHTER"),!1,"base")}],l=[{itemStringType:"palette",identifier:"paletteWashiTapePattern",rowMaxSize:0,swatches:(0,d_.MC)(d_.FC,!0)}],i=[{itemStringType:"palette",identifier:"paletteStickyColor",rowMaxSize:0,swatches:(0,d_.bE)((0,d_.LK)("STICKY"),!1,"base")}],o=uN(),s=ux(),c=[{itemStringType:"iconAction",identifier:"textAlignLeft",iconImageURL:(0,d.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignCenter",iconImageURL:(0,d.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignRight",iconImageURL:(0,d.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d"),flashesOnPress:!1}],m=uf(uc.START),u=uf(uc.END),p=[{itemStringType:"iconAction",identifier:"connectorLineElbowed",iconImageURL:uo,flashesOnPress:!1},{itemStringType:"iconAction",identifier:"connectorLineStraight",iconImageURL:us,flashesOnPress:!1}],E=uP(),_=[{itemStringType:"slider",requiredFields:["sliderStyle"],identifier:"imageCropSlider",start:1,numIntervals:21,step:.1,axis:dE.B9.horizontal,sliderStyle:dE.Pi.base},{itemStringType:"iconAction",identifier:"imageRotate",iconImageURL:(0,d.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_IMAGE_CONTROLS",padding:dE.JI.none,axis:dE.Vq.horizontal},{itemStringType:"actionSelector",identifier:"imageCropPresets",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:1,items:E,pages:[{rowMaxSize:1,items:E}]}}],g=new Map([...t,["WHITEBOARD_COLOR",{itemStringType:"paletteSelector",identifier:"WHITEBOARD_COLOR",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:a,pages:[{rowMaxSize:0,items:a}]}}],["HIGHLIGHT_COLOR",{itemStringType:"paletteSelector",identifier:"HIGHLIGHT_COLOR",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:r,pages:[{rowMaxSize:0,items:r}]}}],["WASHI_TAPE_PATTERN",{itemStringType:"paletteSelector",identifier:"WASHI_TAPE_PATTERN",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:l,pages:[{rowMaxSize:0,items:l}]}}],["STICKY_COLOR",{itemStringType:"paletteSelector",identifier:"STICKY_COLOR",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:i,pages:[{rowMaxSize:0,items:i}]}}],["WHITEBOARD_SHAPE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_SHAPE",submenu:{position:dE.pf.pinnedToFloatingBar,items:d_.zD,rowMaxSize:4,pages:d_.p6},iconImageURLs:[(0,d.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")]}],["WHITEBOARD_STROKE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_STROKE",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:n,pages:[{rowMaxSize:0,items:n}]},iconImageURLs:[(0,d.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")]}],["RESIZE_TO_FIT",{itemStringType:"action",identifier:"RESIZE_TO_FIT",iconImageURL:(0,d.ck)("067c607fa0b1963d525c2fed4f3855551ff8dbc2")}],["FONT_FAMILY",{itemStringType:"actionSelector",identifier:"FONT_FAMILY",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:1,items:o,pages:[{rowMaxSize:1,items:o}]},iconImageURLs:[(0,d.ck)("4d90c5e665fa16415b0b261e302696e4c706553a"),(0,d.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea"),(0,d.ck)("e74fba46bfc5460a15ef53aebcfa25949c2efadf"),(0,d.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]}],["WHITEBOARD_TEXT_STYLE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_TEXT_STYLE",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:1,items:s,pages:[{rowMaxSize:1,items:s}]}}],["TEXT_DECORATION_BOLD",{itemStringType:"action",identifier:"TEXT_DECORATION_BOLD",iconImageURL:(0,d.ck)("2e55e848e932e04b2a3ec12256f1407f1749c7cf")}],["TEXT_DECORATION_STRIKETHROUGH",{itemStringType:"action",identifier:"TEXT_DECORATION_STRIKETHROUGH",iconImageURL:(0,d.ck)("db2a6ade78f8c64674af80577ac698c4d1768ef0")}],["ORDERED_LIST",{itemStringType:"action",identifier:"ORDERED_LIST",iconImageURL:(0,d.ck)("64097c5924bf0f3d41682f3809419ad50c8410e3")}],["UNORDERED_LIST",{itemStringType:"action",identifier:"UNORDERED_LIST",iconImageURL:(0,d.ck)("1c66cc53230fac0242092543577d33e3c4b9391c")}],["TEXT_ALIGN",{itemStringType:"actionSelector",identifier:"TEXT_ALIGN",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:c,pages:[{rowMaxSize:0,items:c}]}}],["CONNECTOR_START_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_START_CAP",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:3,items:m,pages:[{rowMaxSize:3,items:m}]},iconImageURLs:e}],["CONNECTOR_END_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_END_CAP",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:3,items:u,pages:[{rowMaxSize:3,items:u}]}}],["CONNECTOR_LINE_STYLE",{itemStringType:"actionSelector",identifier:"CONNECTOR_LINE_STYLE",submenu:{position:dE.pf.pinnedToFloatingBar,rowMaxSize:0,items:p,pages:[{rowMaxSize:0,items:p}]}}],["ADD_CONNECTOR_TEXT",{itemStringType:"action",identifier:"ADD_CONNECTOR_TEXT",iconImageURL:(0,d.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337")}],["REPLACE_IMAGE",{itemStringType:"imageSelector",identifier:"REPLACE_IMAGE",iconImageURL:(0,d.ck)("986c5dae8611db9ff3268f71c8983362678e83ca")}],["IMAGE_BORDER",{itemStringType:"action",identifier:"IMAGE_BORDER",iconImageURL:(0,d.ck)("3b6787676a2d47080de10be6b12a32e6582c2207")}],["SECTION_SHOW_HIDE",{itemStringType:"action",identifier:"SECTION_SHOW_HIDE"}],["SECTION_RENAME",{itemStringType:"action",identifier:"SECTION_RENAME",iconImageURL:(0,d.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")}],["EMBED_OPEN_EXTERNAL",{itemStringType:"action",identifier:"EMBED_OPEN_EXTERNAL",iconImageURL:(0,d.ck)("359a1a130090b203d422ea8f6df24c78ef36c0db")}],["EMBED_CONVERT_TO_TEXT",{itemStringType:"action",identifier:"EMBED_CONVERT_TO_TEXT",iconImageURL:(0,d.ck)("e2b50062892be8eafdce7b788a47861d514ec2d6")}],["HYPERLINK",{itemStringType:"action",identifier:"HYPERLINK",iconImageURL:(0,d.ck)("a7e495e823feb85770faae7cd178747af064f1b3")}],["AUTHOR_VISIBILITY",{itemStringType:"action",identifier:"AUTHOR_VISIBILITY",iconImageURL:(0,d.ck)("675ac35ac57109af8724ac5735f1d592763fe78f")}],["ALIGNMENT",ue],["TIDY_UP",uF],["GROUP_SELECTION",uB],["UNGROUP_SELECTION",uH],["CREATE_SECTION",uU],["DUPLICATE",uj],["MENU",{itemStringType:"menu",identifier:"MENU",iconImageURL:(0,d.ck)("d60a6c532647557aa1a222446779c8c8b7a8e74e"),items:[...mU().values()]}],["DELETE",uz],["UNLOCK",uZ],["PENCIL_STROKE",ut],["HIGHLIGHTER_STROKE",un],["IMAGE_CONTROLS",{itemStringType:"actionSelector",identifier:"IMAGE_CONTROLS",iconImageURLs:[(0,d.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),(0,d.ck)("4bec08abeba0aaba641629d741396842f7f72790")],submenu:{requiredFields:["dismissal","webNotificationOnOpen","webNotificationOnClose"],position:dE.pf.pinnedToFloatingBar,dismissal:dE.$x.persistent,webNotificationOnOpen:dE._E.enterCropMode,webNotificationOnClose:dE._E.exitCropMode,items:_,rowMaxSize:0,pages:[{rowMaxSize:0,items:_}]}}]]);return(0,d.kc)().figjam_synthesize_handbrake||g.set("AI_QUICK_ACTIONS",uG()),g}function uY(){let e=[...uh.values()].map(e=>[...e.values()]).flatMap(e=>{let t=[];return e.forEach(e=>{t.push(e)}),t}),t=new Map([...uw().map(e=>[e.identifier,e]),["WHITEBOARD_COLOR",{itemStringType:"paletteSelector",identifier:"WHITEBOARD_COLOR",submenu:{shouldCenterAlignItems:c.Ez5?.uiState().showUI3Colors.getCopy()??!1,position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteWhiteboardColor",rowMaxSize:c.Ez5?.uiState().showUI3Colors.getCopy()?8:6,swatches:(0,d_.bE)((0,d_.LK)("WHITEBOARD_COLOR"),!0,"base")},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_COLOR",padding:dE.JI.none,axis:dE.Vq.vertical},{itemStringType:"iconAction",identifier:"fillTypeVisible",iconImageURL:(0,d.ck)("bdf989a007b1d459bbad4949c595ecadbbad5d88"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeTransparent",iconImageURL:(0,d.ck)("fd9dfdbcf1ded21e76e0f013c8b3c4c2ade59591"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"fillTypeHidden",iconImageURL:(0,d.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1}]}]}}],["HIGHLIGHT_COLOR",{itemStringType:"paletteSelector",identifier:"HIGHLIGHT_COLOR",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteHighlightColor",rowMaxSize:0,swatches:(0,d_.bE)((0,d_.LK)("HIGHLIGHTER"),!1,"base")}]}]}}],["WASHI_TAPE_PATTERN",{itemStringType:"paletteSelector",identifier:"WASHI_TAPE_PATTERN",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteWashiTapePattern",rowMaxSize:0,swatches:(0,d_.MC)(d_.FC,!0)}]}]}}],["STICKY_COLOR",{itemStringType:"paletteSelector",identifier:"STICKY_COLOR",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"palette",identifier:"paletteStickyColor",rowMaxSize:0,swatches:(0,d_.bE)((0,d_.LK)("STICKY"),!1,"base")}]}]}}],["WHITEBOARD_SHAPE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_SHAPE",submenu:{position:dE.pf.pinnedToFloatingBar,pages:d_.p6},iconImageURLs:[(0,d.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")]}],["WHITEBOARD_STROKE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_STROKE",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"whiteboardStrokeSolid",iconImageURL:(0,d.ck)("d355d0f21e8416bbdcae9f46430642c6b59cc915"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeDashed",iconImageURL:(0,d.ck)("1592518d3124a6b186044c3843d78f58f3424693"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeNone",iconImageURL:(0,d.ck)("f907f6942bab5d553b95bd448a1b30b4eb54733d"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",padding:dE.JI.none,axis:dE.Vq.horizontal},{itemStringType:"iconAction",identifier:"whiteboardStrokeThin",iconImageURL:(0,d.ck)("f45e43941c4deb776804efc35fe840177a275bf7"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"whiteboardStrokeThick",iconImageURL:(0,d.ck)("89047150eaa941f24465aa324fa11dbb8b68be25"),flashesOnPress:!1}]}]},iconImageURLs:[(0,d.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")]}],["RESIZE_TO_FIT",{itemStringType:"action",identifier:"RESIZE_TO_FIT",iconImageURL:(0,d.ck)("067c607fa0b1963d525c2fed4f3855551ff8dbc2")}],["FONT_FAMILY",{itemStringType:"actionSelector",identifier:"FONT_FAMILY",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:uN()}]},iconImageURLs:[(0,d.ck)("4d90c5e665fa16415b0b261e302696e4c706553a"),(0,d.ck)("14457d0d904ce9c5c570f9557fc760a18cde12ea"),(0,d.ck)("e74fba46bfc5460a15ef53aebcfa25949c2efadf"),(0,d.ck)("6e257bdd5a3789fd0013eb9611f503d44b1c4a56")]}],["WHITEBOARD_TEXT_STYLE",{itemStringType:"actionSelector",identifier:"WHITEBOARD_TEXT_STYLE",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:ux()}]}}],["TEXT_DECORATION_BOLD",{itemStringType:"action",identifier:"TEXT_DECORATION_BOLD",iconImageURL:(0,d.ck)("2e55e848e932e04b2a3ec12256f1407f1749c7cf")}],["TEXT_DECORATION_STRIKETHROUGH",{itemStringType:"action",identifier:"TEXT_DECORATION_STRIKETHROUGH",iconImageURL:(0,d.ck)("db2a6ade78f8c64674af80577ac698c4d1768ef0")}],["ORDERED_LIST",{itemStringType:"action",identifier:"ORDERED_LIST",iconImageURL:(0,d.ck)("64097c5924bf0f3d41682f3809419ad50c8410e3")}],["UNORDERED_LIST",{itemStringType:"action",identifier:"UNORDERED_LIST",iconImageURL:(0,d.ck)("1c66cc53230fac0242092543577d33e3c4b9391c")}],["TEXT_ALIGN",{itemStringType:"actionSelector",identifier:"TEXT_ALIGN",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"textAlignLeft",iconImageURL:(0,d.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignCenter",iconImageURL:(0,d.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb"),flashesOnPress:!1},{itemStringType:"iconAction",identifier:"textAlignRight",iconImageURL:(0,d.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d"),flashesOnPress:!1}]}]}}],["CONNECTOR_START_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_START_CAP",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:3,items:uf(uc.START)}]},iconImageURLs:e}],["CONNECTOR_END_CAP",{itemStringType:"actionSelector",identifier:"CONNECTOR_END_CAP",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:3,items:uf(uc.END)}]}}],["CONNECTOR_LINE_STYLE",{itemStringType:"actionSelector",identifier:"CONNECTOR_LINE_STYLE",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:0,items:[{itemStringType:"iconAction",identifier:"connectorLineElbowed",iconImageURL:uo,flashesOnPress:!1},{itemStringType:"iconAction",identifier:"connectorLineStraight",iconImageURL:us,flashesOnPress:!1}]}]}}],["ADD_CONNECTOR_TEXT",{itemStringType:"action",identifier:"ADD_CONNECTOR_TEXT",iconImageURL:(0,d.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337")}],["REPLACE_IMAGE",{itemStringType:"imageSelector",identifier:"REPLACE_IMAGE",iconImageURL:(0,d.ck)("986c5dae8611db9ff3268f71c8983362678e83ca")}],["IMAGE_BORDER",{itemStringType:"action",identifier:"IMAGE_BORDER",iconImageURL:(0,d.ck)("3b6787676a2d47080de10be6b12a32e6582c2207")}],["SECTION_SHOW_HIDE",{itemStringType:"action",identifier:"SECTION_SHOW_HIDE"}],["SECTION_RENAME",{itemStringType:"action",identifier:"SECTION_RENAME",iconImageURL:(0,d.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")}],["EMBED_OPEN_EXTERNAL",{itemStringType:"action",identifier:"EMBED_OPEN_EXTERNAL",iconImageURL:(0,d.ck)("359a1a130090b203d422ea8f6df24c78ef36c0db")}],["EMBED_CONVERT_TO_TEXT",{itemStringType:"action",identifier:"EMBED_CONVERT_TO_TEXT",iconImageURL:(0,d.ck)("e2b50062892be8eafdce7b788a47861d514ec2d6")}],["HYPERLINK",{itemStringType:"action",identifier:"HYPERLINK",iconImageURL:(0,d.ck)("a7e495e823feb85770faae7cd178747af064f1b3")}],["AUTHOR_VISIBILITY",{itemStringType:"action",identifier:"AUTHOR_VISIBILITY",iconImageURL:(0,d.ck)("675ac35ac57109af8724ac5735f1d592763fe78f")}],["ALIGNMENT",ue],["TIDY_UP",uF],["GROUP_SELECTION",uB],["UNGROUP_SELECTION",uH],["CREATE_SECTION",uU],["DUPLICATE",uj],["MENU",{itemStringType:"menu",identifier:"MENU",iconImageURL:(0,d.ck)("d60a6c532647557aa1a222446779c8c8b7a8e74e"),items:[...mU().values()]}],["DELETE",uz],["UNLOCK",uZ],["PENCIL_STROKE",ut],["HIGHLIGHTER_STROKE",un],["IMAGE_CONTROLS",{itemStringType:"actionSelector",identifier:"IMAGE_CONTROLS",iconImageURLs:[(0,d.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),(0,d.ck)("4bec08abeba0aaba641629d741396842f7f72790")],submenu:{position:dE.pf.pinnedToFloatingBar,dismissal:dE.$x.persistent,webNotificationOnOpen:dE._E.enterCropMode,webNotificationOnClose:dE._E.exitCropMode,pages:[{rowMaxSize:0,items:[{itemStringType:"slider",identifier:"imageCropSlider",start:1,numIntervals:21,step:.1,axis:dE.B9.horizontal,sliderStyle:dE.Pi.base},{itemStringType:"iconAction",identifier:"imageRotate",iconImageURL:(0,d.ck)("4e36f7828b150be693cb78641b249e20cadd0af8"),flashesOnPress:!1},{itemStringType:"divider",identifier:"DIVIDER_IMAGE_CONTROLS",padding:dE.JI.none,axis:dE.Vq.horizontal},{itemStringType:"actionSelector",identifier:"imageCropPresets",submenu:{position:dE.pf.pinnedToFloatingBar,pages:[{rowMaxSize:1,items:uP()}]}}]}]}}]]);return(0,d.kc)().figjam_synthesize_handbrake||t.set("AI_QUICK_ACTIONS",uG()),t}var uX=a(511611),uJ=a(103785),uQ=a(70260),uq=a(354909),u0=a(835918),u1=a(794445);function u2(){return o.createElement(dT.K0,{tooltip:"ungroup-selection",tooltipType:e2.Ib.LOOKUP,svg:u1.A,onClick:()=>e1.Y5.triggerActionInUserEditScope("ungroup-selection"),recordingKey:"ungroupSelection"})}function u5(){return(0,s.d4)(e=>{let t=e.mirror.selectionProperties.numSelectedByType;return(0,mH.Yh)(e.mirror.appModel,"ungroup-selection")&&t&&(0,u0.OU)(t,["FRAME","GROUP"])})}var u3=a(935882),u4=a(786072);function u6(){let e=(0,dt.kl)("washiTapePaint"),t=o.useMemo(()=>!e||(0,da.gl)(e)?null:(0,u3.dG)("fillPaints",e),[e]),a=t?.data,n=a&&a.length>0?a[0]:void 0,r=e=>!!e;return[o.useMemo(()=>(a??[]).map(e=>{if(e?.type!=="IMAGE"||!e?.image?.hash)return;let t=(0,uX.nj)(e.image.hash);return mB.B.find(e=>e.image===t)||{image:t,name:"w-custom",label:"Custom"}}).filter(r),[a]),n]}function u8({recordingKey:e}){let[t,a]=u6(),n=(0,dt.kl)("washiTapePaintIsMixed"),r=1===t.length?t[0]:t,[l,i]=o.useState(!1),[s,d]=o.useState(!1);o.useEffect(()=>{i(!1)},[a]);let m=()=>{e1.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.STROKE,indices:[0]}}),c.glU.uploadPaintImage("NORMAL",1)},u=o.useMemo(()=>(0,db.g)(),[]),p=o.useMemo(()=>(0,db.g)(),[]),E=o.useMemo(()=>(0,m3.Wj)(mB.B.length+1,(0,k.t)("whiteboard.inline_menu.washi_tape_pattern"),u),[u]),_=e=>o.createElement("div",{id:p,className:ep()({[u4.H]:e}),"aria-label":(0,k.t)("whiteboard.washi_tapes.custom"),role:"option","aria-selected":e},!Array.isArray(r)&&mB.B.includes(r)?o.createElement(m3.HL,{value:m3.WW,swatchStyle:{fill:"rgba(255, 255, 255, 1)",boxShadow:"0px 0px 0px 1px rgba(255, 255, 255, 0.6) inset"},onPointerUp:m,tooltip:(0,k.t)("whiteboard.washi_tapes.custom"),fallbackSvg:m3.xY}):o.createElement(m3.YR,{imagePaint:a,background:"dark",size:"medium",selectionState:"selected",hovered:l,onPointerUp:m,onMouseEnter:()=>{i(!0)},onMouseLeave:()=>{i(!1)}}));return o.createElement(dy.Fn,{value:r,onChange:e=>{(0,mF.Cs)((0,mF.M8)(e),c.zkO.USER)},options:mB.B,renderOption:({value:t,onClick:a,id:r,isSelected:l,isFocused:i})=>o.createElement("div",{id:r,"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,mB.M)(t),"data-tooltip-show-above":!0,key:t.name,className:ep()({[u4.H]:i}),"aria-label":(0,mB.M)(t),role:"option","aria-selected":i,tabIndex:-1},o.createElement(m3.cg,{value:(0,mF.M8)(t),onPointerUp:e=>{s&&a(e)},selectionState:!n&&l?"selected":"unselected",recordingKey:(0,e$.Pt)(e,"washiTapePatternSelectorOption",t.name)})),renderButton:({value:t,ref:n,onClick:r,onKeyDown:l,active:i,activeOptionId:s})=>o.createElement(dT.$n,{onPointerDown:r,caret:"down",active:i?"NORMAL":"NONE",recordingKey:(0,e$.Pt)(e,"washiTapePatternSelectorButton"),tooltip:Array.isArray(t)?(0,k.t)("whiteboard.delightful_toolbar.mixed"):(0,mB.M)(t),onKeyDown:l,ariaActiveDescendant:s,ariaControls:u,ariaLabel:(0,k.t)("whiteboard.inline_menu.washi_tape_pattern_selector_label",{currentPattern:(0,mB.M)(t).toLocaleLowerCase()}),role:"combobox"},!Array.isArray(t)&&mB.B.includes(t)?o.createElement(m3.cg,{size:"small",value:(0,mF.M8)(t),ref:n}):o.createElement(m3.YR,{imagePaint:a,background:"dark",size:"small",ref:n})),optionEquality:(e,t)=>!(Array.isArray(e)||Array.isArray(t))&&e.image===t.image,OptionWrapper:E,additionalOptionId:p,additionalOptions:(e=!1)=>_(e),additionalOptionOnChange:m,onToggleMenuOpen:d})}var u7=a(171327),u9=a(219403);function pe(e,t){return{itemStringType:e.itemStringType,identifier:e.identifier,isActive:t}}function pt({item:e,submenuActionEnabledMap:t,submenuActionActiveMap:a,toolbarPaletteSelectionsMap:n,startCapDirection:r,endCapDirection:l,customWhiteboardFontSize:i,strokeOpacity:o,strokeColor:s,imageScale:c}){let m=[],u=e.submenu.pages?e.submenu.pages?.flatMap(e=>e.items):e.submenu.items;return u&&(u=u.flatMap(e=>"itemGroupWithFallbacks"===e.itemStringType?e.options.flatMap(e=>e):e)).forEach(u=>{switch(u.itemStringType){case"iconAction":m.push(pa({submenuItem:u,submenuActionEnabledMap:t,submenuActionActiveMap:a,startCapDirection:r,endCapDirection:l}));break;case"textAction":m.push(pn({submenuItem:u,submenuActionEnabledMap:t,submenuActionActiveMap:a,customWhiteboardFontSize:i}));break;case"palette":if(n){let t=n.get(e.identifier);t&&m.push(t)}break;case"divider":switch(e.identifier){case"WHITEBOARD_COLOR":{let e=!!t.get("fillTypeVisible")||!!t.get("fillTypeTransparent")||!!t.get("fillTypeHidden");m.push({itemStringType:"divider",identifier:u.identifier,isVisible:e});break}case"WHITEBOARD_STROKE":{let e=(!!t.get("whiteboardStrokeSolid")||!!t.get("whiteboardStrokeDashed")||!!t.get("whiteboardStrokeNone"))&&(!!t.get("whiteboardStrokeThin")||!!t.get("whiteboardStrokeThick"));m.push({itemStringType:"divider",identifier:"DIVIDER_WHITEBOARD_STROKE",isVisible:e});break}case"PENCIL_STROKE":{let e=!1;d_.E5.forEach((a,n)=>{t.get(n)&&(e=!0)});let a=!!t.get("CONTEXTUAL_PENCIL_OPACITY")&&e;m.push({itemStringType:"divider",identifier:u.identifier,isVisible:a});break}case"IMAGE_CONTROLS":m.push({itemStringType:"divider",identifier:u.identifier,isVisible:!0})}break;case"slider":switch(e.identifier){case"PENCIL_STROKE":if(o&&s){let e=(0,da.gl)(o)?1:o,a=(0,da.gl)(s)?{r:0,g:0,b:0,a:1}:s;m.push({itemStringType:"slider",identifier:u.identifier,isVisible:!!t.get(u.identifier),color:a,value:e})}break;case"IMAGE_CONTROLS":m.push({itemStringType:"slider",identifier:u.identifier,isVisible:!!t.get(u.identifier),color:{r:56/255,g:56/255,b:56/255,a:1},value:c??1})}break;case"actionSelector":m.push({itemStringType:"actionSelector",identifier:u.identifier,iconImageURL:(0,d.ck)("4bec08abeba0aaba641629d741396842f7f72790"),submenuItemStates:pt({item:u,submenuActionEnabledMap:t,submenuActionActiveMap:a})})}}),m}let pa=({submenuItem:e,submenuActionEnabledMap:t,submenuActionActiveMap:a,startCapDirection:n,endCapDirection:r})=>{let l={itemStringType:"iconAction",identifier:e.identifier,isActive:a.get(e.identifier)??!1,isVisible:t.get(e.identifier)??!1},i=u_.includes(e.identifier),o=ug.includes(e.identifier);return i&&(l.iconImageURL=ub(e.identifier,uc.START,n)),o&&(l.iconImageURL=ub(e.identifier,uc.END,r)),l},pn=({submenuItem:e,submenuActionEnabledMap:t,submenuActionActiveMap:a,customWhiteboardFontSize:n})=>{let r={itemStringType:"textAction",identifier:e.identifier,isActive:a.get(e.identifier)??!1,isVisible:t.get(e.identifier)??!1};return e.identifier===uA&&n&&(r.decoratorText=n.toString()),r};var pr=a(147742),pl=a(937679);let pi=()=>{let e=(0,v.rN)();if(e&&e.nativeContextualToolbarSupportedVersions){let t=e.nativeContextualToolbarSupportedVersions.min,a=e.nativeContextualToolbarSupportedVersions.max,n=dE.MY.MIN,r=dE.MY.MAX;if(n<=a&&t<=r)return Math.min(a,r)}},po=()=>({version:dE.MY.V5,identifier:"CONTEXTUAL",items:Array.from(u$().values())}),ps=()=>({version:dE.MY.V6,identifier:"CONTEXTUAL",items:Array.from(uY().values())}),pc=(e,t)=>{let a=function(){let e=m$();return new Map([[c.Tcr.RESIZE_TO_FIT,["RESIZE_TO_FIT"]],[c.Tcr.TEXT_DECORATION,["TEXT_DECORATION_BOLD","TEXT_DECORATION_STRIKETHROUGH"]],[c.Tcr.WHITEBOARD_COLOR,["WHITEBOARD_COLOR"]],[c.Tcr.HIGHLIGHT_COLOR,["HIGHLIGHT_COLOR"]],[c.Tcr.STICKY_COLOR,["STICKY_COLOR"]],[c.Tcr.WASHI_TAPE_PATTERN,["WASHI_TAPE_PATTERN"]],[c.Tcr.IMAGE,["REPLACE_IMAGE","IMAGE_CONTROLS"]],[c.Tcr.BORDER,["IMAGE_BORDER"]],[c.Tcr.WHITEBOARD_SHAPE,["WHITEBOARD_SHAPE"]],[c.Tcr.WHITEBOARD_STROKE,["WHITEBOARD_STROKE","PENCIL_STROKE","HIGHLIGHTER_STROKE"]],[c.Tcr.FONT_FAMILY,["FONT_FAMILY"]],[c.Tcr.WHITEBOARD_TEXT_STYLE,["WHITEBOARD_TEXT_STYLE"]],[c.Tcr.TEXT_ALIGN_H,["TEXT_ALIGN"]],[c.Tcr.BULLETED_LIST,[e?"ORDERED_LIST":"UNORDERED_LIST"]],[c.Tcr.CONNECTOR_START_CAP,["CONNECTOR_START_CAP"]],[c.Tcr.CONNECTOR_END_CAP,["CONNECTOR_END_CAP"]],[c.Tcr.CONNECTOR_LINE_STYLE,["CONNECTOR_LINE_STYLE"]],[c.Tcr.ADD_TEXT,["ADD_CONNECTOR_TEXT"]],[c.Tcr.SECTION_SHOW_HIDE,["SECTION_SHOW_HIDE"]],[c.Tcr.SECTION_RENAME,["SECTION_RENAME"]],[c.Tcr.EMBED_OPEN_EXTERNAL,["EMBED_OPEN_EXTERNAL"]],[c.Tcr.EMBED_CONVERT_TO_TEXT,["EMBED_CONVERT_TO_TEXT"]],[c.Tcr.HYPERLINK,["HYPERLINK"]],[c.Tcr.AUTHOR_VISIBILITY,["AUTHOR_VISIBILITY"]],[c.Tcr.DIVIDER,["DIVIDER"]]])}(),n=function(){let e=(0,p.q8)(),t=(0,uQ.V)(),a=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType);return new Map([["TIDY_UP",(0,de.Zr)("tidy-up")],["GROUP_SELECTION",(0,de.Zr)("group-selection")],["UNGROUP_SELECTION",u5()??!1],["CREATE_SECTION",(0,de.Zr)("create-section-from-selection")],["ALIGNMENT",(0,de.Zr)("align-top")&&a!==c.m1T.RASTER],["AI_QUICK_ACTIONS",!e&&t]])}(),r=function(){let e=(0,dt.kl)("imageHasNoStroke"),t=(0,dt.kl)("sectionContentsHidden"),a=(0,s.d4)(e=>e.mirror.appModel.onCanvasNameEditorInfo.mode===c.nzw.SECTION_NAME),n=(0,w.J2)(c.Ez5.editorState().selectionIsHyperlink),r=(0,dt.kl)("authorVisibility");return new Map([["TEXT_DECORATION_BOLD",(0,s.d4)(e=>(0,uq.N)(e.mirror.selectionProperties.fontStyle?.toString()||""))],["TEXT_DECORATION_STRIKETHROUGH",(0,s.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration)],["ORDERED_LIST",m$()],["UNORDERED_LIST",mZ()],["IMAGE_BORDER",!1===e],["SECTION_SHOW_HIDE",!0===t],["SECTION_RENAME",a],["HYPERLINK",!0===n],["AUTHOR_VISIBILITY",!0===r]])}(),l=function(){let e=(0,dt.kl)("sectionContentsHidden"),t=(0,dt.kl)("name"),a=!t||""===t.trim();return new Map([["SECTION_SHOW_HIDE",e?(0,d.ck)("4bd0b77f61f3fb82ef05fd310b8e2687b869c06a"):(0,d.ck)("84b3f8771f16c5ea90e5d8274335a9ba095035af")],["SECTION_RENAME",a?(0,d.ck)("88f9ce67669812647d9c63f5efc7a1c5d2524337"):(0,d.ck)("9900d0f2ba10afd0b725938bcdbd81b642b9f473")]])}(),i=function(){let e=(0,dt.kl)("whiteboardColor"),t=m4(),[a,n]=u6(),r=new Map;[["WHITEBOARD_COLOR","paletteWhiteboardColor"],["HIGHLIGHT_COLOR","paletteHighlightColor"],["STICKY_COLOR","paletteStickyColor"]].forEach(([a,n])=>{let l=()=>{r.set(a,{itemStringType:"palette",paletteIdentifier:n,selectionType:dE.Ud.customColor,colors:Array.isArray(t)?t:[t]})};if(null==e||(0,da.gl)(e))l();else{let t=ui.get(a)?.map(t=>u9.zS(e,t)),i=t?.find(e=>e!==c.daH.CUSTOM)??c.daH.CUSTOM;i!==c.daH.CUSTOM?r.set(a,{itemStringType:"palette",paletteIdentifier:n,selectionType:dE.Ud.presetColor,presetIdentifier:u9.sE.get(i),color:e}):l()}});let l=a[0],i=n?.imageThumbnail?.hash;return 1===a.length&&mB.B.includes(l)?r.set("WASHI_TAPE_PATTERN",{itemStringType:"palette",paletteIdentifier:"paletteWashiTapePattern",selectionType:dE.Ud.presetImage,presetIdentifier:l.name}):n?.type==="IMAGE"&&i&&r.set("WASHI_TAPE_PATTERN",{itemStringType:"palette",paletteIdentifier:"paletteWashiTapePattern",selectionType:dE.Ud.customImage,imageIdentifier:(0,uX.nj)(i)}),r}(),o=function(){let e;switch((0,dt.kl)("whiteboardTextAlignHorizontal")){case"CENTER":e=(0,d.ck)("d229c1db5d7709c1242ee4743c6ccf918e955dbb");break;case"LEFT":default:e=(0,d.ck)("ffa1896c3a7c5ebb5a9faca54ab4b262d625d113");break;case"RIGHT":e=(0,d.ck)("e1b765fa3f0498e863004a473d9afd59791fa85d")}let t=(0,dt.kl)("connectorStartCapDirection"),a=(0,dt.kl)("connectorEndCapDirection"),n=uv(),r=uT(),l=(0,dt.kl)("connectorLineStyleForSelection"),i=uO(),o=Object.keys(dM).find(e=>{let t=dM[e];if(void 0!==i)return i[0]===t.fontFamily});return new Map([["WHITEBOARD_SHAPE",(0,d.ck)("d8365bd2d17cecaa713c289f051114fdf6590505")],["WHITEBOARD_STROKE",(0,d.ck)("7f22083a673f802cfe0bddda8f70e81b4c45240a")],["PENCIL_STROKE",(0,d.ck)("e138358eb8b3a07efda73c406e4c61cc3d9fe6d3")],["HIGHLIGHTER_STROKE",(0,d.ck)("c1837ca930ad93b0f6cc7e262e425757c34bca44")],["TEXT_ALIGN",e],["CONNECTOR_START_CAP",uh.get(t)?.get(n)??(0,d.ck)("deb5540ae4b6484e3bdb0025b52bf8e71a79391c")],["CONNECTOR_END_CAP",uh.get(a)?.get(r)??(0,d.ck)("53332df23dae692567e44b5c3321d0ec811c23d5")],["CONNECTOR_LINE_STYLE","STRAIGHT"===l?us:uo],["ALIGNMENT",(0,d.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93")],["FONT_FAMILY",uL.get(o)??(0,d.ck)("4d90c5e665fa16415b0b261e302696e4c706553a")],["IMAGE_CONTROLS",(0,d.ck)("24060631afd5e4b0d2e5ace6f05f016f79b67f2b")]])}(),m=function(){let e=uM(),t=(0,k.t)("whiteboard.text_sizes.custom");if(e&&e.length>0){let a=e[0];if(e.length>1)t=(0,k.t)("whiteboard.inline_menu.font_size_mixed");else{let e=ux().find(e=>{let t=e.identifier.substring(uk.length);return t in mn&&mn[t].maxValue===a});e&&(t=e.text)}}return new Map([["WHITEBOARD_TEXT_STYLE",t]])}(),u=function(){let e=(0,u7.w5)(),t=(0,u7.tA)(),a=(0,u7.XH)(),n=(0,uJ.I9)(),r=n?.every(e=>e?.type==="VECTOR")??!1,l=n?.every(e=>e?.type==="HIGHLIGHT")??!1;return new Map([["WHITEBOARD_STROKE",t||a],["PENCIL_STROKE",e&&r],["HIGHLIGHTER_STROKE",e&&l]])}(),E=(0,U.MZ)(),_=pm(!1,E),g=(0,dt.kl)("locked"),f=function(){let e=ul(),t=mR(mA()),a=(0,u7.w5)(),n=(0,u7.tA)(),r=(0,u7.XH)(),l=function(){let e=[];for(let t in uc)ud.forEach(a=>{e.push([up(t,a),!0])});return e}(),i=m8.map(e=>[e,!0]),o=uN().map(e=>[e.identifier,!0]),s=function(){let e=uM();return ux().map(t=>{if(t.identifier===uA){if(!e||0===e.length)return[t.identifier,!1];let a=e.some(e=>!d9.includes(e));return[t.identifier,a]}return[t.identifier,!0]})}(),d=function(){let e=(0,dW.Uq)();return uP().map(t=>"CIRCLE"===t.identifier?[t.identifier,e]:[t.identifier,!0])}(),m=new Map([["fillTypeVisible",e&&t.includes(c.A$i.VISIBLE)],["fillTypeTransparent",e&&t.includes(c.A$i.TRANSPARENT)],["fillTypeHidden",e&&t.includes(c.A$i.HIDDEN)],["whiteboardStrokeSolid",n],["whiteboardStrokeDashed",n],["whiteboardStrokeNone",r],["whiteboardStrokeThin",a],["whiteboardStrokeThick",a],["textAlignLeft",!0],["textAlignCenter",!0],["textAlignRight",!0],...l,["connectorLineStraight",!0],["connectorLineElbowed",!0],["imageCropSlider",!0],["imageRotate",!0],...i,...o,...s,...d,["CONTEXTUAL_PENCIL_OPACITY",!0]]);return d_.E5.forEach((e,t)=>{m.set(t,a)}),d_.tj.forEach((e,t)=>{m.set(t,a)}),d_.p6.forEach(e=>{e.items.forEach(e=>{m.set(e.identifier,!0)})}),m}(),h=function(){let e=(0,dt.kl)("shapeWithTextFillType"),t=(0,dt.kl)("connectorTextBackgroundTransparent"),a=(0,dt.kl)("platformShapeFillType"),n=ul(),r=mx(mA(),e,t,a),l=(0,dt.kl)("whiteboardStrokeStyle"),i=(0,dt.kl)("whiteboardStrokeWeight"),o=(0,dt.kl)("whiteboardTextAlignHorizontal"),s=function(){let e=uv(),t=uT(),a=[];for(let n in uc){let r="START"===n?e:t;ud.forEach(e=>{a.push([up(n,e),r===e])})}return a}(),d=(0,dt.kl)("connectorLineStyleForSelection"),m=m8.map(e=>[e,!1]),u=function(){let e=uO();return uN().map(t=>{let a=t.identifier.substring(uC.length);return[t.identifier,e?.includes(dM[a].fontFamily)??!1]})}(),p=function(){let e=uM();return ux().map(t=>{if(t.identifier===uA)return[t.identifier,!0];{let a=t.identifier.substring(uk.length),n=!1;return a in mn&&(n=e?.includes(mn[a].maxValue)??!1),[t.identifier,n]}})}(),E=function(){let e=(0,dW.Mv)();return uP().map(t=>[t.identifier,t.identifier===`${uD}${e}`])}(),_=(0,u7.eX)("VECTOR"),g=(0,u7.eX)("HIGHLIGHT"),f=(0,e3.Ru)(i??0,_?"VECTOR":g?"HIGHLIGHT":"NONE"),h=new Map([["fillTypeVisible",n&&r===c.A$i.VISIBLE],["fillTypeTransparent",n&&r===c.A$i.TRANSPARENT],["fillTypeHidden",n&&r===c.A$i.HIDDEN],["whiteboardStrokeSolid","solid"===l],["whiteboardStrokeDashed","dashed"===l],["whiteboardStrokeNone","none"===l],["whiteboardStrokeThin","THIN"===f],["whiteboardStrokeThick","THICK"===f],["textAlignLeft","LEFT"===o],["textAlignCenter","CENTER"===o],["textAlignRight","RIGHT"===o],...s,["connectorLineStraight","STRAIGHT"===d],["connectorLineElbowed","ELBOWED"===d],...m,...u,...p,...E]);d_.E5.forEach((e,t)=>{h.set(t,i===e)}),d_.tj.forEach((e,t)=>{h.set(t,i===e)});let b=(0,dt.kl)("shapeWithTextTypeForSelection");return d_.p6.forEach(e=>{e.items.forEach(e=>{h.set(e.identifier,e.identifier===b)})}),h}(),b=mG("MENU",mK.CONTEXTUAL_TOOLBAR),v=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),T=(0,dt.kl)("connectorStartCapDirection"),y=(0,dt.kl)("connectorEndCapDirection"),C=uM(),S=(0,dt.kl)("opacity"),I=(0,dt.kl)("whiteboardColor"),N=(0,dW.nB)(),L=function(){let e=(0,uQ.v1)(),t=(0,uQ.cF)(),a=[];return(e&&a.push(uW().identifier),t&&a.push(uV().identifier),a.length)?{itemStringType:"menu",identifier:uG().identifier,visibleActionIdentifiers:[],visibleActionGroups:[{title:(0,k.t)("whiteboard.inline_menu.ai_quick_actions_dropdown_mobile_disclaimer"),actionIdentifiers:a},{actionIdentifiers:[uK().identifier]}],requiredFields:["visibleActionGroups"]}:null}(),O=0,A=()=>{let e=uy(O);return O++,e};if(void 0===e)return null;if(g)return{version:e,identifier:"CONTEXTUAL",itemStates:[pe(uZ,!1)],anchorPoints:_,id:E};let R=[];if(t)for(let n of t)a.get(n)?.map(t=>{if("DIVIDER"===t)return A();switch(e){case dE.MY.V5:return u$().get(t);case dE.MY.V6:return uY().get(t)}}).filter(e=>!!e).flatMap(e=>"itemGroupWithFallbacks"===e.itemStringType?e.options.flatMap(e=>e):e).forEach(e=>{switch(e.itemStringType){case"action":let t=e.identifier;R.push({itemStringType:"action",identifier:t,isActive:r.get(t)??!1,iconImageURL:l.get(t)});return;case"paletteSelector":let a=pt({item:e,submenuActionEnabledMap:f,submenuActionActiveMap:h,toolbarPaletteSelectionsMap:i});R.push({itemStringType:"paletteSelector",identifier:e.identifier,submenuItemStates:a});return;case"actionSelector":let n=e.identifier;if(!(u.get(n)??!0))return;let s=pt({item:e,submenuActionEnabledMap:f,submenuActionActiveMap:h,startCapDirection:T,endCapDirection:y,customWhiteboardFontSize:C?.find(e=>Object.values(mn).every(t=>t.maxValue!==e)),strokeOpacity:S,strokeColor:I,imageScale:N});R.push({itemStringType:"actionSelector",identifier:e.identifier,submenuItemStates:s,iconImageURL:o.get(n),label:m.get(n)});return;case"imageSelector":v!==c.m1T.RASTER&&R.push(e);return;case"divider":R.length>0&&"divider"!==R[R.length-1].itemStringType&&R.push(e);return}});return n.get("ALIGNMENT")&&R.push({itemStringType:"actionSelector",identifier:"ALIGNMENT",iconImageURL:(0,d.ck)("01f4cc9eee24ffbf868d0a33aaaf8e82033a5d93"),submenuItemStates:pt({item:ue,submenuActionEnabledMap:f,submenuActionActiveMap:h})}),n.get("TIDY_UP")&&R.push(pe(uF,!1)),n.get("GROUP_SELECTION")&&R.push(pe(uB,!1)),n.get("UNGROUP_SELECTION")&&R.push(pe(uH,!1)),n.get("CREATE_SECTION")&&R.push(pe(uU,!1)),n.get("AI_QUICK_ACTIONS")&&L&&R.push(L),R.length&&"divider"!==R[R.length-1].itemStringType&&R.push(A()),R.push(pe(uj,!1)),R.push(b),R.push(pe(uz,!1)),{version:e,identifier:"CONTEXTUAL",itemStates:R,anchorPoints:_,id:E}};function pd({displayStateRef:e,anchorPointsStateRef:t}){let a=(0,v.rN)(),n=pc(pi(),(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardControls));return!n||(0,dl.c2)(n.itemStates,e.current?.itemStates)&&(0,dl.c2)({...n.anchorPoints,displayStateId:null},{...e.current?.anchorPoints,displayStateId:null})||(a?.nativeContextualToolbarUpdateDisplayState?.(n),e.current=n),o.createElement(pu,{anchorPointsStateRef:t,displayStateId:e.current?.id})}let pm=(e,t)=>{let a=mE(),n=(0,w.J2)(c.Ez5.canvasViewState().selectionBoundingRect),r=(0,w.J2)(c.Ez5.canvasViewState().inlineMenuTarget),l=r?.boundingBox||n,i=(0,dp.v2)(),d=(0,A._X)({subscribeToUpdates_expensive:e}),u=(0,A.Yb)(d,l),p=(0,s.d4)(({mirror:{appModel:e}})=>[c.QOV.DEFAULT,c.QOV.SELECTING_TEXT].includes(e.activeUserAction)),E=(0,dd.WC)(),_=(0,dd.T$)(),g=(0,s.d4)(e=>e.universalInsertModal),f=(0,dd.wi)(),h=(0,s.d4)(e=>"NOT_PINNED"!==e.universalInsertModal.pinned),b=!!(0,m.md)(du.ph),v=!!(0,m.md)(O.LQ),T=(0,s.d4)(({mirror:{appModel:e}})=>e.showUi),y=(0,dm._)(),C=o.useRef({}),S=(0,s.d4)(e=>e.mirror.sceneGraphSelection),I=o.useRef(null),N=(0,s.d4)(e=>e.mirror.appModel.activeCanvasEditModeType),L=N===c.m1T.RASTER,k=I.current===c.m1T.RASTER,R=Object.keys(S),x=Object.keys(C.current),M=!(R.length===x.length&&x.every(e=>R.includes(e)));if(C.current=S,I.current=N,!t)return null;let D=new ds.M(g.initialX,g.initialY),P=new ds.M(rr.gR,rr.zo),F=new ds.M(u.x,u.y),B=new ds.M(u.width,u.height),H=h&&new di.r(D,P).containsIncludingBoundary(new di.r(F,B));if(u.y+u.height<=(!T&&!(0,ei.Dz)()||(0,ei.Dz)()?(0,pr.VA)():0)+y||!(0,A.ZT)(u,d)||!a||!p||H||l.x===1/0||l.y===1/0||E||_||f&&!h||b||v)return null;let U=(0,pr.j5)(),V=T?0:U,W={x:l.x+l.width/2,y:l.y},K=(0,A.Z0)(d,W),G={x:K.x,y:K.y+U-i-V},j={x:l.x+l.width/2,y:l.y+l.height},z=(0,A.Z0)(d,j);return{above:G,below:{x:z.x,y:z.y+U+i-V},displayStateId:t,selectionChanged:M,shouldResetToolbar:k&&!L||M}};function pu({anchorPointsStateRef:e,displayStateId:t}){let a=pm(!0,t),n=(0,v.rN)(),r=(0,o.useRef)(!1),l=o.useCallback(()=>{n?.nativeContextualToolbarUpdateAnchorPoints&&t&&!(0,dl.c2)(e.current,a)&&(n.nativeContextualToolbarUpdateAnchorPoints(a),e.current=a)},[a,e,t,n]),i=(0,eE.A)(()=>{l(),r.current=!1},100),s=(0,A._X)({subscribeToUpdates_expensive:!1}),c=(0,dc.ZC)(s.y),d=s.y!==c;return o.useEffect(()=>{d?(r.current=!0,i()):r.current||l()},[i,l,d]),null}let pp=()=>{let e=(0,w.J2)(c.Ez5.canvasViewState().selectionBoundingRect),t=(0,w.J2)(c.Ez5.canvasViewState().inlineMenuTarget),a=t?.boundingBox||e,n=(0,A._X)({subscribeToUpdates_expensive:!0});if(a.x===1/0||a.y===1/0)return null;let r={x:a.x+a.width/2,y:a.y+a.height/2};return(0,A.Z0)(n,r)};function pE(e){let t=(0,v.BI)(),a=pp(),{commentPosition:n,setShouldAddComment:r}=e,l=10*Math.random(),i=10*Math.random(),s=a?{x:a.x+l,y:a.y+i}:null,c=n??s;if(c){let{x:e,y:a}=c;t?.requestToAddDraftCommentPin?.({x:Math.round(e),y:Math.round(a),width:32*1.15,height:32*1.15})}return o.useEffect(()=>{r(!1)},[r]),o.createElement(o.Fragment,null)}function p_(e){let{contextMenuPosition:t,setShouldUpdateMenu:a}=e,n=(0,v.rN)(),r=pi(),l=mG("MENU",mK.CANVAS);return r&&n?.nativeContextualToolbarUpdateMenuState?.({version:r,menuState:l,position:t}),o.useEffect(()=>{a(!1)},[a]),o.createElement(o.Fragment,null)}let pg=e=>{if(void 0!==e)switch(e){case dE.MY.V5:return po();case dE.MY.V6:return ps();default:(0,t$.xb)(e)}};function pf(){let e=(0,v.kM)(),t=function(){let e=(0,dW.Xb)(),[t,a]=(0,dt.lJ)("sectionContentsHidden"),n=m0(),r=(0,mX.f)(),l=(0,mY.o)(c.zkO.USER),[i,o]=(0,dt.lJ)("authorVisibility");return new Map([["TEXT_DECORATION_BOLD",()=>(0,si.Jm)("toggle-bold")],["TEXT_DECORATION_STRIKETHROUGH",()=>(0,si.Jm)("text-toggle-strikethrough")],["TIDY_UP",()=>(0,si.Jm)("tidy-up")],["CREATE_SECTION",()=>(0,si.Jm)("create-section-from-selection")],["GROUP_SELECTION",()=>(0,si.Jm)("group-selection")],["UNGROUP_SELECTION",()=>(0,si.Jm)("ungroup-selection")],["RESIZE_TO_FIT",()=>(0,si.Jm)("resize-to-fit")],["DUPLICATE",()=>{(0,si.Jm)("leave-edit-mode"),(0,si.Jm)("duplicate-in-place")}],["DELETE",()=>{(0,si.Jm)("leave-edit-mode"),(0,si.Jm)("delete-selection")}],["UNLOCK",()=>(0,si.Jm)("unlock-selected-nodes")],["ORDERED_LIST",()=>(0,si.Jm)("text-toggle-ordered-list")],["UNORDERED_LIST",()=>(0,si.Jm)("text-toggle-unordered-list")],["IMAGE_BORDER",()=>e()],["SECTION_SHOW_HIDE",()=>a(!t)],["SECTION_RENAME",()=>n()],["EMBED_OPEN_EXTERNAL",()=>r()],["EMBED_CONVERT_TO_TEXT",()=>l()],["HYPERLINK",()=>e1.Y5.triggerAction("text-edit-hyperlink")],["AUTHOR_VISIBILITY",()=>o(!i)],["ADD_CONNECTOR_TEXT",()=>(0,si.Jm)("add-connector-text")]])}();o.useEffect(()=>{e&&(e._native_contextual_toolbar_perform_action=e=>{t.get(e)?.()})},[t,e]);let a=mA(),n=(0,dt.A5)("shapeWithTextTypeForSelection"),r=(0,dt.A5)("shapeWithTextFillType"),l=(0,dt.A5)("connectorTextBackgroundTransparent"),i=(0,dt.A5)("platformShapeFillType"),d=(0,dt.A5)("whiteboardStrokeStyle"),m=(0,dt.A5)("whiteboardStrokeWeight"),u=(0,dt.A5)("connectorStartCapForSelection"),p=(0,dt.A5)("connectorEndCapForSelection"),E=(0,dt.A5)("connectorLineStyleForSelection"),_=(0,dt.A5)("whiteboardFontFamilies"),g=(0,dt.A5)("whiteboardFontSizes"),f=(0,dW.te)();o.useEffect(()=>{e&&(e._native_contextual_toolbar_activate_submenu_item=e=>{var t=e;switch(d_.U9.includes(e)?t="SHAPE_NAME":u_.includes(e)?t="START_CAP_TYPE":ug.includes(e)?t="END_CAP_TYPE":m8.includes(e)?t="ALIGNMENT":e.startsWith(uC)?t="FONT_FAMILY":e.startsWith(uk)?t="FONT_SIZE":e.startsWith(uD)?t="IMAGE_CROP":d_.k.includes(e)?t="HIGHLIGHTER_STROKE_WIDTH":d_.X4.includes(e)&&(t="PENCIL_STROKE_WIDTH"),t){case"fillTypeVisible":mk(c.A$i.VISIBLE,a,r,l,i);break;case"fillTypeTransparent":mk(c.A$i.TRANSPARENT,a,r,l,i);break;case"fillTypeHidden":mk(c.A$i.HIDDEN,a,r,l,i);break;case"whiteboardStrokeSolid":d("solid");break;case"whiteboardStrokeDashed":d("dashed");break;case"whiteboardStrokeNone":d("none");break;case"whiteboardStrokeThin":m(m_.wv);break;case"whiteboardStrokeThick":m(m_.uM);break;case"PENCIL_STROKE_WIDTH":{let t=d_.E5.get(e);t&&m(t);break}case"HIGHLIGHTER_STROKE_WIDTH":{let t=d_.tj.get(e);t&&m(t);break}case"textAlignLeft":dX("LEFT");break;case"textAlignCenter":dX("CENTER");break;case"textAlignRight":dX("RIGHT");break;case"connectorLineStraight":E("STRAIGHT");break;case"connectorLineElbowed":E("ELBOWED");break;case"START_CAP_TYPE":let o=uE(e),s=null!=o?um.get(o):null;s&&u(s);break;case"END_CAP_TYPE":let h=uE(e),b=null!=h?um.get(h):null;b&&p(b);break;case"SHAPE_NAME":n(e);break;case"ALIGNMENT":let v=ur.get(e);v&&(0,si.Jm)(v);break;case"FONT_FAMILY":let T=e.substring(uC.length);T in dM&&_([dM[T].fontFamily]);break;case"FONT_SIZE":let y=e.substring(uk.length);uR.includes(y)&&g([mn[y].maxValue]);break;case"IMAGE_CROP":let w=e.substring(uD.length);w&&dW.Id.has(w)&&(e1.Y5.triggerActionInUserEditScope("crop-image"),f?.(w));break;case"imageRotate":e1.Y5.triggerActionInUserEditScope("rotate-image-90-clockwise")}})},[e,a,E,l,p,f,i,n,r,u,d,m,_,g]);let h=function(){let e=new Map;return e.set("WHITEBOARD_COLOR",new Map((0,d_.LK)("WHITEBOARD_COLOR").map(([e,t])=>[t,e]))),e.set("HIGHLIGHT_COLOR",new Map((0,d_.LK)("HIGHLIGHTER").map(([e,t])=>[t,e]))),e.set("STICKY_COLOR",new Map((0,d_.LK)("STICKY").map(([e,t])=>[t,e]))),e}(),b=(0,dt.A5)("whiteboardColor");o.useEffect(()=>{e&&(e._native_toolbar_set_palette_color=(e,t)=>{b(t)},e._native_toolbar_set_palette_preset=(e,t)=>{if("WASHI_TAPE_PATTERN"===e){let e=mB.B.find(e=>e.name===t);e&&(0,mF.Cs)((0,mF.M8)(e),c.zkO.USER);return}let a=h.get(e)?.get(t);a&&b(a)},e._native_toolbar_set_palette_image_data=(e,t,a)=>{if("WASHI_TAPE_PATTERN"===e){let e=(0,rh.Vs)(a);e1.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.STROKE,indices:[0]}}),c.glU.setCustomWashiTapeImageFromFile(e)}})},[h,e,b]);let T=(0,mg.j)();o.useEffect(()=>{e&&(e._native_toolbar_set_image_selector_data=(e,t,a)=>{if("REPLACE_IMAGE"!==e||!T)return;let{paint:n,paintIndex:r}=T,l=(0,rh.Vs)(a);e1.Y5.updateAppModel({currentSelectedProperty:{type:c.rrT.FILL,indices:[r]}});let i=n.blendMode||"NORMAL",o=n.opacity||1;c.glU.replaceImageFromFile({data:l,mimeType:t,name:"File"},i,o)})},[T,e]);let[y,w]=(0,o.useState)({x:0,y:0}),[C,S]=(0,o.useState)(!1),[I,N]=(0,o.useState)(null),[L,O]=(0,o.useState)(!1),k=(0,dg.dA)(),A=mG("MENU",mK.CANVAS),R=pi();o.useEffect(()=>{R&&e&&(e._native_contextual_toolbar_get_canvas_context_menu_state=()=>({version:R,menuState:A,position:y}))},[y,A,e,R]),o.useEffect(()=>{e&&(e._native_contextual_toolbar_perform_menu_action=(e,t,a)=>{switch(e){case"MENU":(0,si.Jm)("set-tool-default");let n=mV.get(t);n?(0,si.Jm)(n):"ADD_COMMENT"===t&&(N(a),O(!0));break;case"AI_QUICK_ACTIONS":switch(t){case"AI_SUMMARIZE":k({type:dg.Ay.SUMMARIZE,enabled:!0});break;case"AI_SORT":k({type:dg.Ay.CLUSTER,enabled:!0});break;case"AI_LEARN_MORE":cv.Ay.unsafeRedirect(dg.nG,"_blank")}}},e._native_contextual_toolbar_request_menu_items=e=>{w(e),S(!0)})},[e,k]);let x=(0,s.d4)(({mirror:{appModel:e}})=>e.activeUserAction===c.QOV.RESIZING);o.useEffect(()=>{e&&(e._native_contextual_toolbar_web_notification=e=>{switch(e){case"enterCropMode":e1.Y5.triggerActionInUserEditScope("crop-image");break;case"exitCropMode":x||(0,si.Jm)("leave-edit-mode")}})},[e,x]);let M=(0,o.useRef)(null),D=(0,o.useRef)(null),P=(0,s.d4)(e=>e.mirror.appModel.isReadOnly);return o.createElement(o.Fragment,null,P?null:o.createElement(pd,{displayStateRef:M,anchorPointsStateRef:D}),C?o.createElement(p_,{contextMenuPosition:y,setShouldUpdateMenu:S}):null,L?o.createElement(pE,{commentPosition:I,setShouldAddComment:O}):null)}let ph="animated_lock_svg--active--fHnjO",pb={duration:500,fill:"forwards"},pv={duration:250,fill:"forwards"};var pT=(e=>(e[e.LOCKED=0]="LOCKED",e[e.UNLOCKED=1]="UNLOCKED",e))(pT||{});function py(e){return e.map(e=>new Animation(e,document.timeline))}function pw(e,t){let[a,n]=o.useState([]),[r,l]=o.useState([]),i=o.useRef(null),s=o.useRef(null);o.useLayoutEffect(()=>{n(py([new KeyframeEffect(i.current,[{transform:"translateY(2px)",offset:0,easing:"linear"},{transform:"translateY(3px)",offset:.4,easing:"ease-out"},{transform:"translateY(4px)",offset:.6,easing:"ease-out"},{transform:"translateY(0px)",offset:1}],pb),new KeyframeEffect(i.current,[{strokeDashoffset:-2,offset:0,easing:"linear"},{strokeDashoffset:-2,offset:.4,easing:"ease-out"},{strokeDashoffset:-2,offset:.6,easing:"ease-out"},{strokeDashoffset:0,offset:1}],pb),new KeyframeEffect(s.current,[{transform:"translateY(0px)",offset:0,easing:"linear"},{transform:"translateY(1px)",offset:.4,easing:"ease-out"},{transform:"translateY(1px)",offset:.6,easing:"ease-out"},{transform:"translateY(0px)",offset:1}],pb)])),l(py([new KeyframeEffect(i.current,[{transform:"translateY(0px)",offset:0,easing:"ease-out"},{transform:"translateY(2px)",offset:1}],pv),new KeyframeEffect(i.current,[{strokeDashoffset:0,offset:0,easing:"ease-out"},{strokeDashoffset:-2,offset:1}],pv)]))},[n,l]);let c=o.useCallback(e=>{e.forEach(e=>{e.playbackRate=1,e.play()})},[]),d=o.useCallback(e=>{e.forEach(e=>{e.cancel()})},[]);return{unlockAnimation:()=>{d(r),c(a)},lockAnimation:()=>{d(a),c(r)},AnimatedLockSvg:o.createElement("svg",{className:"animated_lock_svg--lockSvg--vBUvA",width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("rect",{className:ep()("animated_lock_svg--lockBody--h8eXF",{[ph]:t}),x:"14.5",y:"18.5",width:"11",height:"7",ref:s}),o.createElement("path",{className:ep()("animated_lock_svg--lockShackle--Zaieb",{[ph]:t,"animated_lock_svg--locked--eN8B-":0===e}),d:"M23.5 18V15C23.5 13.067 21.933 11.5 20 11.5V11.5C18.067 11.5 16.5 13.067 16.5 15L16.5 16",ref:i}))}}var pC=a(164199),pS=a(794074);function pI(e){let{lockAnimation:t,unlockAnimation:a,AnimatedLockSvg:n}=pw(pT.LOCKED);return e.shouldAnimateOnHover?o.createElement(dT.$n,{tooltip:(0,k.t)("whiteboard.inline_menu.unlock"),onClick:()=>e1.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlockV2",onMouseEnter:a,onMouseLeave:t,testId:"unlock-control-v2",buttonStyle:{padding:"0px"}},n):o.createElement(dT.K0,{svg:pS.A,tooltip:(0,k.t)("whiteboard.inline_menu.unlock"),onClick:()=>e1.Y5.triggerActionInUserEditScope("unlock-selected-nodes"),recordingKey:"unlock",testId:"unlock-control",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}})}class pN extends i0.c${}var pL=(e=>(e.LOCK_ALL="lock_all",e.LOCK_SECTION_BACKGROUND_ONLY="lock_section_background_only",e))(pL||{});let pO=["lock_all","lock_section_background_only"],pk=()=>({lock_all:(0,k.t)("whiteboard.inline_menu.lock_all"),lock_section_background_only:(0,k.t)("whiteboard.inline_menu.lock_background_only")});function pA(){let[e,t]=o.useState([]),[a,n]=o.useState(!1),[r,l]=o.useState(!1),i=o.useRef(null),s=o.useRef(null),c=o.useRef(null),{lockAnimation:d,unlockAnimation:m,AnimatedLockSvg:u}=pw(pT.LOCKED,r),p=(c.current?.getBoundingClientRect().width||0)+40;o.useLayoutEffect(()=>{t([new KeyframeEffect(s.current,[{maxWidth:"40px"},{maxWidth:`${p}px`}],{duration:200,fill:"forwards",easing:"ease-out"}),new KeyframeEffect(c.current,[{opacity:"0"},{opacity:"1"}],{duration:200,fill:"forwards"})].map(e=>new Animation(e,document.timeline)))},[p]);let E=o.useCallback(e=>{e.forEach(e=>{e.playbackRate=1,e.play()})},[]);return o.createElement(eJ.E,{className:"lock_control--buttonWrapper--Xlvr9",onClick:()=>{a?e1.Y5.triggerActionInUserEditScope("unlock-selected-nodes"):(n(!0),E(e))},ref:i,htmlAttributes:{onMouseEnter:()=>{m(),l(!0)},onMouseLeave:()=>{d(),l(!1)},"data-tooltip-type":a?void 0:"text","data-tooltip":a?void 0:(0,k.t)("whiteboard.inline_menu.unlock"),"data-testid":"unlock-with-friction-control"},recordingKey:"unlock-with-friction-control","aria-label":a?void 0:(0,k.t)("whiteboard.inline_menu.unlock")},o.createElement("div",{className:"lock_control--button--XGLsY",ref:s},u,o.createElement("span",{className:"lock_control--text--YFFB- text--fontNeg11--StdFq text--_fontBase--QdLsd text--_negText--j9g-L",ref:c},(0,k.tx)("whiteboard.inline_menu.click_again_to_unlock"))))}function pR({reportWidth:e,value:t,optionProps:a}){let n=o.useRef(null);return o.useLayoutEffect(()=>{let a=n.current;return a&&e(t,a.getBoundingClientRect().width),()=>e(t,void 0)},[n,t,e,a.svg]),o.createElement("div",{className:"lock_control--offscreenMeasurementContainer---yCeM","aria-hidden":!0},o.createElement(pN,{...a,additionalStylesClassName:ep()(a.additionalStylesClassName,"lock_control--optionForMeasurement--q4Xze"),forwardedRef:n}))}var px=a(160477),pM=a(345256),pD=a(756044),pP=a(281418);function pF({ariaLabel:e,tooltip:t,...a}){let n=(0,s.wA)(),r=(0,as.Um)();return o.createElement("div",{"data-tooltip-show-above":!0,"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":t,className:pP.kL},o.createElement(i0.l6,{id:"codeBlockLanguageSelector",className:pP.Lt,inputClassName:pP.hF,blurOnChange:!0,chevronClassName:pP.ai,dropdownClassName:eT.Dm,dropdownAlignment:"right",dispatch:n,dropdownShown:r,targetDomNode:document.body,dropdownWidth:144,ariaLabel:e??(0,dK.En)({"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":t}),role:"combobox",...a}))}function pB(e){return e?(0,da.gl)(e)?(0,k.t)("whiteboard.code_blocks.mixed"):(0,k.t)("whiteboard.inline_menu.programming_language_label",{currentLanguage:pM.lR.format(e)}):void 0}function pH(e){return e?(0,da.gl)(e)?"MIXED":e:void 0}var pU=a(230208);function pV(e){return e?(0,da.gl)(e)?"MIXED":e:void 0}var pW=a(689373),pK=a(647813),pG=a(716994),pj=a(494758),pz=a(12436),pZ=a(146461);let p$={ROUND:pj.A,ARROW_LINES:pG.A,ARROW_EQUILATERAL:pz.A,TRIANGLE_FILLED:pZ.A,DIAMOND_FILLED:pK.A,CIRCLE_FILLED:pW.A},pY=["ROUND","ARROW_LINES","ARROW_EQUILATERAL","TRIANGLE_FILLED","CIRCLE_FILLED","DIAMOND_FILLED"],pX=e=>function(){let[t,a]=(0,dt.lJ)("connectorStartCap"===e?"connectorStartCapForSelection":"connectorEndCapForSelection"),n=(0,dt.kl)("connectorStartCap"===e?"connectorStartCapDirection":"connectorEndCapDirection"),r="connectorStartCap"===e?(0,k.t)("whiteboard.inline_menu.connector_start_point"):(0,k.t)("whiteboard.inline_menu.connector_end_point"),l=o.useMemo(()=>(0,db.g)(),[]),[i,s]=o.useState(!1),d=(0,dt.kl)("connectorLineStyleForSelection");return o.createElement(dy.Fn,{value:t,onChange:e=>{a(e),"STRAIGHT"===d&&c.DV9?.snapshotStraightConnectorCaps()},renderButton:({onClick:a,onKeyDown:i,ref:s,active:c,activeOptionId:d})=>{let m;let u=pq(t);return u&&(m="connectorStartCap"===e?(0,k.t)("whiteboard.inline_menu.connector_start_point_selector_label",{currentStartCap:u.toLocaleLowerCase()}):(0,k.t)("whiteboard.inline_menu.connector_end_point_selector_label",{currentEndCap:u.toLocaleLowerCase()})),o.createElement(dT.K0,{svg:pQ(t),active:c?"NORMAL":"NONE",svgStyle:{transform:pJ(e,n)},tooltip:r,onKeyDown:i,onPointerDown:a,ref:s,recordingKey:`${e}Control`,caret:"down",role:"combobox",ariaActiveDescendant:d,ariaLabel:m,ariaControls:l})},options:pY,renderOption:({value:t,onClick:a,id:r,isSelected:l,isFocused:s})=>o.createElement(dT.K0,{id:r,key:String(t),tooltip:pq(t),svg:pQ(t),svgStyle:{transform:pJ(e,n)},onPointerUp:e=>{i&&a(e)},active:l?"LOUD":"NONE",focused:s,recordingKey:(0,e$.Pt)(`${e}Control`,String(t)),role:"option"}),OptionWrapper:(0,dy.SC)(r,l),onToggleMenuOpen:s})};function pJ(e,t){switch((0,da._W)(t,"connectorStartCap"===e?"left":"right")){case"up":return"rotate(-90deg)";case"right":return"rotate(0deg)";case"down":return"rotate(90deg)";case"left":return"rotate(180deg)"}}function pQ(e){switch(e){case"ARROW_EQUILATERAL":case"ARROW_LINES":case"DIAMOND_FILLED":case"TRIANGLE_FILLED":case"CIRCLE_FILLED":case"ROUND":return p$[e];default:return p$.ROUND}}function pq(e){switch(e){case"ARROW_EQUILATERAL":return(0,k.t)("whiteboard.connector_caps.solid_arrow");case"ARROW_LINES":return(0,k.t)("whiteboard.connector_caps.line_arrow");case"TRIANGLE_FILLED":return(0,k.t)("whiteboard.connector_caps.triangle");case"DIAMOND_FILLED":return(0,k.t)("whiteboard.connector_caps.diamond");case"CIRCLE_FILLED":return(0,k.t)("whiteboard.connector_caps.circle");default:return(0,k.t)("whiteboard.connector_caps.none")}}let p0=pX("connectorStartCap"),p1=pX("connectorEndCap");var p2=a(757744),p5=a(227460);let p3={ELBOWED:p2.A,STRAIGHT:p5.A};function p4(e){switch(e){case"ELBOWED":case"STRAIGHT":return p3[e];default:return p3.ELBOWED}}function p6(e){switch(e){case"ELBOWED":return(0,k.t)("whiteboard.inline_menu.line_shape_elbowed");case"STRAIGHT":return(0,k.t)("whiteboard.inline_menu.line_shape_straight");default:return""}}function p8(e){switch(e){case"ELBOWED":default:return c.PoC.ELBOWED;case"STRAIGHT":return c.PoC.STRAIGHT}}var p7=a(654375),p9=a(270404);function Ee(e){let t=(0,uJ.uQ)(),a=(0,dt.kl)("embedData"),n=(0,p7.tq)(a),[r,l]=(0,m.fp)(mc.n),i=o.useCallback(()=>{t&&(n(p7.yc.EMBED_EXPAND),l({type:"ACTIVATE_AND_MAXIMIZE",payload:{embedNodeID:t}}))},[l,t,n]);return a&&t&&(!r||e.inModal)?o.createElement(dT.K0,{svg:p9.A,active:"NONE",tooltip:(0,k.t)("whiteboard.embeds.inline_menu.maximize"),onClick:i,recordingKey:"embedMaximizeControl"}):null}var Et=a(395096),Ea=a(359252),En=a(182390),Er=a(915265),El=a(16564),Ei=a(929717),Eo=a(518864);let Es="face_stamp_control--userLabeliPad--HZsHg",Ec="face_stamp_control--faceStampOption--bMfTI";var Ed=a(783423);let Em={top:0,right:0,bottom:0,left:0,width:0,height:0};function Eu({onSelect:e}){let[t,a]=o.useState(""),[n]=(0,Et.A)(t,200),{faceStampServerSideSearch:r,faceStampSearchIsLoading:l,faceStampSearchHasResolved:i}=(0,Ea.A)({maxResults:5}),s=(0,nc.U5)(n,6),c=l||!i;o.useEffect(()=>{r(n)},[r,n]);let d=(0,as.BK)("face_stamp_replacement_dropdown"),m=Ep(s),p=(0,uJ.Tv)(),E=o.useMemo(()=>{let t=[];switch(!0){case c:t=[o.createElement(tX.c$,{key:"loading",className:ep()(Ec,"face_stamp_control--faceStampOption__loading--o6hDI")},o.createElement(oe.k,{size:"lg"}))];break;case s.length>0:t=s.filter(e=>!!m[e.id]).map((t,a)=>o.createElement(tX.c$,{key:a,recordingKey:`faceStampInlineSwitcherOption-${t.id}`,onClick:async()=>{let a=await (0,Er.uL)({profileImageUrl:`${t.hi_res_img_url||t.img_url}?c=1`,userName:t.name||t.handle||"",userColor:(0,En.$L)(t.id,En.us),noCircleOutline:!1}),n=(0,El.lJ)(a).filter(e=>"s-profile"===e.name),r=(0,Er.k6)(n[0],"F24822")||"";if(p)for(let e of p)(0,Er.w8)(r,t.id,e,F.zk.USER);e()},className:Ec},o.createElement("img",{className:"face_stamp_control--faceStampOptionThumb--Aoyvy",src:m[t.id],alt:(0,k.t)("whiteboard.inserts.faces_inline_search_image_alt_text",{user:t.handle})}),o.createElement("span",{className:ep()("face_stamp_control--userDropdownOption--WodTi ellipsis--ellipsis--Tjyfa",{[Es]:u.XN})},t.handle)));break;case 0===s.length:t=[o.createElement(tX.c$,{key:"no-results",className:Ec},o.createElement("span",{className:"face_stamp_control--noSearchFoundText--CAeSf ellipsis--ellipsis--Tjyfa"},(0,k.tx)("whiteboard.inserts.faces_inline_search_no_results",{searchQuery:o.createElement("span",{className:"face_stamp_control--emptyStateStrongText--Og0Ql"},n)})))]}return t},[c,s,n,m,e,p]);return o.createElement(Ei.Jz,{showPoint:!1,maxWidth:226,minWidth:226,autofocusPrevElementOnSelect:!0,autofocusPrevElementOnEsc:!0,lean:"right",leanPadding:0,targetRect:Em,hideDropdown:d.hide,recordingKey:"faceStampSwitcherDropdown",className:"face_stamp_control--faceStampDropdown--fSoHZ",propagateCloseClick:!0,options:[o.createElement(eb.IW,{focusOnMount:!0,selectTextOnMount:!0,className:"face_stamp_control--searchBar--xHXdo",query:n,placeholder:(0,k.t)("whiteboard.face_stamps.enter_name"),clearSearch:()=>a(""),onChange:a,isKeyDownHandled:t=>"Escape"===t.key&&(e(),!0),hideXIcon:!n,key:"search",hideSearchIcon:!0}),...E]})}let Ep=e=>{let[t,a]=o.useState({});return o.useEffect(()=>{(async function(){a((await Promise.all(e.map(async e=>({id:e.id,profileUrl:await (0,Er.uL)({profileImageUrl:`${e.hi_res_img_url||e.img_url}?c=1`,userName:e.name||e.handle||"",userColor:(0,En.$L)(e.id,En.us),noCircleOutline:!0})})))).reduce((e,{id:t,profileUrl:a})=>({...e,[t]:a}),{}))})()},[e]),t};var EE=a(844127),E_=a(940119),Eg=a(253244),Ef=a(119925),Eh=a(69782),Eb=a(945781),Ev=a(367671),ET=a(846031),Ey=a(615687),Ew=a(880366),EC=a(245954),ES=a(250379),EI=a(963993),EN=a(289765);function EL(e,t){let a=0,n=0;for(let r of e){let e=r.options.length;if(t<a+e)return{section:r,sectionIndex:n};n+=1,a+=e}}function EO({renderButton:e,value:t,onChange:a,wrapperId:n,isOpen:r=!1}){var l;let i=(0,ES.uQ)()??"",s=(0,EN.Fk)((e,t)=>{let a=e.get(t);return a?.mainComponent?.sourceLibraryKey},i),{libraryItems:c,metadata:d}=(0,eC.uE)(),m=(0,o.useMemo)(()=>eG(c,s),[c,s]),u=(0,o.useRef)(null),p=(0,o.useRef)(null),E=(0,o.useRef)(null),[_,g]=(0,o.useState)(r),[f,h]=(0,o.useState)(""),[b,v]=(0,o.useState)(m),[T,y]=(0,o.useState)(0),[w,C]=(0,o.useState)(!1);(0,o.useEffect)(()=>{!f&&0===b.shapeLibraryData.length&&m.shapeLibraryData.length>0&&v(m)},[m,b.shapeLibraryData.length,f]);let S=(0,o.useCallback)(e=>{if(!e||!e.trim()){v(m),h(""),C(!1);return}h(e),C(!0),y(0),v(function(e,t){let{connectorData:a,swtData:n,shapeLibraryData:r}=t;return{swtData:ez(n,e),shapeLibraryData:eZ(r,e),connectorData:ej(a,e)}}(e,m))},[m]),I=(0,eE.A)(S,200),N=(0,o.useCallback)(()=>S(""),[S]),L=(0,o.useCallback)(e=>""===e?N():I(e),[N,I]),O=(0,o.useCallback)(e=>{e&&setTimeout(()=>{u.current?.focus(!0)},100)},[]),A=(0,o.useMemo)(()=>b.shapeLibraryData.map(e=>({libraryKey:e.libraryKey??"",options:e.items})),[b.shapeLibraryData]),R=(0,o.useMemo)(()=>b.shapeLibraryData.reduce((e,t)=>e=e.concat(t.items),[]),[b.shapeLibraryData]),x=A.length>1;(0,o.useEffect)(()=>{if(p.current){let e=function(e,t,a){let n=EL(t,e),r=184,l=a&&t.length>1?24:0;if(!n)return 0;let i=0;return Math.max(0,40*Math.ceil((e-t.reduce((e,t)=>{let a=t.options.length,n=40*Math.ceil(a/5)+l;if(n<=r)return r-=n,i+=1,e+a;if(l+40>r)return e;{let t=Math.floor((r-l)/40);return t>0&&(i+=1,r-=40*t+l),e+Math.min(5*t,a)}},0)+1)/5)+Math.max(n.sectionIndex-i+1,0)*l)}(T,A,x);p.current?.getScrollTop()!==e&&p.current.scrollTo(e)}},[T,b,A,x]);let M=new Set;return o.createElement(dy.Fn,{value:t,renderButtonRef:E,overrideMenuOpenState:{isOpenOverride:_,setIsOpenOverride:g},overrideMenuFocused:{focusedIndexOverride:T,setFocusedIndexOverride:y,isFocusedByKeyboardOverride:w,setIsFocusedByKeyboardOverride:C},onChange:a,renderButton:e,additionalContentsTop:o.createElement(eb.IW,{ref:u,query:f,clearSearch:N,onChange:L,className:"whiteboard_platform_shape_selector--searchBar--GCfUj",isKeyDownHandled:e=>{let t=b.shapeLibraryData.reduce((e,t)=>e+t.items.length,0);if("Escape"===e.code||"Escape"===e.key)""!==f?N():g(!1);else if("Enter"===e.code||"Enter"===e.key){if(""!==f&&t>0){let t=b.shapeLibraryData[0]?.items[0];t&&(a(t,e),g(!1))}}else("ArrowUp"===e.code||"ArrowDown"===e.code)&&(E.current?.focus(),t>0&&(C(!0),y("ArrowDown"===e.code?t>1&&""!==f?1:0:t-1)),e.preventDefault());return!0},iconClassName:"whiteboard_platform_shape_selector--searchIcon--ovupR",focusOnMount:!1,placeholder:(0,k.t)("whiteboard.inline_menu.change_shape_search"),hideXIcon:!0}),options:R,renderOption:({value:e,onClick:t,id:a,isFocused:n})=>{let r=R.indexOf(e);if(0===r&&M.clear(),!EL(A,r)||!e)return null;let l=d?.[e.library_key];return o.createElement(Ek,{key:`${a}-${r}`,currentOption:e,addedSections:M,id:a,isFocused:n,onOptionClick:e=>{_&&t(e)},showHeaders:x,collection:l?.id})},OptionWrapper:(l={wrapperId:n,scrollContainerRef:p},function({children:e}){return o.createElement(eh.P,{height:184,disableScrollbarBorder:!0,ref:l.scrollContainerRef},o.createElement("div",{tabIndex:-1,className:"whiteboard_platform_shape_selector--shapeContainer--dRUYD",id:l.wrapperId},e))}),onToggleMenuOpen:O})}function Ek({currentOption:e,addedSections:t,id:a,onOptionClick:n,showHeaders:r,collection:l}){let i=e.containing_frame?.name,s=e.library_key,c=(0,e4.OP)(s,i),d=`${e.containing_frame?.name??""}-${s}`,m=!1;r&&s&&!t.has(d)&&(t.add(d),m=!0);let u=m?o.createElement("div",{className:"whiteboard_platform_shape_selector--shapeSectionTitle--GV26T"},(0,eU.pf)(c)):null,p=l?(0,eU.N0)(l,e.name,"swapper"):void 0,E=p?o.createElement(tL,{iconSrc:p,name:e.name,testIdPrefix:"shapes-library-swapper-thumb-override"}):null;return o.createElement(dy.A3,null,u,o.createElement(eJ.E,{key:`${a}-${e.name}`,onClick:n,recordingKey:`whiteboardShapeSwapButton.${e.name}`,className:"whiteboard_platform_shape_selector--shapeSectionTile--tI3Yz"},o.createElement(tw.lX,{width:40,height:40,item:e,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:!0,noBackground:!0,isSearch:!1,ThumbnailOverride:E,tooltipOverride:(0,eU.vo)(c,e.name),thumbWrapperClassName:"whiteboard_platform_shape_selector--shapeSectionTileWrapper--mYx1e"})))}let EA=e=>{if(!e)return null;let t=(0,EC.UN)().get(e);if(!t)return null;let a=t?.findContainingPlatformShape();if(t.guid===a)return{guid:a,type:t.type};let n=t;for(;n&&"CANVAS"!==n.type;){if(n.parentGuid===a)return{guid:n.parentNode?.guid,type:n.parentNode?.type};n=n.parentNode}return null};function ER(e){let t=function(e){let t=[],a=e&&(0,da.hS)(e)?e:void 0;if(!a)return t;t.push(a);let n=c.DV9?.getAllShapeWithTextTypesInCanvas();if(!n)return t;let r=Array.from(new Map([...n.entries()].sort((e,t)=>t[1]-e[1])).keys()).filter(t=>t!==e);return r.length>0&&t.push(...r),t}(e),a=tO.L2.filter(e=>!t.includes(e));return[...t,...a]}let Ex=new ex.J;function EM(e=4,t){return{getShapeGrid:function(e){return function({children:a}){let n=o.createElement("div",{role:"listbox","aria-label":e.ariaLabel,tabIndex:-1,className:t,id:e.wrapperId},a);return e.withScroll?o.createElement(eh.P,{height:184,disableScrollbarBorder:!0,ref:e.scrollContainerRef},n):n}},getShapeGridIconStyle:function(t,a,n={top:!0,bottom:!0},r=!1){let l;let i={},o=r?"margin":"padding";return t<e&&n.top&&(i[`${o}Top`]="4px"),t>=Math.floor((a-1)/e)*e&&n.bottom&&(i[`${o}Bottom`]="4px"),t%e==0?i[`${o}Left`]="4px":t%e==e-1&&(i[`${o}Right`]="4px"),l=10,(t%e==0||t%e==e-1)&&(l+=1),i.gridColumn=`span ${l}`,r&&(i.borderRadius="3px"),i},scrollTopForIndex:function(t){return 40*Math.ceil((t-Math.floor(4.6)*e+1)/e)}}}let ED=EM(4,"whiteboard_shape_selector--shapeGridFourPerRow--K5Vt5"),EP=EM(5,"whiteboard_shape_selector--shapeGridFivePerRow--ON-iR");function EF({renderButton:e,value:t,onChange:a,ariaLabel:n,wrapperId:r}){let l=(0,o.useRef)(null),i=(0,o.useRef)(null),s=(0,o.useRef)(null),[c,d]=(0,o.useState)(!1),[m,u]=(0,o.useState)(""),[p,E]=(0,o.useState)(()=>ER(t)),[_,g]=(0,o.useState)(0),[f,h]=(0,o.useState)(!1),b=(0,o.useCallback)(e=>{let a=ER(t);if(!e||!e.trim()){E(a),u(""),h(!1);return}u(e),h(!0),g(0),E(a.filter(t=>eF(t,e)))},[t]),v=(0,eE.A)(b,200),T=(0,o.useCallback)(()=>{v.cancel(),b("")},[b,v]),y=(0,o.useCallback)(e=>""===e?T():v(e),[T,v]),w=(0,o.useCallback)(e=>{e&&setTimeout(()=>{l.current?.focus(!0)},50)},[]);return(0,o.useEffect)(()=>{if(i.current){let e=EP.scrollTopForIndex(_);i.current?.getScrollTop()!==e&&i.current.scrollTo(e)}},[EP,_,p]),o.createElement(dy.Fn,{value:t,renderButtonRef:s,overrideMenuOpenState:{isOpenOverride:c,setIsOpenOverride:d},overrideMenuFocused:{focusedIndexOverride:_,setFocusedIndexOverride:g,isFocusedByKeyboardOverride:f,setIsFocusedByKeyboardOverride:h},onChange:a,renderButton:e,additionalContentsTop:o.createElement(eb.IW,{ref:l,query:m,clearSearch:T,onChange:y,className:"whiteboard_shape_selector--searchBar--ey24g",isKeyDownHandled:e=>(e.keyCode===c_.Uz.ESCAPE||"Escape"===e.code||"Escape"===e.key?""!==m?T():d(!1):e.keyCode===c_.Uz.ENTER?""!==m&&p.length>0&&(a(p[0],e),d(!1)):("ArrowUp"===e.code||"ArrowDown"===e.code)&&(s.current?.focus(),p.length>0&&(h(!0),g("ArrowDown"===e.code?p.length>1&&""!==m?1:0:p.length-1)),e.preventDefault()),!0),iconClassName:"whiteboard_shape_selector--searchIcon--wXneH",focusOnMount:!1,placeholder:(0,k.t)("whiteboard.inline_menu.change_shape_search"),hideXIcon:!0}),options:p,renderOption:({value:e,onClick:t,id:a,isFocused:n})=>{let r=(0,da.gl)(e)||!e?"1":`${Ex.format(e)}`;return o.createElement(dT.K0,{id:a,key:String(e),svg:(0,tO.eg)(e),tooltip:r,onPointerUp:e=>{c&&t(e)},buttonStyle:EP.getShapeGridIconStyle(p.indexOf(e),p.length,{top:!0,bottom:!0},!0),active:"NONE",recordingKey:`whiteboardShapeSwapButton.${e}`,role:"option",focused:n,ariaLabel:"1"===r?void 0:r.toLocaleLowerCase()})},OptionWrapper:EP.getShapeGrid({ariaLabel:n,wrapperId:r,withScroll:!0,scrollContainerRef:i}),onToggleMenuOpen:w})}function EB({onSelect:e,showShapePreview:t=()=>{},hideShapePreview:a=()=>{},ariaLabel:n}){let r=ED.getShapeGrid({ariaLabel:n}),l=(0,nJ.R)(mm);if(!l)return(0,H.$D)(P.e.FIGJAM,Error("No selected shape ghost node")),null;let i=l.shapeWithTextType,s=`${Ex.format(i)}`;return o.createElement("div",{className:"whiteboard_shape_selector--menuWrapper--9RzvT"},o.createElement(r,null,tO.Qc.map(n=>{let r=`${Ex.format(n)}`;return o.createElement(dT.K0,{key:String(n),svg:(0,tO.eg)(n),tooltip:r,onClick:t=>e(n,t),onMouseEnter:e=>t(n),onMouseLeave:e=>a(),buttonStyle:ED.getShapeGridIconStyle(tO.Qc.indexOf(n),tO.Qc.length,{top:!0,bottom:!1}),recordingKey:`whiteboardInlineQuickAddShapeSelectorButton.${n}`,role:"option",ariaLabel:r.toLocaleLowerCase()})})),o.createElement(dT.$n,{className:"whiteboard_shape_selector--sameShapeButton--McSOb",tooltip:s,onClick:t=>e(i,t),onMouseEnter:e=>t(i),onMouseLeave:e=>a(),recordingKey:"whiteboardInlineQuickAddShapeSelectorSameShapeButton",role:"button",ariaLabel:s.toLocaleLowerCase(),buttonChildrenStyle:{width:"100%"}},o.createElement(eQ.B,{svg:(0,tO.eg)(i),className:"whiteboard_shape_selector--sameShapeSvg--JnJli"}),(0,k.tx)("whiteboard.inline_menu.add_same_shape")))}let EH=new ex.J;function EU(){let e=F.nc.user("create-shape-from-inline-quick-add",function(e){c.glU.createShapeFromInlineQuickAdd(e)}),t=(0,k.t)("whiteboard.inline_menu.change_shape");return o.createElement(EB,{onSelect:e,showShapePreview:function(e){c.glU.showGhostShapeFromInlineQuickAdd(e)},hideShapePreview:function(){c.glU.hideGhostShapeFromInlineQuickAdd()},ariaLabel:t})}let EV=new Map([[c.Tcr.WHITEBOARD_COLOR,function(){let e;let t=(0,dt.A5)("whiteboardColor"),a=m4(),[n,r]=o.useState(!1),l=(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),i=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),m=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),u=(0,s.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return 0!==t.length&&t.every(t=>{let a=e.mirror.sceneGraph.get(t);return!!a&&"SECTION"===a.type&&a.sectionContentsHidden})}),p=m6(),E=(0,dt.A5)("shapeWithTextOpacityOverride"),_=(0,dt.A5)("platformShapeOpacityOverride"),g=(0,dt.kl)("shapeWithTextFillType"),f=(0,dt.kl)("platformShapeFillType"),h=l?l.SHAPE_WITH_TEXT??0:0,b=l&&l.SHAPE_WITH_TEXT===m,v=i===m,T=h>0,y=i>0;if(m&&m>0&&h+i===m){let t=null!=g&&g!==c.A$i.HIDDEN,n=null!=f&&f!==c.A$i.HIDDEN;(T&&t||y&&n)&&(e=Array.isArray(a)?a.length>0?a[0].a:void 0:a.a)}return u?o.createElement(dT.$n,{onClick:eg.lQ,active:"NONE",caret:"down",tooltip:(0,k.t)("whiteboard.no-edit-hidden-section-tooltip"),disabled:!0},o.createElement(m3.cd,{size:"small",value:a,paletteType:"base",background:"dark"})):o.createElement(m5.ZE,{value:a,onColorChange:a=>{m&&(t(a),(0,d.kc)().figjam_custom_opacity_swt&&null!=e&&g===c.A$i.TRANSPARENT_CUSTOM&&!(b&&m>1)&&E(e),(0,d.kc)().figjam_custom_opacity_swt&&null!=e&&f===c.A$i.TRANSPARENT_CUSTOM&&!(v&&m>1)&&_(e))},onOpacityChange:null!=e?e=>{let t=e;t<.01&&(t=.01),T&&E(t),y&&_(t)}:void 0,recordingKey:"whiteboardColorControl",additionalContentsTop:(()=>{if(p)return o.createElement(mP,{isColorPopoverOpen:n})})(),paletteType:"base",buttonSize:"small",optionSize:"medium",customOpacity:e,ariaLabel:(0,k.t)("whiteboard.inline_menu.color_list_box"),isColorPopoverOpen:n,setIsColorPopoverOpen:r})}],[c.Tcr.STICKY_COLOR,function(){let e=(0,dt.A5)("whiteboardColor"),t=m4(),[a,n]=o.useState(!1);return o.createElement(m5.ZE,{value:t,onColorChange:e,recordingKey:"stickyColorControl",paletteType:"sticky",buttonSize:"small",optionSize:"medium",ariaLabel:(0,k.t)("whiteboard.inline_menu.color_list_box"),isColorPopoverOpen:a,setIsColorPopoverOpen:n})}],[c.Tcr.HIGHLIGHT_COLOR,function(){let e=(0,dt.A5)("whiteboardColor"),t=m4(),[a,n]=o.useState(!1);return o.createElement(m5.ZE,{value:t,onColorChange:e,recordingKey:"highlightColorControl",paletteType:"highlight",buttonSize:"small",optionSize:"medium",isColorPopoverOpen:a,setIsColorPopoverOpen:n})}],[c.Tcr.PENCIL_COLOR,function(){let e=(0,dt.A5)("whiteboardColor"),t=m4(),[a,n]=o.useState(!1),r=function(){let e=c.Ez5?.uiState().showUI3Colors.getCopy(),t=(0,m2.Z9)().type===m1.Yv.CUSTOM;return e&&!t?"pencilUI3":"base"}();return o.createElement(m5.ZE,{value:t,onColorChange:e,recordingKey:"pencilColorControl",paletteType:r,buttonSize:"small",optionSize:"medium",isColorPopoverOpen:a,setIsColorPopoverOpen:n})}],[c.Tcr.WHITEBOARD_STROKE,u7.nm],[c.Tcr.WHITEBOARD_SHAPE,function(){let[e,t]=(0,dt.lJ)("shapeWithTextTypeForSelection"),a=(0,db.g)();if(!e)return null;let n=(0,da.gl)(e)||!e?"1":`${EH.format(e)}`,r=(0,k.t)("whiteboard.inline_menu.change_shape"),l="1"!==n?(0,k.t)("whiteboard.inline_menu.change_shape_label",{currentShape:n.toLocaleLowerCase()}):void 0;return o.createElement(EF,{key:n,value:e,onChange:e=>t(e),ariaLabel:r,wrapperId:a,renderButton:({onClick:e,onKeyDown:t,activeOptionId:n,ref:i,active:s})=>o.createElement(dT.K0,{tooltip:r,ariaLabel:l,active:s?"NORMAL":"NONE",svg:tO.h$,onPointerDown:e,onKeyDown:t,ariaActiveDescendant:n,ariaControls:a,ref:i,recordingKey:"whiteboardShapeSwapButton",caret:"down",role:"combobox"})})}],[c.Tcr.WHITEBOARD_PLATFORM_SHAPE,function(){let e=(0,ES.uQ)(),t=(0,EN.Fk)((e,t)=>{if(!t)return null;let a=e.get(t);return a?.type},e);if(e&&"TEXT"===t){let a=EA(e);a&&(e=a.guid??"",t=a.type)}let a=(0,EN.Fk)((e,t)=>{if(!t)return null;let a=e.get(t);return a?.mainComponent?.name},e),n=o.useMemo(()=>e?[e]:[],[e]),r=(0,s.wA)(),l=o.useCallback(e=>{F.l7.user("swap-instance",()=>{r((0,g.uO)({item:e,instanceGUIDs:n,sourceForTracking:"FigJam Instance Swapper",storeInRecentsKey:rp.$A.FigJam,usedSwapInstanceKeyboardShortcut:!1}))})},[r,n]),[i,c]=o.useState(null),d=o.useCallback(e=>{e&&(c(e),(0,EI.tJ)(n,!1),l(e))},[l,n]);if(!e||"INSTANCE"!==t||!a)return null;let m=(0,db.g)(),u=(0,k.t)("whiteboard.inline_menu.change_shape"),p=(0,k.t)("whiteboard.inline_menu.change_shape_label",{currentShape:a});return o.createElement(EO,{value:i,onChange:d,wrapperId:m,renderButton:({onClick:e,onKeyDown:t,activeOptionId:a,ref:n,active:r})=>o.createElement(dT.K0,{tooltip:u,ariaLabel:p,active:r?"NORMAL":"NONE",svg:tO.h$,onPointerDown:e,onKeyDown:t,ariaActiveDescendant:a,ariaControls:m,ref:n,recordingKey:"whiteboardShapeSwapButton",caret:"down",role:"combobox"})})}],[c.Tcr.TEXT_DECORATION,uq.D],[c.Tcr.HYPERLINK,function(){let e=(0,w.J2)(c.Ez5.editorState().selectionIsHyperlink);return o.createElement(dT.K0,{svg:EE.A,tooltip:"text-edit-hyperlink",tooltipType:e2.Ib.LOOKUP,active:!0===e?"LOUD":void 0,onClick:()=>e1.Y5.triggerAction("text-edit-hyperlink"),recordingKey:"editHyperlink",blurOnClick:!0})}],[c.Tcr.BULLETED_LIST,function(){let e=mZ(),t=m$();return o.createElement(o.Fragment,null,t?o.createElement(dT.K0,{svg:mj.A,tooltip:"text-toggle-ordered-list",tooltipType:e2.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>e1.Y5.triggerActionInUserEditScope("text-toggle-ordered-list"),recordingKey:"orderedListControl",role:"switch",blurOnClick:!0}):o.createElement(dT.K0,{svg:mz.A,tooltip:"text-toggle-unordered-list",tooltipType:e2.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>e1.Y5.triggerActionInUserEditScope("text-toggle-unordered-list"),recordingKey:"unorderedListControl",role:"switch",blurOnClick:!0}))}],[c.Tcr.FONT_FAMILY,function(){let[e,t]=(0,dt.lJ)("whiteboardFontFamilies"),a=(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),n=(0,dv.EZ)(),[r,l]=o.useState(void 0);if(!e||(0,da.gl)(e))return null;let i=dF(e),s=dD(),c=i.length>0?[...s,"divider",...i]:[...s],d=Math.max(4,32*c.indexOf(e[0])),m=(0,k.t)("whiteboard.inline_menu.font_family"),u=(0,db.g)();return o.createElement(o.Fragment,null,o.createElement(dh.r,{setMaxWidth:l,render:({reportWidthOfValue:t})=>o.createElement(o.Fragment,null,c.map(a=>{let r=dP(a),l=r?r.fontFamily:a,i=r?r.getLabel():a,s=dU(l,n);return o.createElement(dV,{key:i,value:i,reportWidth:t,optionProps:{height:32,fullWidth:!0,svg:s,formattedValue:s?void 0:i,additionalStylesClassName:e.length>1?dw:void 0,checkSvg:e.length>1?dC.A:void 0,selected:!0}})}))}),o.createElement(dy.Fn,{value:null,onChange:e=>{if(e){let n=dP(e);n&&((0,e_.sx)("FigJam font family changed",{source:"default",fontFamily:e,nodeType:a&&1===Object.keys(a).length&&Object.keys(a).pop()||"MIXED",...a}),t([n.fontFamily]))}},renderButton:({onClick:t,onKeyDown:a,activeOptionId:n,ref:r,active:l})=>{let i;let s=dB(e);return s&&(i=(0,k.t)("whiteboard.inline_menu.font_family_label",{currentFont:s.toLocaleLowerCase()})),o.createElement(dT.K0,{tooltip:(0,k.t)("whiteboard.inline_menu.font_family"),active:l?"NORMAL":"NONE",svg:dH(e),onPointerDown:t,onKeyDown:a,ariaActiveDescendant:n,ariaControls:u,ref:r,recordingKey:"fontFamilyControl",caret:"down",role:"combobox",ariaLabel:i})},options:c,renderOption:t=>{let a=dP(t.value),l=a?a.fontFamily:t.value,i=a?a.getLabel():t.value,s=e.includes(l),c=dU(l,n);return"divider"!==t.value?o.createElement("div",{id:t.id,className:"font_family_control--optionContainer--joX6w",style:{width:(0,df.uy)(r)?136:r},key:i,"aria-label":i,role:"option",tabIndex:-1},o.createElement(dR,{dataTestId:"fontFamilyOption",key:i,recordingKey:`fontFamilyControl.${i}`,value:i,height:32,fullWidth:!0,svg:c,formattedValue:c?void 0:i,additionalStylesClassName:e.length>1?dw:void 0,focused:t.isFocused,checkSvg:e.length>1?dC.A:void 0,selected:s,onMouseUp:t.onClick})):o.createElement(tX.wv,{key:"divider"})},OptionWrapper:function({children:e}){return o.createElement("div",{className:"font_family_control--flexColumn---Eol3","aria-label":m,id:u,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)},positionY:e=>e.y-d,popoverClassName:"font_family_control--popover--uawA-",parentComponent:dy.k2.fontFamilyControl}))}],[c.Tcr.WHITEBOARD_TEXT_STYLE,function(){let e=new d2.o1({normalizeFactor:1,min:1,max:2e3}),t=(0,s.wA)(),a=(0,as.Um)(),[n,r]=o.useState(void 0),[l,i]=o.useState(void 0),c=(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardNumSelectedByType),[d,m]=(0,dt.lJ)("whiteboardFontSizes");if(!d||!(0,da.hS)(d))return null;let u=(0,da.hS)(d)?d:[],p=t=>{if(!isNaN(t)){let a=e.clamp(t);m([a]),d5.F.trackFromFullscreen("figjam_text_style_change",{source:"custom",size:a,node_type:c&&1===Object.keys(c).length&&Object.keys(c).pop()||"MIXED",...c})}},E=u.some(e=>!me.has(e)),_={inputClassName:d4.hF,formatter:ml,customMixedText:(0,k.t)("whiteboard.inline_menu.font_size_mixed")},g={height:40,fullWidth:!0,additionalStylesClassName:d4.jZ},f=(0,k.t)("whiteboard.inline_menu.font_size_input"),h=(0,k.t)("whiteboard.inline_menu.font_size");return o.createElement("div",{className:d4.kL,"data-tooltip-show-above":!0,"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":h},o.createElement(dh.r,{setMaxWidth:r,render:({reportWidthOfValue:e})=>o.createElement(o.Fragment,null,mr.map(t=>o.createElement(mo,{key:(0,da.hS)(t)?t:"__mixed",reportWidth:e,inputProps:{..._,property:t}})))}),o.createElement(dh.r,{setMaxWidth:i,render:({reportWidthOfValue:t})=>o.createElement(o.Fragment,null,d9.map(e=>o.createElement(ms,{key:e,value:e,reportWidth:t,optionProps:{value:e,formattedValue:ml.format(e),height:mt(e),style:ma(e),rightLabel:`${e}`}})),o.createElement(ms,{key:"number_input",value:"number_input",reportWidth:t,optionProps:{...g,children:o.createElement(o.Fragment,null,o.createElement(d3.Q7,{formatter:e,onChange:eg.lQ,className:d4.FY,property:null,size:f.length,tabIndex:-1}))}}),mi(u).map(e=>o.createElement(ms,{key:e,value:e,reportWidth:t,optionProps:{height:32,value:e,formattedValue:ml.format(e)}})))}),o.createElement(d6,{..._,inputWidth:n,property:1===u.length?u[0]:da.oV,chevronClassName:d4.ai,dropdownClassName:ep()({[d4.z4]:!0,[eT.Dm]:!0}),id:"whiteboardTextStyleControl",onChange:e=>{e&&(m([e]),d5.F.trackFromFullscreen("figjam_text_style_change",{source:"default",size:e,node_type:c&&1===Object.keys(c).length&&Object.keys(c).pop()||"MIXED",...c}))},blurOnChange:!0,dropdownAlignment:"right",recordingKey:"whiteboardTextStyle",dispatch:t,dropdownShown:a,targetDomNode:document.body,dropdownWidth:l,multipleSelections:u,preventHiddenInput:"until_keydown",ariaLabel:(0,k.t)("whiteboard.inline_menu.font_size_label",{currentFontSize:1===u.length?ml.format(u[0]).toLocaleLowerCase():_.customMixedText.toLocaleLowerCase()}),role:"combobox"},d9.map(e=>o.createElement(d8,{key:e,value:e,height:mt(e),style:ma(e),rightLabel:E?`${e}`:void 0,fullWidth:!0,additionalStylesClassName:u.length>1?d4.Hp:void 0,checkSvg:u.length>1?dC.A:void 0})),o.createElement(i0.sK,null),o.createElement(d8,{...g,selected:1===u.length&&!me.has(u[0]),ariaLabel:h},o.createElement(d3.Q7,{onKeyDown:e=>{"Enter"===e.key?(p(parseInt(e.currentTarget?.value)),t(al.oB())):"ArrowUp"!==e.key||e.shiftKey?"ArrowDown"!==e.key||e.shiftKey||p(parseInt(e.currentTarget?.value)-1):p(parseInt(e.currentTarget?.value)+1);let a=["ArrowUp","ArrowDown"].includes(e.key);a&&(!a||e.shiftKey)||e.stopPropagation()},className:d4.QR,property:1===u.length?u[0]:null,formatter:e,onChange:eg.lQ,placeholder:f,autoFocus:!0,ariaLabel:(0,k.t)("whiteboard.inline_menu.custom_font_size"),recordingKey:"whiteboardTextStyleNumberInput",dataTestId:"whiteboardTextStyleNumberInputDataTestId"})),mi(u).map(e=>o.createElement(d8,{key:e,height:32,value:e,additionalStylesClassName:u.length>1?d4.Hp:void 0,checkSvg:u.length>1?dC.A:void 0}))))}],[c.Tcr.START_MIND_MAP,function(){return o.createElement(dT.K0,{svg:Ew.A,tooltip:(0,k.t)("whiteboard.inline_menu.start_mind_map"),onClick:()=>e1.Y5.triggerActionInUserEditScope("start-mind-map"),recordingKey:"startMindMapControl"})}],[c.Tcr.TEXT_ALIGN_H,function(){let e=(0,dt.kl)("whiteboardTextAlignHorizontal"),t=(0,k.t)("whiteboard.inline_menu.text_alignment"),a=(0,db.g)(),[n,r]=o.useState(!1);return o.createElement(dy.Fn,{value:e,onChange:F.nc.user("set-text-align",e=>dX(e)),renderButton:({value:e,onClick:n,onKeyDown:r,activeOptionId:l,ref:i,active:s})=>{let c=e&&(0,da.hS)(e)?(0,dK.En)({"data-tooltip-type":e2.Ib.LOOKUP,"data-tooltip":dJ(e)}):"",d=c?(0,k.t)("whiteboard.inline_menu.text_alignment_label",{currentTextAlignment:c.toLocaleLowerCase()}):void 0;return o.createElement(dT.K0,{tooltip:t,ariaLabel:d,active:s?"NORMAL":"NONE",svg:dQ(e),onPointerDown:n,onKeyDown:r,ariaActiveDescendant:l,ariaControls:a,ref:i,recordingKey:"textAlignmentControl",caret:"down",role:"combobox"})},options:["LEFT","CENTER","RIGHT"],renderOption:({value:e,onClick:t,isSelected:a,id:r,isFocused:l})=>o.createElement(dT.K0,{id:r,key:String(e),tooltip:dJ(e),tooltipType:e2.Ib.LOOKUP,svg:dQ(e),onPointerUp:e=>{n&&t(e)},active:a?"LOUD":"NONE",focused:l,role:"option",recordingKey:(0,e$.Pt)("textAlignmentControl",function(e){switch(e){case"LEFT":break;case"CENTER":return"center";case"RIGHT":return"right"}return"left"}(e))}),OptionWrapper:(0,dy.SC)(t,a),onToggleMenuOpen:r})}],[c.Tcr.TEXT_ALIGN_V,function(){let e=(0,dt.kl)("whiteboardTextAlignVertical"),t=(0,k.t)("whiteboard.inline_menu.text_alignment_v"),a=(0,db.g)(),[n,r]=o.useState(!1);return o.createElement(dy.Fn,{value:e,onChange:F.nc.user("set-text-align-v",e=>(function(e){let t=dq(e);t&&e1.Y5.triggerAction(t)})(e)),renderButton:({value:e,onClick:n,onKeyDown:r,activeOptionId:l,ref:i,active:s})=>{let c=e&&(0,da.hS)(e)?(0,dK.En)({"data-tooltip-type":e2.Ib.LOOKUP,"data-tooltip":dq(e)}):"",d=c?(0,k.t)("whiteboard.inline_menu.text_alignment_v_label",{currentTextAlignment:c.toLocaleLowerCase()}):void 0;return o.createElement(dT.K0,{tooltip:t,ariaLabel:d,active:s?"NORMAL":"NONE",svg:d0(e),onPointerDown:n,onKeyDown:r,ariaActiveDescendant:l,ariaControls:a,ref:i,recordingKey:"textAlignmentVControl",caret:"down",role:"combobox"})},options:["TOP","CENTER","BOTTOM"],renderOption:({value:e,onClick:t,isSelected:a,id:r,isFocused:l})=>o.createElement(dT.K0,{id:r,key:String(e),tooltip:dq(e),tooltipType:e2.Ib.LOOKUP,svg:d0(e),onPointerUp:e=>{n&&t(e)},active:a?"LOUD":"NONE",focused:l,role:"option",recordingKey:(0,e$.Pt)("textAlignmentVControl",function(e){switch(e){case"TOP":return"top";case"CENTER":break;case"BOTTOM":return"bottom"}return"center"}(e))}),OptionWrapper:(0,dy.SC)(t,a),onToggleMenuOpen:r})}],[c.Tcr.CONNECTOR_LINE_STYLE,function(){let[e,t]=(0,dt.lJ)("connectorLineStyleForSelection"),[a,n]=o.useState(!1),r=o.useMemo(()=>(0,db.g)(),[]);return o.createElement(dy.Fn,{value:e,onChange:a=>{c.DV9?.handleConnectorLineStyleSwap(p8(e),p8(a)),t(a)},renderButton:({onClick:t,ref:a,onKeyDown:n,active:l,activeOptionId:i})=>{let s;let c=p6(e);return c&&(s=(0,k.t)("whiteboard.inline_menu.line_shape_selector_label",{currentLineShape:c.toLocaleLowerCase()})),o.createElement(dT.K0,{svg:p4(e),active:l?"NORMAL":"NONE",tooltip:(0,k.t)("whiteboard.inline_menu.line_shape"),onPointerDown:t,onKeyDown:n,ref:a,recordingKey:"connectorLineStyleControl",caret:"down",role:"combobox",ariaActiveDescendant:i,ariaLabel:s,ariaControls:r})},options:["ELBOWED","STRAIGHT"],renderOption:({value:e,onClick:t,id:n,isSelected:r,isFocused:l})=>o.createElement(dT.K0,{id:n,key:String(e),tooltip:p6(e),svg:p4(e),onPointerUp:e=>{a&&t(e)},active:r?"LOUD":"NONE",focused:l,recordingKey:(0,e$.Pt)("connectorLineStyleControl",String(e)),role:"option"}),OptionWrapper:(0,dy.SC)((0,k.t)("whiteboard.inline_menu.line_shape"),r),onToggleMenuOpen:n})}],[c.Tcr.CONNECTOR_START_CAP,p0],[c.Tcr.CONNECTOR_END_CAP,p1],[c.Tcr.AUTHOR_VISIBILITY,function(){let[e,t]=(0,dt.lJ)("authorVisibility");return o.createElement(dT.K0,{svg:px.A,tooltip:(0,k.t)("whiteboard.inline_menu.show_hide_author"),active:e?"LOUD":void 0,onClick:()=>{t(!e)},recordingKey:"authorVisibility",role:"switch",blurOnClick:!0})}],[c.Tcr.ADD_TEXT,function(){return o.createElement(dT.K0,{svg:mJ.A,tooltip:(0,k.t)("whiteboard.inline_menu.add_connector_text"),active:void 0,onClick:()=>F.l7.user("add-connector-text",()=>e1.Y5.triggerAction("add-connector-text")),recordingKey:"addTextControl"})}],[c.Tcr.DIVIDER,()=>o.createElement(dT.wv,null)],[c.Tcr.CODE_BLOCK_LANGUAGE,function(){let[e,t]=(0,dt.lJ)("codeBlockLanguage"),a=(0,B.am)();return o.createElement(pF,{tooltip:(0,k.t)("whiteboard.inline_menu.programming_language"),ariaLabel:pB(e),property:e??"TYPESCRIPT",id:"codeBlockLanguageSelector",formatter:pM.lR,customMixedText:(0,k.t)("whiteboard.code_blocks.mixed"),onChange:n=>{a("figjam_code_block_language_select",{previousLanguage:pH(e),language:pH(n)}),t(n,pD.zk.YES)},onCancel:()=>{a("figjam_code_block_language_select",{previousLanguage:pH(e)})},recordingKey:"codeBlockLanguageSelector"},pM.ie.map(e=>o.createElement(i0.c$,{key:e,value:e,ariaLabel:pB(e),recordingKey:`codeBlockLanguageSelector.${e}`})))}],[c.Tcr.CODE_BLOCK_THEME,function(){let[e,t]=(0,dt.lJ)("codeBlockTheme"),a=(0,B.am)(),[n,r]=o.useState(!1);return o.createElement(m5.ZE,{value:(0,pU.mx)((0,pM.jP)(e))??[],onColorChange:n=>{a("figjam_code_block_theme_select",{previousTheme:pV(e),theme:pV((0,pM.Kr)(n))}),t((0,pM.Kr)(n),pD.zk.YES)},paletteType:"codeBlockTheme",buttonSize:"small",optionSize:"medium",ariaLabel:e?(0,da.gl)(e)?(0,k.t)("whiteboard.code_blocks.mixed"):(0,k.t)("whiteboard.inline_menu.code_block_theme",{currentTheme:pM.A$.format(e)}):void 0,inlineButtonTooltip:(0,k.t)("whiteboard.inline_menu.theme"),isColorPopoverOpen:n,setIsColorPopoverOpen:r,recordingKey:"codeBlockThemeSelector"})}],[c.Tcr.EMBED_OPEN_EXTERNAL,function(){return o.createElement(mX.e,null)}],[c.Tcr.EMBED_MAXIMIZE,function(){return o.createElement(Ee,null)}],[c.Tcr.EMBED_CONVERT_TO_TEXT,function(){return o.createElement(mY.S,null)}],[c.Tcr.IMAGE,dW.AZ],[c.Tcr.REMOVE_IMAGE_BACKGROUND,function(){let e=(0,dt.A5)("imageHasNoStroke");return o.createElement(dT.K0,{tooltip:(0,k.t)("whiteboard.inline_menu.remove_background"),svg:Eh.A,onClick:()=>{(0,Ef.B3)(Eg.JT.REMOVE_BACKGROUND),(0,Ef.Ag)(Eg.JT.REMOVE_BACKGROUND,E_.JY,{source:"fullscreen-action"}),e(!0)}})}],[c.Tcr.BORDER,dW.rT],[c.Tcr.DESCRIPTION,dW.Dz],[c.Tcr.SECTION_SHOW_HIDE,function(){let[e,t]=(0,dt.lJ)("sectionContentsHidden");return o.createElement(dT.K0,{svg:e?ET.A:Ey.A,tooltip:e?(0,k.t)("fullscreen_actions.show-section"):(0,k.t)("fullscreen_actions.hide-section"),ariaLabel:(0,k.t)("fullscreen_actions.hide-section"),role:"switch",tooltipShortcutActionKey:"toggle-section-visibility",active:e?"LOUD":void 0,onClick:()=>{t(!e)},recordingKey:"showHideSection"})}],[c.Tcr.SECTION_RENAME,function(){let e=mq(),t=m0(),a=(0,dt.kl)("name"),n=!a||""===a.trim();return o.createElement(dT.K0,{svg:n?mJ.A:mQ.A,tooltip:n?(0,k.t)("fullscreen_actions.add-title"):(0,k.t)("fullscreen_actions.rename-section"),tooltipShortcutActionKey:"rename-selection",resourceId:"rename-selection",onClick:t,active:e?"LOUD":void 0,recordingKey:"renameSection"})}],[c.Tcr.WASHI_TAPE_PATTERN,function(){return o.createElement(u8,{recordingKey:"washiTapePatternControl"})}],[c.Tcr.RESIZE_TO_FIT,function(){let e=(0,dt.kl)("sectionContentsOverflowing"),t=(0,dt.kl)("sectionContentsHidden");return o.createElement(dT.K0,{svg:e?Eb.A:Ev.A,disabled:!!t,tooltip:(0,k.t)("fullscreen_actions.resize-to-fit"),tooltipShortcutActionKey:"resize-to-fit",onClick:()=>{e1.Y5.triggerActionInUserEditScope("resize-to-fit")},recordingKey:"resizeToFitSection"})}],[c.Tcr.FACE_STAMP,function(){let e=(0,dt.kl)("stampData"),{label:t,loading:a}=function(e){let{user:t,loading:a}=(0,N.wW)(e?.userId||e?.stampedByUserId||null);return{label:e&&(0,da.gl)(e)?(0,k.t)("whiteboard.face_stamps.mixed"):t?.handle||null,loading:a}}(e),[n,r]=o.useState(!1),l=(0,nc.d0)(),i=o.useRef(null);return(o.useEffect(()=>{let e=()=>r(!1),t=t=>{i.current?.contains(t.target)||e()},a=t=>{"Escape"===t.key&&e()};return document.addEventListener("click",t),document.addEventListener("focus",t,!0),window.addEventListener("keydown",a),()=>{document.removeEventListener("click",t),document.removeEventListener("focus",t),window.removeEventListener("keydown",a)}},[]),l&&e)?o.createElement("div",{ref:i},o.createElement(my.oj,{className:ep()(Eo.W,"face_stamp_control--userLabel--S-WLt",{[Es]:u.XN}),onClick:()=>r(!n),role:"button",tabIndex:0,recordingKey:"faceStampControl",dataTestId:"faceStampControl"},o.createElement("div",{className:ep()({"face_stamp_control--loadingUserText--r884u":a,"face_stamp_control--userNameLabel--X-7PN":!a,"face_stamp_control--userNameLabeliPad--P1bIB":u.XN})},o.createElement("span",{className:"face_stamp_control--userNameOverflow--lNvYi ellipsis--ellipsis--Tjyfa"},a?"":t," ")),o.createElement(eQ.B,{svg:Ed.A,className:"face_stamp_control--chevronButton--0T018"})),n&&o.createElement(Eu,{onSelect:()=>r(!1)})):null}],[c.Tcr.LOCK,function(){let e=(0,dt.kl)("locked"),t=(0,dt.kl)("sectionContentsHidden"),a=function(){let e=(0,pC.I7)("exp_figjam_lock_options");return!!((0,d.kc)().figjam_lock_options||e.getConfig().getValue("enabled",!1))}(),[n,r]=o.useState(void 0),l=(0,db.g)();if(!t&&a){var i;return o.createElement(o.Fragment,null,o.createElement(dh.r,{setMaxWidth:r,render:({reportWidthOfValue:e})=>o.createElement(o.Fragment,null,Object.entries(pk()).map(([t,a])=>o.createElement(pR,{key:t,value:t,reportWidth:e,optionProps:{height:24,fullWidth:!0,formattedValue:a,ignoreCheck:!0}})))}),o.createElement(dy.Fn,{value:null,onChange:e=>{switch(e){case"lock_all":e1.Y5.triggerActionInUserEditScope("lock-selected-nodes"),e_.az.trackDefinedEvent("figjam.lock_options.lock_all.selected",{});break;case"lock_section_background_only":e1.Y5.triggerActionInUserEditScope("lock-selected-section-only"),e_.az.trackDefinedEvent("figjam.lock_options.lock_background_only.selected",{})}},renderButton:({onClick:t})=>o.createElement(dT.K0,{svg:pS.A,tooltip:e?(0,k.t)("whiteboard.inline_menu.unlock"):(0,k.t)("whiteboard.inline_menu.lock"),onClick:()=>{t(),e_.az.trackDefinedEvent("figjam.lock_options.clicked",{})},recordingKey:"lockUnlockOptions",testId:"lock-control-inline-options-v2",caret:"down",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}}),options:pO,renderOption:e=>{let t=Object.values(pL).find(t=>t===e.value);if(!t)return;let a=pk()[t];return o.createElement("div",{id:e.id,className:"lock_control--optionContainer--RG6tY",style:{width:n??208},key:t,"aria-label":a,role:"option","aria-selected":e.isSelected,tabIndex:-1},o.createElement(pN,{key:t,value:t,height:24,fullWidth:!0,selected:e.isSelected,onMouseUp:e.onClick,recordingKey:e$.Pt("lockOption",t),ignoreCheck:!0},a))},OptionWrapper:(i=(0,k.t)("whiteboard.inline_menu.lock_options"),function({children:e}){return o.createElement("div",{className:"lock_control--flexColumn--dwOZC","aria-label":i,id:l,role:"listbox",tabIndex:-1,"data-fullscreen-intercept":!0},e)})}))}return o.createElement(dT.K0,{svg:pS.A,tooltip:e?(0,k.t)("whiteboard.inline_menu.unlock"):(0,k.t)("whiteboard.inline_menu.lock"),onClick:()=>{e?e1.Y5.triggerActionInUserEditScope("unlock-selected-nodes"):e1.Y5.triggerActionInUserEditScope("lock-selected-nodes")},recordingKey:"lockUnlock",testId:"lock-control-inline-v2",svgStyle:{stroke:"var(--color-icon-menu-secondary)",fill:"none"}})}]]);function EW({control:e}){let t=EV.get(e);return t?o.createElement(t,null):null}var EK=a(188004),EG=a(257149),Ej=a(50686),Ez=a(21445),EZ=a(487614),E$=a(116374),EY=a(481928),EX=a(175895),EJ=a(785828),EQ=a(937476);let Eq={"align-top":EJ.A,"align-vertical-center":EQ.A,"align-bottom":EZ.A,"align-left":EY.A,"align-horizontal-center":E$.A,"align-right":EX.A};function E0(){let e=(0,db.g)(),[t,a]=o.useState(!1);return o.createElement(dy.Fn,{value:"align-left",onChange:e=>e1.Y5.triggerActionInUserEditScope(e),renderButton:({onClick:t,onKeyDown:a,activeOptionId:n,ref:r,active:l})=>o.createElement(dT.K0,{svg:Eq["align-left"],active:l?"NORMAL":"NONE",tooltip:(0,k.t)("whiteboard.inline_menu.alignment_button"),onPointerDown:t,onKeyDown:a,ariaActiveDescendant:n,ariaControls:e,ref:r,role:"combobox",caret:"down",recordingKey:"alignmentControl"}),options:["align-left","align-horizontal-center","align-right","align-top","align-vertical-center","align-bottom"],renderOption:({value:e,onClick:a,id:n,isFocused:r})=>o.createElement(dT.K0,{id:n,svg:Eq[e],tooltip:e,tooltipType:e2.Ib.LOOKUP,onPointerUp:e=>{t&&a(e)},active:"NONE",focused:r,key:e,role:"option",recordingKey:e$.Pt("alignmentControl",(0,rh.zS)(e))}),OptionWrapper:(0,dy.SC)((0,k.t)("whiteboard.inline_menu.alignment_button"),e),onToggleMenuOpen:a})}var E1=a(580263);function E2(){return o.createElement(dT.K0,{tooltip:"create-section-from-selection",tooltipType:e2.Ib.LOOKUP,svg:E1.A,onClick:()=>e1.Y5.triggerActionInUserEditScope("create-section-from-selection"),recordingKey:"createSectionFromSelection",testId:"createSectionFromSelection"})}var E5=a(597112),E3=a(879058),E4=a(369010),E6=a(977235),E8=a(650981),E7=a(827473);function E9(){let e=(0,s.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo);return o.useMemo(()=>e?.allStates?e.allStates.sort((t,a)=>_t(t,e.stateGroupModel.propertySortOrder,e.stateGroupModel.propertyValues)-_t(a,e.stateGroupModel.propertySortOrder,e.stateGroupModel.propertyValues)).map(e=>e.symbol.nodeId):[],[e])}function _e(){let e=(0,s.d4)(e=>e.mirror.sceneGraph),t=E9(),a=function(e){let t=o.useMemo(()=>e.map(e=>({libraryKey:e})),[e]),a=(0,nO.p)(nD.iAs,t,{enabled:!!((0,d.kc)().ds_lk_use_state_option_nodes_audit||(0,d.kc)().ds_lk_use_state_option_nodes)});return o.useMemo(()=>{let e={};for(let t of a){if("errors"===t.result.status)return(0,E6.e1)(t.result.errors);if("loading"===t.result.status)return(0,E6.Xm)();if("disabled"===t.result.status)break;e[t.args.libraryKey]=t.result.data?.libraryKeyToFile?.fileCanAccess?.key??t.result.data?.libraryKeyToFile?.hubFile?.id??null}return(0,E6.gB)(e)},[a])}(o.useMemo(()=>t.map(t=>e.get(t)?.sourceLibraryKey).filter(df.Vq),[e,t]));return o.useMemo(()=>{if((0,d.kc)().ds_lk_use_state_option_nodes&&"loading"===a.status)return new Map;let n=t=>{let n=e.get(t);if(!n?.publishID)return null;let r=(0,E4.A)(n.description),l=n.description,i=(0,E7.Tu)(n),o=a.data?.[n.sourceLibraryKey]??null;(0,d.kc)().ds_lk_use_state_option_nodes_audit&&"loaded"===a.status&&i!==o&&(0,tv.x1)("library-keys","Mismatch of publishFile and LiveGraph",{fileKeyFromLiveGraph:o,fileKeyFromPublishFile:i,fileKeyByLibraryKey:a},{reportAsSentryError:!0});let{fileKey:s,fileKeySource:m}=(0,d.kc)().ds_lk_use_state_option_nodes?{fileKey:o,fileKeySource:E8.Ps.LIVEGRAPH_DATA}:{fileKey:i,fileKeySource:E8.Ps.PUBLISH_FILE};if(!s)return null;let u={type:ty.PW.COMPONENT,name:n.name,description:r,description_rt:l,isLocal:!1,userFacingVersion:(0,E3.F7)(n.userFacingVersion),node_id:n.publishID,file_key:s,file_key_source:m,library_key:n.sourceLibraryKey};n.sharedSymbolVersion&&(u.content_hash=n.sharedSymbolVersion),n.componentKey&&(u.component_key=n.componentKey,u.thumbnail_url=`/component/${n.componentKey}/thumbnail?ver=${u.content_hash}`,u.canvas_url=`/component/${n.componentKey}/canvas?ver=${u.content_hash}`);let p=c.Egt.getNodeSize(t);return p&&(u.min_node_height=p.height,u.min_node_width=p.width),u};return new Map(t.map(e=>[e,n(e)]))},[e,a,t])}function _t(e,t,a){let n=new Map;for(let[t,a]of e.symbol.name.split(",").map(e=>e.trim().split("=")))t&&a&&n.set(t,a);let r=0;for(let e of t)r=r/10+a[e].indexOf(n.get(e)||"");return r}let _a=o.memo(function({onClose:e}){let t=(0,s.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo),a=(0,s.d4)(e=>e.mirror.sceneGraphSelection),n=_e(),r=function(){let e=E9(),t=_e();return e.filter(e=>!!t.get(e))}(),{height:l,width:i,gridClassName:c}=function(e){switch(e){case rv.rp.SMALL:return{height:70,width:70,gridClassName:"state_swap_library_items--gridContainerSmall---L0dp state_swap_library_items--_gridContainerBase--uPEDp"};case rv.rp.NORMAL:return{height:114,width:114,gridClassName:"state_swap_library_items--gridContainerNormal--sgzpl state_swap_library_items--_gridContainerBase--uPEDp"};case rv.rp.WIDE:return{width:246,gridClassName:"state_swap_library_items--gridContainerWide--UDAfb state_swap_library_items--_gridContainerBase--uPEDp"}}}((0,rv.PI)(r.map(e=>n.get(e)))),d=o.useMemo(()=>{let s=new Set(t?.selectedStates?.map(e=>e.symbol.nodeId));return new Map(r.map(t=>[t,o.createElement(tw.lX,{key:t,item:n.get(t),height:l,width:i,shouldHideDescription:!0,className:s.has(t)?"state_swap_library_items--selected--Pdhuy":"state_swap_library_items--notSelected--kXGoA",noBackground:!0,buttonProps:{onItemClick:()=>{let n={};n[t]=Object.keys(a),F.l7.user("swap-states",()=>(0,E5.Aw)(n)),e()}}})]))},[n,r,a,l,i,t?.selectedStates,e]);return t?.allStates&&t?.selectedStates?o.createElement("div",{className:"state_swap_library_items--stateSwapMenuContainer--5TGRL"},o.createElement("div",{className:"state_swap_library_items--header--9Mr9Y text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("whiteboard.inline_menu.variants")),o.createElement(eh.P,{className:"state_swap_library_items--scrollContainer--OX-3k"},o.createElement("div",{className:c},r.map(e=>d.get(e))))):null});var _n=a(125769),_r=a(400232);let _l=o.memo(function(){let e=o.useRef(null),[t,a]=o.useState(!1),n=(0,s.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo);return n?.allStates&&n?.selectedStates?o.createElement(_n.A,{target:o.createElement(dT.K0,{svg:_r.A,ref:e,onClick:()=>a(!0),caret:"down",tooltip:(0,k.t)("whiteboard.inline_menu.see_variants")}),onClose:()=>a(!1),renderPopoverContents:()=>o.createElement(_a,{onClose:()=>a(!1)}),isOpen:t,positionX:(e,t)=>e.x+e.width/2-t.width/2+138,positionY:e=>e.y+e.height+4}):null});var _i=a(609091);function _o(){return o.createElement(dT.K0,{svg:_i.A,tooltip:"tidy-up",tooltipType:e2.Ib.LOOKUP,onClick:()=>e1.Y5.triggerActionInUserEditScope("tidy-up"),recordingKey:"tidyUp",testId:"tidyUp"})}var _s=a(17643),_c=a(399688);function _d(){return o.createElement(dT.K0,{svg:_c.A,tooltip:(0,k.t)("whiteboard.inline_menu.delete"),onClick:()=>{e1.Y5.triggerActionInUserEditScope("leave-edit-mode"),e1.Y5.triggerActionInUserEditScope("delete-selection")},recordingKey:"delete"})}var _m=a(484236);function _u(){return o.createElement(dT.K0,{svg:_m.A,tooltip:(0,k.t)("whiteboard.inline_menu.duplicate"),onClick:()=>{e1.Y5.triggerActionInUserEditScope("leave-edit-mode"),e1.Y5.triggerActionInUserEditScope("duplicate-in-place")},recordingKey:"duplicate"})}var _p=a(728859);function _E(){return o.createElement(dT.K0,{svg:_p.A,tooltip:(0,k.t)("whiteboard.inline_menu.show_additional_items"),onClick:e=>{e1.Y5.triggerAction("leave-edit-mode"),e1.Y5.showSelectionContextMenu(e.clientX,e.clientY)},recordingKey:"showAdditionalItems"})}function __(e){return u.Ay.isIpad?o.createElement(o.Fragment,null,e.showLeftSeparator?o.createElement(dT.wv,null):null,o.createElement(_d,null),o.createElement(dT.wv,null),o.createElement(_u,null),o.createElement(dT.wv,null),o.createElement(_E,null)):u.Ay.isMeetDevice?o.createElement(o.Fragment,null,e.showLeftSeparator?o.createElement(dT.wv,null):null,o.createElement(_u,null),o.createElement(dT.wv,null),o.createElement(_d,null)):null}let _g=o.memo(function(){let e=mE();return!function(){let e=pi(),t=(0,v.rN)(),a=void 0!==e,n=(0,v.kM)(),r=(0,v.yx)();return o.useEffect(()=>{let a=pg(e);if(a){if(n){let t=setTimeout(()=>{window.FigmaMobile.nativeContextualToolbarSupportedVersions=void 0,n._native_contextual_toolbar_confirm_configuration=()=>{},(0,H.$D)(P.e.FIGJAM,Error(`Native contextual toolbar did not confirm configuration before timeout, version ${e}`))},2e3);n._native_contextual_toolbar_confirm_configuration=()=>{clearTimeout(t)}}t?.nativeContextualToolbarAcceptConfiguration?.(a),(0,pr.o5)(!1)}else t?.nativeContextualToolbarRejected?.(),(0,pr.o5)(!0);(0,pl.I)(r)},[e,t,n,r]),a}()?o.createElement(dr.k,{isShown:e},o.createElement(Ej.IA,null,o.createElement(_f,{testID:"WhiteboardInlineMenu",focusableDivTestId:"WhiteboardInlineMenuFocusableDiv"}))):o.createElement(pf,null)}),_f=o.memo(function({testID:e,focusableDivTestId:t}){let a=o.createRef(),n=(0,m.md)(EG.f),r=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelected),l=(0,s.d4)(e=>e.mirror.selectionProperties.whiteboardNumSelectedPlatformShape??0),i=(0,s.d4)(e=>e.mirror.selectionProperties.stateGroupSelectionInfo?.stateGroup),d=(0,s.d4)(e=>e.mirror.sceneGraphSelection),E=(0,nJ.R)(e=>e.mirror.selectionProperties.whiteboardControls),_=!!E?.includes(c.Tcr.DESCRIPTION),g=!!(0,dt.kl)("locked"),[f,h]=(0,o.useState)(!1),[b,v]=(0,o.useState)(g),T=(0,c7.$)(d),y=(0,c7.h)(g);o.useEffect(()=>{T&&h(!1)},[T,h]),function({lockStateChanged:e,selectionChanged:t,setShouldSectionShowUnlockWithFriction:a}){o.useLayoutEffect(()=>{e&&!t?a(!1):t&&a(!0)},[e,t,a])}({lockStateChanged:y,selectionChanged:T,setShouldSectionShowUnlockWithFriction:v}),(0,az.C_)(a);let w=(0,s.d4)(e=>{let t=Object.keys(e.mirror.sceneGraphSelection);return 1===t.length&&n.currentlySelectedNode.nodeId===t[0]?n.currentlySelectedNode.ariaLabel:null}),C=u5(),[S,I]=o.useState(!0),N=(0,nc.d0)(),L=(0,Ez.Cb)(),O=(0,uQ.QP)(),A=!(0,p.q8)(),R=(0,de.Zr)("align-top"),x=(0,de.Zr)("tidy-up"),M=R&&x&&!L,D=(0,de.Zr)("create-section-from-selection")&&!L;if(g)return o.createElement(_h,{testID:e,menuRef:a,shouldSectionShowUnlockWithFriction:b});if(!E)return null;if(_&&f)return o.createElement(dn,{setIsEditorOpen:h});let{leftContentControls:P,menuMarginBottom:F,rightControlsEnabled:B}=function({controls:e,setIsImageDescriptionEditorOpen:t,imageDescriptionControlShown:a,stateGroup:n,numberSelected:r,numSelectedPlatformShape:l}){let i;let s=[],d=!1;return a?e.forEach((e,a)=>{let n=o.createElement(EW,{control:e,key:`${e}-${a}`});e===c.Tcr.DESCRIPTION&&(n=o.createElement(dW.Dz,{setIsEditorOpen:t,key:`${e}-${a}`})),s.push(n)}):n&&1===r&&0===l?s.push(o.createElement(_l,{key:"state-swap-control"})):1===e.length&&e[0]===c.Tcr.WIDGET&&1===r?(s.push(o.createElement(EK.jk,{key:"widget-controls"})),i=16):(d=!0,e.length>0&&s.push(o.createElement(_b,{controls:e,key:"control-set"}))),{leftContentControls:s,menuMarginBottom:i,rightControlsEnabled:d}}({controls:E,setIsImageDescriptionEditorOpen:h,imageDescriptionControlShown:_,stateGroup:i,numberSelected:r,numSelectedPlatformShape:l}),H=o.createElement(o.Fragment,null,...P),U=A&&O,V=function({rightControlsEnabled:e,alignEnabled:t,showTidyUpControl:a,ungroupEnabled:n,showCreateSectionControl:r,shouldShowOrganizeDropdown:l,leftContentControls:i,figjamAiQuickActionShown:s}){if(!e)return null;let c=[t&&o.createElement(E0,null),a&&o.createElement(_o,null),n&&o.createElement(u2,null),r&&o.createElement(E2,null),l&&o.createElement(cm.tT,null),s&&o.createElement(dg.s_,null)].filter(Boolean);return c.length&&i.length&&c.unshift(o.createElement(dT.wv,{key:"separator-right-content"})),c}({rightControlsEnabled:B,alignEnabled:R,ungroupEnabled:C,showTidyUpControl:M,showCreateSectionControl:D,shouldShowOrganizeDropdown:L,leftContentControls:P,figjamAiQuickActionShown:U}),W=V&&o.createElement(o.Fragment,null,...V);return o.createElement(na.fu,{name:"inline_toolbar",properties:{figjam_ai_control_shown:U,figjam_organize_control_shown:L}},o.createElement("div",{className:ep()("whiteboard_inline_menu--whiteboardInlineMenu--5l5jy",{"whiteboard_inline_menu--faceStampsIPadToolbar--eMV12":N&&u.XN})},o.createElement(c9.i,{displayAs:c9.C.Block},o.createElement(dT.W1,{marginBottom:F,testID:e,focusableDivTestId:t,menuRef:a,ariaLabel:null==w?(0,k.t)("whiteboard.inline_menu.inline_menu_label"):(0,k.t)("whiteboard.inline_menu.inline_menu_label_with_selected_node",{selectedNodeAriaLabel:w}),ariaHidden:S,onFocus:()=>{I(!1)},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&I(!0)},role:"region",tabIndex:-1,propagateInputToFullscreen:!0},H,W,o.createElement(__,{showLeftSeparator:null!==H||null!==W}),o.createElement(_s.x,null)))))});function _h({testID:e,menuRef:t,shouldSectionShowUnlockWithFriction:a}){return o.createElement(dT.W1,{testID:e,menuRef:t},a?o.createElement(pA,null):o.createElement(pI,{shouldAnimateOnHover:!0}))}function _b({controls:e}){return e.length?o.createElement(o.Fragment,null,e.map((e,t)=>o.createElement(EW,{control:e,key:`${e}-${t}`}))):null}let _v=o.memo(function(){let e=function(){let e=(0,s.d4)(e=>e.mirror.appModel.hyperlinkLocation),t=(0,as.Um)(),a=t&&t.type===eT.K9,n=(0,s.d4)(e=>e.progressBarState.mode===c.Oin.HIDE_UI),r=md(),l=(0,s.d4)(e=>e.mirror.selectionProperties.numSelectedByType?.SHAPE_WITH_TEXT===1&&1===e.mirror.selectionProperties.numSelected);return!(0,s.d4)(e=>!e.mirror.selectionProperties.numSelected||0===e.mirror.selectionProperties.numSelected)&&!e&&!n&&!a&&l&&r}(),t=(0,s.d4)(mu),a=(0,A.Pl)({subscribeToUpdates_expensive:!1}),n=(0,s.d4)(mp);if(!n)return null;let r=function(e,t,a){let n=(0,A.kE)(168,a),r=(0,A.kE)(130,a),l=(0,A.kE)(40,a),i=(0,A.kE)(4,a);switch(c.qmM.getQuickAddInteraction()){case c.lMj.CLICK:{let o={x:e.absoluteBoundingBox.x,y:e.absoluteBoundingBox.y,width:e.absoluteBoundingBox.w,height:e.absoluteBoundingBox.h},s=(0,A.kE)(20,a),d={x:0,y:0,width:n,height:r},m=o.x+o.width/2-n/2,u=o.y+o.height/2-(r-l/2-i);switch(t){case c.gEE.TOP:return d.x=m,d.y=o.y+-r,d;case c.gEE.BOTTOM:return d.x=m,d.y=o.y+o.height+-(r-l/2-2*i-s),d;case c.gEE.LEFT:return d.x=o.x+-(n/2+s),d.y=u,d;case c.gEE.RIGHT:return d.x=o.x+o.width+-(n/2-s),d.y=u,d}}case c.lMj.DRAG:return{x:e.connectorEndCanvasPosition.x-n/2,y:e.connectorEndCanvasPosition.y-r+l/2+i,width:n,height:r}}}(n,t,a);return r?o.createElement(dr.k,{isShown:e,centerInFrame:!0,anchorToRect:r},o.createElement(Ej.IA,null,o.createElement(_T,{testID:"WhiteboardInlineQuickAddMenu",focusableDivTestId:"WhiteboardInlineQuickAddMenuFocusableDiv"}))):null}),_T=o.memo(function({testID:e,focusableDivTestId:t}){let a=o.useRef(null);return(0,dt.kl)("locked")?o.createElement(dT.W1,{testID:e,menuRef:a},o.createElement(pI,null)):o.createElement("div",null,o.createElement(dT.W1,{testID:e,focusableDivTestId:t,menuRef:a,ariaLabel:(0,k.t)("whiteboard.inline_menu.inline_menu_label"),role:"region",tabIndex:-1,propagateInputToFullscreen:!0},o.createElement(EU,null)))});var _y=a(843816),_w=a(901152),_C=a(937166),_S=a(679881),_I=a(199953),_N=a(672904),_L=a(767177),_O=a(132939),_k=a(19776),_A=a(2019),_R=a(2513),_x=a(546815),_M=a(658669),_D=a(295258),_P=a(468975),_F=a(370903),_B=a(995382),_H=a(630834);let _U="figjam_search";function _V(){return(0,w.J2)(c.Ez5.uiState().showCanvasSearch)?o.createElement(_W,null):null}function _W(){let{query:e,next:t,exit:a,setNavigateNearestOnce:n,search:r,isLoading:l,mode:i}=(0,_R.SQ)(),{focusedByButtons:s,hidden:d,setHidden:m,inputRef:p,navDisabled:E}=(0,_R.CT)(),_=(0,v.BI)();(0,tb.h)(()=>{m(!1)}),(0,_R.A5)(p,t,s);let[g,f]=(0,o.useState)(""),h=(0,o.useCallback)(e=>{e.keyCode===c_.Uz.ESCAPE?(e.target?.blur?.(),m(!0)):"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&(0,_k.jr)(e,_k.W0.YES,_k.VA.NO)&&e.stopPropagation()},[m]),b=(0,o.useCallback)(e=>{switch(e.keyCode){case c_.Uz.P:case c_.Uz.UP_ARROW:(e.keyCode!==c_.Uz.P||u.Ay.mac&&(0,c_.vN)(e,c_.xH.CONTROL))&&(t(_D.OP.PREV,"keyboard"),e.stopPropagation(),e.preventDefault());break;case c_.Uz.N:case c_.Uz.DOWN_ARROW:(e.keyCode!==c_.Uz.N||u.Ay.mac&&(0,c_.vN)(e,c_.xH.CONTROL))&&(t(_D.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault());break;case c_.Uz.ENTER:if((0,c_.Fo)(e)){c.YEY.exitSearchMode(c.dNx.SELECT_ACTIVE);break}t(e.shiftKey?_D.OP.PREV:_D.OP.NEXT,"keyboard"),e.stopPropagation(),e.preventDefault()}},[t]),T=(0,es.U1)(),y=!_?.shouldOptimizeForIpadApp;return o.createElement(_I.i,null,o.createElement("div",{ref:T,className:ep()(eT.Dm,"figjam_search--container--p-leE",{"figjam_search--hidden--FjJ1m":d}),onTransitionEnd:()=>{d&&a()},onBlurCapture:e=>{e.relatedTarget&&!e.currentTarget.contains(e.relatedTarget)&&(c.YEY.setOverlayVisible(!1),n())},onKeyDown:h},o.createElement("div",{className:"figjam_search--searchBarRow--sTc8s"},o.createElement(_R.ih,{onChange:e=>r(e),query:e,focusedByButtons:s,innerRef:p,onKeyDown:b,editorType:_A._Y.FIGJAM}),l?o.createElement("div",{className:_P.dz},o.createElement(oe.k,{htmlAttributes:{"data-testid":"canvas-search-loading-spinner"}})):o.createElement(o.Fragment,null,!!e&&o.createElement(_K,null),!E&&o.createElement(o.Fragment,null,o.createElement(ec.K,{disabled:E,onClick:e=>{t(_D.OP.PREV,"button"),!(0,_R.SK)(e)&&y&&(s.current=!0,p.current.focus())},"aria-label":(0,k.t)("canvas_search.previous"),recordingKey:"canvas_search.previous",htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("canvas_search.previous"),"data-tooltip-shortcut-key":"canvas-search-prev"}},o.createElement(_O.U,{svg:_B.A},o.createElement(_N.k,null))),o.createElement(ec.K,{disabled:E,onClick:e=>{t(_D.OP.NEXT,"button"),!(0,_R.SK)(e)&&y&&(s.current=!0,p.current.focus())},"aria-label":(0,k.t)("canvas_search.next"),recordingKey:"canvas_search.next",htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("canvas_search.next"),"data-tooltip-shortcut-key":"canvas-search-next"}},o.createElement(_O.U,{svg:_F.A},o.createElement(_L.l,null))))),o.createElement(_M.g,{lean:"left",minWidth:160,recordingKey:_U}),o.createElement(ec.K,{onClick:()=>{m(!0)},"aria-label":(0,k.t)("canvas_search.close"),recordingKey:"canvas_search.close",htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("canvas_search.close")}},o.createElement(_O.U,{svg:_H.default},o.createElement(em.A,null)))),i===c.EW4.REPLACE&&o.createElement(_x.a,{query:e,value:g,onChange:f,recordingKey:_U,onFocus:(t,a)=>{!e&&a&&p.current?.focus()},hasMultipleSelections:!1})))}function _K(){let{total:e}=(0,m.md)(ef.Fk),t=(0,m.md)(ef.Ch),a=t?.index==null?"?":`${t.index+1}`,n=0===e?(0,k.t)("canvas_search.no_results"):(0,k.t)("canvas_search.results_index_count",{index:a,total:e});return o.createElement("span",{className:"figjam_search--resultsCount--VfQrc","data-testid":"canvas-search-info"},n)}var _G=a(537832),_j=a(821718),_z=a(901426);function _Z(e){let t=e.showSidebar;return o.createElement("div",{className:ep()({"right_sidebar_panel--sidebarContainer--VeCtS right_sidebar_panel--container--CtQ1g":t,"right_sidebar_panel--sidebarContainerHidden--POHqM right_sidebar_panel--container--CtQ1g":!t,"right_sidebar_panel--withoutHeaderMargin--R9T7p":e.withoutHeaderMargin})},o.createElement(eo.V,{className:ev.s.flex.flex1.flexColumn.$},!1===e.scrollable?e.children:o.createElement(eh.P,{className:"right_sidebar_panel--scrollContainer--ORIOM right_sidebar_panel--sidebarDragContainer--n0xNj",hideScrollbar:!0},e.children)))}var _$=a(387987);let _Y=o.forwardRef(function(e,t){return o.createElement("div",{ref:t,style:e.style,className:ep()("whiteboard_sidebar_modal--WhiteboardSidebarModal--PALf6",e.className)},e.children)});var _X=a(606276),_J=a(501391),_Q=a(113615),_q=a(362323);let _0=(0,d.ck)("f4e48159672101a168b296a94e39ef02f032e171"),_1=()=>{let[e,t]=o.useState({}),a=(0,s.d4)(e=>e.music.music);return o.useEffect(()=>{if(!a||a?.isPaused||a?.isStopped)return;let e=setTimeout(()=>t({}),500);return()=>{clearTimeout(e)}},[e,a,a?.isPaused]),e};var _2=a(238795),_5=a(287381),_3=a(986743),_4=a(688477);let _6={song_id:"fake track for no selection",title:"",album_art:"",playback_url:"",start_at_ms:0,cuesheet:{tracks:[]}};function _8({selectedSong:e,activeSongs:t,isLoading:a,withRightMargin:n,withBorder:r,withHeavyFont:l}){let i=(0,s.d4)(e=>e.dropdownShown?.type==="song-dropdown"?e.dropdownShown:null),c=(0,s.Pj)(),d=(0,s.wA)(),m=(0,s.d4)(e=>e.music.playerInstance),u=e||_6,p=(0,sB.$)(),E=[o.createElement(i0.c$,{fullWidth:!0,ignoreCheck:!0,key:"loading-music-options"},o.createElement("div",{className:"music_dropdown--loadingSpinner--0IUIG"},o.createElement(oe.k,null)))];o.useEffect(()=>{let n=t.length&&!a,r=!e,l=t[0];n&&r&&l&&d(_J.Dx({selectedSongID:l.song_id}))},[a,e,d,t]),a||(E=t.map(e=>o.createElement(i0.c$,{key:e.song_id,value:e,icon:o.createElement("img",{src:e.album_art,alt:`album art for ${e.title}`,className:"music_dropdown--inDropdownAlbumArt---OmqE"}),formattedValue:_7.format(e),height:48})));let g=async t=>{t.song_id===_6.song_id?e&&((0,_5.$B)(c.getState(),e.song_id),d(_J.L({selectedSongID:"",musicStartTimeMs:0}))):await (0,_3._s)({songID:t.song_id,onSuccess:()=>{let e=m?.isPlaying();(0,_5.tU)(c.getState(),t.song_id,e||!1);let a=t.song_id;d(_J.Dx({selectedSongID:a,dontTransmitWhenPaused:!0}))},onNotFound:()=>{d(_J.qV()),d(_.F.enqueue({message:(0,k.t)("whiteboard.timer.song_not_available_error"),error:!0,type:_J.lm}))}})},f=u===_6?(0,k.t)("whiteboard.music.loading"):void 0;return o.createElement(i0.l6,{id:"song-dropdown",ariaLabel:(0,k.t)("whiteboard.music_player_select.aria_label"),"data-testid":"music-dropdown-button",className:"music_dropdown--songDropdownClosed--PEWeP",property:u,willShowDropdown:()=>new Promise(e=>{(0,_5.eT)(c.getState()),e()}),onChange:g,dropdownWidth:224,formatter:_7,dispatch:d,dropdownShown:i,dropdownOverride:f,inputClassName:ep()("music_dropdown--songDropdownInput--VQjWF",{"music_dropdown--songInputTextSongSelected--4mWzH":!!e,"music_dropdown--songInputTextNoSongSelected--AW4Zi":!e,"music_dropdown--songDropdownRightMargin--SiuxZ":n,"music_dropdown--songDropdownHeavyFont--fIlJd":l,"music_dropdown--border--8RslA":r,"music_dropdown--withHover--5STIo":r&&!p}),chevronClassName:"music_dropdown--songDropdownChevronStandalone--0F6eP music_dropdown--songDropdownChevronStandalone--0F6eP",icon:u===_6?o.createElement(_2.t,{className:"music_dropdown--musicIcon--rYDUF",svg:_4.A}):void 0,neverConstrain:!0,hideDropdownWhenContainerMoves:!0,targetDomNode:document.body},E)}let _7={format:e=>e?.title||(0,k.t)("whiteboard.timer.none")};var _9=a(65841),ge=a(334440);function gt(){let e=(0,oc.nF)(!0),t=!(0,ge.N)()&&e.enabled,a=(0,s.d4)(e=>e.userFlags.dismissed_figjam_music_volume_hint),n=(0,s.d4)(e=>e.music.music?.selectedSongID&&e.music.music?.selectedSongID!==""),r=(0,s.d4)(e=>e.music.music?.isPaused===!1&&e.music.music?.isStopped===!1),l=(0,s.wA)();return t||a||!r||!n?null:o.createElement("div",{className:ep()("volume_hint--hintContainer--A9gj2",eT.Dm),"data-testid":"volume-hint"},o.createElement("div",null,(0,k.tx)("whiteboard.timer.music_volume_hint_prompt_cta_v2",{promptQuestion:o.createElement("span",{className:"volume_hint--bold--vS77N"},(0,k.t)("whiteboard.timer.music_volume_hint_prompt_question"))})),o.createElement(ec.K,{onClick:()=>{l(V.b({dismissed_figjam_music_volume_hint:!0}))},"aria-label":(0,k.t)("general.close")},o.createElement(em.A,null)))}let ga="buttons--secondaryButton--Y7X0E",gn="buttons--withHover--csWRq",gr="buttons--primaryButton--cOfBR",gl="buttons--flexGrow--Qu8-s";function gi(e){let{flexGrow:t,...a}=e,n=(0,sB.$)();return(0,sF.R)()?o.createElement("div",{className:ep()(ga,{[gl]:e.flexGrow})},o.createElement(ti.IK,{...a,variant:"secondary"},e.children)):o.createElement(rz.nR,{className:ep()(ga,{[gl]:e.flexGrow,[gn]:!n}),...a},e.children)}function go(e){let{flexGrow:t,...a}=e,n=(0,sB.$)();return(0,sF.R)()?o.createElement("div",{className:ep()(gr,{[gl]:e.flexGrow})},o.createElement(ti.IK,{...a,variant:"primary"},e.children)):o.createElement(rz.$$,{className:ep()(gr,{[gl]:e.flexGrow,[gn]:!n}),...a},e.children)}function gs(e){let{titleText:t,bodyText:a,cancelButtonText:n,confirmButtonText:r,onCancel:l,onConfirm:i,onCancelDisabled:s,onConfirmDisabled:c,recordingKey:d}=e;return o.createElement("div",{className:"meeting_tool_cancel_view--cancelViewContainer--W8dpk"},o.createElement("div",{className:"meeting_tool_cancel_view--headerTitle--UIcBu text--fontPos14--OL9Hp text--_fontBase--QdLsd"},t),o.createElement("div",{className:"meeting_tool_cancel_view--descriptionSection--9D1U7 text--fontPos11--2LvXf text--_fontBase--QdLsd"},a),o.createElement("div",{className:ev.s.flex.gap10.$},o.createElement(gi,{flexGrow:!0,onClick:l,disabled:s,recordingKey:e$.Pt(d,"cancel")},n),o.createElement(go,{flexGrow:!0,onClick:i,disabled:c,recordingKey:e$.Pt(d,"confirm")},r)))}var gc=a(91114),gd=a(978354),gm=a(263159);let gu=(0,o.memo)(function(e){return(0,gm.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,gm.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M16.5 7h-9a.5.5 0 0 0-.5.5v9a.5.5 0 0 0 .5.5h9a.5.5 0 0 0 .5-.5v-9a.5.5 0 0 0-.5-.5m-9-1A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h9a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 16.5 6z",clipRule:"evenodd"})})}),gp="playback_control_button--mediaControlButton--Wp3H1",gE="playback_control_button--withHover--9DG-T";var g_=a(814239),gg=a(351731),gf=a(674321),gh=(e=>(e.PLAY="play",e.PAUSE="pause",e.STOP="stop",e))(gh||{});function gb(e){let t=(0,sB.$)(),{buttonState:a,onClick:n,disabled:r,dataTooltip:l,dataOnboardingKey:i}=e;switch(a){case"play":return o.createElement("button",{className:ep()("playback_control_button--playButton--a1I8c playback_control_button--mediaControlButton--Wp3H1",{[gE]:!t}),"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":l,"data-onboarding-key":i,disabled:r,onClick:n,"aria-label":l},o.createElement(_O.U,{svg:gg.A},o.createElement(gc.K,null)));case"pause":return o.createElement("button",{className:ep()(gp,{[gE]:!t}),"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":l,"data-onboarding-key":i,disabled:r,onClick:n,"aria-label":l},o.createElement(_O.U,{svg:g_.A},o.createElement(gd.p,null)));case"stop":return o.createElement("button",{className:ep()(gp,{[gE]:!t}),"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":l,disabled:r,onClick:n,"data-onboarding-key":i,"aria-label":l},o.createElement(_O.U,{svg:gf.A},o.createElement(gu,null)))}}function gv(){let[e,t]=o.useState(!1),a=(0,s.d4)(e=>e.music.music),n=(0,s.d4)(e=>e.music.playerInstance),r=a?.selectedSongID||"",l=(0,_q.N)(r),i=l?.start_at_ms,c=(0,s.d4)(e=>e.multiplayer.allUsers.length),[d,m]=o.useState(!1),u=(0,s.d4)(e=>e.music.activeSongs,_3.b2),p=(0,_Q.fk)(),E=(0,s.wA)();o.useEffect(()=>{u.length&&m(!1)},[u.length]);let _=(0,s.Pj)(),g=o.useCallback(()=>{r&&(0,_5.xf)(_.getState(),r),E(_J.mF({musicStartTimeMs:i}))},[E,i,r,_]),f=o.useCallback(()=>{r&&(0,_5.fx)(_.getState(),r),E(_J.g_())},[E,r,_]),h=o.useCallback(()=>{g()},[g]),b=o.useCallback(()=>{let e=n?.lastPlayedTimestamp?n.lastPlayedTimestamp:0;(0,_3.nz)(e,c)?t(!0):f()},[f,n,c]),v=o.useCallback(()=>g(),[g]);return e?o.createElement(gs,{titleText:(0,k.t)("whiteboard.music.stop_music_confirmation_prompt"),bodyText:(0,k.t)("whiteboard.music.stop_music_confirmation_subtext"),cancelButtonText:(0,k.t)("whiteboard.music.stop_music_cancel_button"),confirmButtonText:(0,k.t)("whiteboard.timer.stop_timer_confirmation_button"),onCancel:()=>t(!1),onConfirm:()=>{t(!1),f()}}):o.createElement(o.Fragment,null,o.createElement("div",{id:"musicModal",className:"music_view--musicView--XegVa","data-testid":"music-modal"},o.createElement(_9.Us,{handlePause:f,handleTonearmResume:h}),o.createElement("div",{className:"music_view--controlContainer--GYIKD"},o.createElement("div",{className:"music_view--selectSongContainer--qoUiA"},o.createElement(_8,{selectedSong:l,activeSongs:u,isLoading:d,withBorder:!0,withHeavyFont:!0})),o.createElement(gb,{buttonState:p?gh.STOP:gh.PLAY,onClick:p?b:v,dataTooltip:p?(0,k.t)("whiteboard.music.end_music_tooltip"):(0,k.t)("whiteboard.music.play_music_tooltip")}))),o.createElement(gt,null))}var gT=a(967790),gy=a(665600),gw=a(810011),gC=a(25424),gS=a(890297);function gI(){(0,gC.rJ)(),(0,gC.OI)();let[e,t]=(0,gC.Jg)(),{startTimer:a,stopTimer:n,addMinutes:r,pauseTimer:l,resumeTimer:i}=t,c=(0,m.md)(gw.jo),d=(0,s.d4)(e=>e.multiplayer.allUsers.length),[u,p]=o.useState(!1),E=c.time,_=(0,_X.RE)(e),g=(0,_X.G8)(E),f=(0,_X.CM)(E),h=(0,_X.IQ)(E),b=(0,_X.$V)(E,e)&&!h;o.useEffect(()=>{h&&p(!1)},[h]);let v=o.useCallback(()=>{l()},[l]),T=o.useCallback(()=>{a()},[a]),y=o.useCallback(()=>{i()},[i]),w=o.useCallback(()=>{n()},[n]);if(u&&!h)return o.createElement(gs,{titleText:(0,k.t)("whiteboard.timer.end_timer_confirmation_new"),bodyText:(0,k.t)("whiteboard.timer.end_timer_confirmation_subtext_new"),cancelButtonText:(0,k.t)("whiteboard.timer.end_timer_go_back_new"),confirmButtonText:(0,k.t)("whiteboard.timer.end_timer_button_new"),onCancel:()=>p(!1),onConfirm:()=>{p(!1),w()}});let C=g?(0,k.t)("whiteboard.timer.start_timer_tooltip"):E?.isPaused?(0,k.t)("whiteboard.timer.resume_timer_tooltip"):(0,k.t)("whiteboard.timer.pause_timer_tooltip"),S=g&&_<=0,I=E?.isPaused||g;return o.createElement("div",{className:"timer_view--timerContainer--kRcU1","data-testid":"timer-modal"},o.createElement("div",{className:ev.s.flex.flexColumn.p16.gap12.$},o.createElement("div",{className:"timer_view--timerBackground--NUQ4g"},o.createElement(gy.qT,{timerActions:t,timerState:e,isStopped:g,size:gy.ZP.XLARGE,withoutUnderline:!0,isInUI3Toolbar:!1})),o.createElement("div",{className:ev.s.flex.justifyBetween.itemsCenter.$},o.createElement(gi,{onClick:e=>{r(_X.AC),e.preventDefault()},disabled:!b,"aria-label":(0,k.t)("whiteboard.timer.add_one_minute.aria_label")},o.createElement("div",{className:"timer_view--addTimeButton--tKy9r"},o.createElement(_O.U,{className:ep()("timer_view--plusIcon--NOOSc",{"timer_view--disabled--iHZ7I":!b}),svg:gS.A},o.createElement(gT.x,null)),(0,k.tx)("whiteboard.timer.min",{timeIncrement:_X.AC}))),o.createElement("div",{className:ev.s.flex.gap12.$},!g&&o.createElement(gb,{buttonState:gh.STOP,onClick:()=>{E&&((0,_X.fQ)(E,d)?p(!0):w())},dataTooltip:(0,k.t)("whiteboard.timer.end_timer_tooltip"),disabled:g||h}),o.createElement(gb,{buttonState:I?gh.PLAY:gh.PAUSE,onClick:I?()=>{f?y():T()}:v,dataTooltip:C,disabled:I?S:h,dataOnboardingKey:_X.Hm})))))}var gN=a(463713),gL=a(625366);function gO({onCancel:e}){let t=(0,gL.C3)(),a=(0,s.wA)(),n=(0,W.tS)(),r=(0,rs.oh)(gN.wQ(n||"")),l=o.useCallback(()=>{a(gN.PK({uiSurface:"MeetingsPanel"})),(0,e_.sx)("confirm_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:n})},[a,t,n]),i=o.useCallback(()=>{e(),(0,e_.sx)("cancel_end_voting_session",{source:"voting_modal",votingSessionId:t?.id,fileKey:n})},[e,t,n]);return o.createElement(gs,{titleText:(0,k.t)("voting.modal.end_voting_session_modal_header"),bodyText:(0,k.t)("voting.modal.end_voting_session_modal_description"),cancelButtonText:(0,k.t)("meetings_panel.voting.go_back"),confirmButtonText:(0,k.t)("voting.modal.end_voting_session_modal_confirm_button"),onCancel:i,onConfirm:l,onCancelDisabled:r||!t,onConfirmDisabled:r||!t,recordingKey:"endVotingModal"})}var gk=a(719971),gA=a(329753);let gR="face_pile--facePileAvatarPositioner--pWI9a",gx="face_pile--active--5AAUF";var gM=a(95779);function gD({userId:e,isActive:t}){let{user:a,loading:n}=(0,N.wW)(e),r=(0,sF.R)();return o.createElement(gA.v,{userId:e,size:r?16:24,user:a,loading:n,defaultClassName:ep()("face_pile--facePileAvatar--pZDZe",t&&gx),loadingClassName:ep()("face_pile--facePileAvatarLoading--uhhTa face_pile--facePileAvatar--pZDZe",t&&gx)})}function gP({overflowUserIds:e,isActive:t}){return o.createElement(o.Fragment,null,o.createElement("div",{className:gR},o.createElement("div",{className:ep()({"face_pile--facePileOverflowIcon--qL11N":!0,[gx]:t})},o.createElement(eQ.B,{className:"face_pile--overflowIcon--q-7wp",svg:gM.A}))))}function gF({userIds:e,maxHeadsBeforeOverflow:t,isActive:a}){let n=e.length>t,r=n?e.slice(0,t-1):e,l=n?e.slice(t-1):[];return o.createElement("div",{className:"face_pile--facePileContainer--DzqrO"},l.length?o.createElement(gP,{overflowUserIds:l,isActive:a}):null,[...r].reverse().map(e=>o.createElement("div",{className:gR,key:e},o.createElement(gD,{userId:e,isActive:a}))))}var gB=a(524696);function gH({userId:e}){let{user:t,loading:a}=(0,N.wW)(e);return o.createElement(o.Fragment,null,o.createElement(gA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"voting_user_overflow_dropdown--loadingAvatar---1jYn"}),o.createElement(gA.m,{userId:e,user:t,loading:a,defaultClassName:"voting_user_overflow_dropdown--userName--huz8P text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L ellipsis--ellipsis--Tjyfa",loadingClassName:"voting_user_overflow_dropdown--loadingUserName--pC-X-"}))}let gU=e=>{let{windowInnerHeight:t}=(0,gB.l)(),a=(0,aY.Yk)();return t-(e.y+e.height)-a-22};function gV({userIds:e,targetRect:t}){let a=gU(t),n=(0,sF.R)(),r=0===e.length;return o.createElement(Ei.Cf,{className:"voting_user_overflow_dropdown--pointingDropdown--equm6",targetRect:t,lean:"center",disableDropdownScrollContainer:!0,propagateCloseClick:!0},o.createElement(eh.P,{maxHeight:a,width:n?192:240},o.createElement("ol",{className:"voting_user_overflow_dropdown--dropdownPadding---VKEq"},r?o.createElement("div",{className:"voting_user_overflow_dropdown--noVotesText--T2dVF text--fontNeg13--7Ebf5 text--_fontBase--QdLsd text--_negText--j9g-L"},(0,k.tx)("voting.modal.during_voting_no_votes_dropdown")):e.map(e=>o.createElement("li",{key:e,className:"voting_user_overflow_dropdown--listItem--d7eTA"},o.createElement(gH,{userId:e}))))))}var gW=a(325184);let gK="users_voted--rootSelected--y6VPJ";function gG({votingSessionInfo:e}){return(0,o.useMemo)(()=>e.votedNodes.reduce((e,t)=>(Object.entries(t.userIdToNodeVotes).forEach(([t,a])=>{e[t]=(e[t]||0)+a.length}),e),{}),[e.votedNodes])}let gj=e=>{let t=(0,s.wA)();return{isDropdownOpen:(0,s.d4)(e=>e.dropdownShown?.type===gZ),handleTargetClick:()=>{t(gk.gR({type:gZ}))}}};function gz({votingSessionInfo:e,userVoteLimit:t}){let[a,n]=(0,o.useState)(null),[r,l]=(0,o.useState)(!1),i=(0,L.TA)(),s=gG({votingSessionInfo:e}),c=(0,sF.R)(),d=(0,o.useMemo)(()=>Object.entries(s).filter(([e,a])=>a&&a>=t).map(([e])=>e).sort((0,gW.zi)(i)),[s,t,i]),{isDropdownOpen:m,handleTargetClick:u}=gj(d);return o.createElement(o.Fragment,null,o.createElement("button",{className:ep()({"users_voted--duringSessionRoot--XC-59 users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[gK]:m}),onMouseDown:e=>e.stopPropagation(),onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onClick:u,ref:e=>n(e)},c&&o.createElement(gF,{userIds:d,maxHeadsBeforeOverflow:4,isActive:r||m}),o.createElement("p",{className:"users_voted--duringSessionText--glncG"},d.length>0?(0,k.tx)("voting.modal.voted",{numVotes:d.length}):(0,k.tx)("voting.modal.during_voting_no_ones_voted")),!c&&o.createElement(gF,{userIds:d,maxHeadsBeforeOverflow:4,isActive:r||m}),o.createElement(eQ.B,{className:ep()({"users_voted--chevronDown--LWnXw":!0,"users_voted--chevronDownActive---IB9j":m}),svg:Ed.A})),m&&a&&o.createElement(gV,{targetRect:a.getBoundingClientRect(),userIds:d}))}let gZ="USERS_VOTED_DROPDOWN";function g$({votingSessionInfo:e}){let[t,a]=(0,o.useState)(null),n=(0,L.TA)(),r=gG({votingSessionInfo:e}),l=(0,o.useMemo)(()=>Object.keys(r).sort((0,gW.zi)(n)),[r,n]),{isDropdownOpen:i,handleTargetClick:s}=gj(l);return o.createElement(o.Fragment,null,o.createElement("button",{className:ep()({"users_voted--resultsDetailRoot--K2wEg users_voted--rootBase--KRjQs text--fontPos12--YsUAh text--_fontBase--QdLsd":!0,[gK]:i}),onMouseDown:e=>e.stopPropagation(),onClick:s,ref:e=>a(e)},o.createElement("p",null,l.length>0?(0,k.tx)("voting.modal.voted",{numVotes:l.length}):(0,k.tx)("voting.modal.after_voting_no_one_voted"))),i&&t&&o.createElement(gV,{targetRect:t.getBoundingClientRect(),userIds:l}))}function gY({title:e,useSmallerText:t}){let[a,n]=(0,o.useState)(!1),r=(0,o.useRef)(null);return(0,o.useEffect)(()=>{let e=r.current;e?n(e.scrollHeight>e.clientHeight):n(!1)},[e,r]),o.createElement("div",{ref:r,className:ep()("voting_components--votingSessionTitle--KDhQJ text--fontPos14--OL9Hp text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k",{"voting_components--smallerText--rtDFU text--fontPos11--2LvXf text--_fontBase--QdLsd":t}),"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":a?e:void 0},e)}function gX({votingSessionInfo:e,onEndClick:t,recordingKey:a}){let n=(0,gL.C3)(),r=(0,s.d4)(e=>!e.user),l=(0,W.tS)(),i=(0,sF.R)();return n?o.createElement("div",{className:"joined_vote_view--joinedVoteViewContainer--2w8-v"},o.createElement("div",{className:"joined_vote_view--votingSessionTitleContainer--Yj49f"},o.createElement(gY,{title:(0,gW.DG)(n),useSmallerText:i})),o.createElement("div",{className:"joined_vote_view--usersVotedContainer--nEFTt"},o.createElement(gz,{votingSessionInfo:e,userVoteLimit:n.userVoteLimit})),!u.Ay.isMeetDevice&&o.createElement("div",{className:ev.s.flex.$},o.createElement(gi,{flexGrow:!0,onClick:()=>{t(),(0,e_.sx)("click_end_voting_session",{source:"voting_modal",votingSessionId:n.id,fileKey:l})},disabled:r,"data-tooltip-type":r?e2.Ib.TEXT:void 0,"data-tooltip":r?(0,k.t)("voting.modal.end_disabled_logged_out_tooltip"):void 0,recordingKey:e$.Pt(a,"endVotingSession")},o.createElement("span",null,(0,k.tx)("voting.modal.end_for_all"))))):null}function gJ({votingSessionInfo:e,recordingKey:t}){let[a,n]=o.useState(!1),r=o.useCallback(()=>{n(!1)},[n]),l=o.useCallback(()=>{n(!0)},[n]);return o.createElement(o.Fragment,null,a?o.createElement(gO,{onCancel:r}):o.createElement(gX,{votingSessionInfo:e,onEndClick:l,recordingKey:t}))}function gQ(){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"142",height:"115",viewBox:"0 0 142 115",fill:"none"},o.createElement("g",{filter:"url(#filter0_d_536_1194)"},o.createElement("mask",{id:"mask0_536_1194",style:{maskType:"luminance"},maskUnits:"userSpaceOnUse",x:"9",y:"7",width:"112",height:"121"},o.createElement("path",{d:"M30.3749 27.8343C32.0497 25.2359 34.6296 23.3518 37.6144 22.5472L95.2853 7.00006L120.973 102.285L25.6874 127.973L9.4772 67.8424C8.5589 64.4361 9.1256 60.8001 11.037 57.8348L30.3749 27.8343Z",fill:"white"})),o.createElement("g",{mask:"url(#mask0_536_1194)"},o.createElement("path",{d:"M95.2854 7.00012L120.973 102.285L25.6875 127.973L0 32.6875L95.2854 7.00012Z",fill:"#FFD966"}),o.createElement("g",{filter:"url(#filter1_f_536_1194)"},o.createElement("rect",{x:"-9.06198",y:"72.871",width:"80.2756",height:"13.9108",transform:"rotate(-57 -9.06198 72.871)",fill:"black",fillOpacity:"0.3"})),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"#FFD966"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29.7476 28.8039L10.2326 59.1223C15.1411 51.4964 30.0572 48.6566 30.0572 48.6566C30.0572 48.6566 25.2827 35.7405 29.7476 28.8039Z",fill:"url(#paint0_linear_536_1194)"}))),o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_536_1194",x:"-20.5598",y:"-13.5598",width:"162.092",height:"162.092",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",null),o.createElement("feGaussianBlur",{stdDeviation:"10.2799"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.08 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_536_1194"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_536_1194",result:"shape"})),o.createElement("filter",{id:"filter1_f_536_1194",x:"-35.6799",y:"-21.0717",width:"108.624",height:"128.137",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"BackgroundImageFix",result:"shape"}),o.createElement("feGaussianBlur",{stdDeviation:"13.3089",result:"effect1_foregroundBlur_536_1194"})),o.createElement("linearGradient",{id:"paint0_linear_536_1194",x1:"20.32",y1:"42.4426",x2:"29.6252",y2:"49.517",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:"0.5"}),o.createElement("stop",{offset:"0.319642",stopColor:"white",stopOpacity:"0.2"}),o.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.2"}))))}function gq(){return o.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{filter:"url(#filter0_d_1904_66844)"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.6975 43.3947V28.2216C17.2146 28.9246 15.5806 29.3745 13.8194 29.4818L9.75977 29.729L9.75977 13.542L13.3208 13.2938C16.2911 13.0869 18.6537 11.8389 19.8608 8.79489L20.819 6.37863H34.6307V43.3947H18.6975ZM18.6975 23.7911C20.2723 22.6622 21.5839 21.1021 22.5245 19.3196V39.5677H30.8037V10.2056H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C14.9507 25.5788 16.2382 25.1962 17.4138 24.5825C17.8583 24.3505 18.2869 24.0855 18.6975 23.7911Z",fill:"white"}),o.createElement("path",{d:"M22.5245 39.5677H30.8037V10.2057H23.4183C21.5367 14.9506 17.6323 16.8297 13.5868 17.1116V25.6618C17.4441 25.427 20.6899 22.7961 22.5245 19.3196V39.5677Z",fill:"#9747FF"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.64916 24.2332H9.86288L17 28L20.5 28.0597V39.5527H19.1422V43.3803H7.64916V39.5527L3.82166 39.5527L3.82166 28.0597L7.64916 28.0597V24.2332ZM11.4822 35.7197H7.65466V31.8927L11.4822 31.8927V28.0662H15.3092L15.3092 31.8867M15.3092 31.8927H19.1357ZM15.3092 35.7197H15.3152ZM19.1357 35.7197V31.8927ZM15.3092 35.7257V39.5473ZM11.4822 39.5473H15.3092ZM11.4822 35.7197V39.5473ZM15.3152 35.7197L19.1357 35.7197Z",fill:"white"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3092 28.0662H11.4822V31.8927L7.65466 31.8927V35.7197L11.4822 35.7197V39.5473H15.3092V35.7197L19.1357 35.7197V31.8927L15.3092 31.8927V28.0662Z",fill:"#9747FF"}),o.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"#EFBA00"}),o.createElement("path",{d:"M38.9984 23.4121C39.1678 22.8781 39.9234 22.8781 40.0928 23.4121L41.5337 27.9551C41.584 28.1137 41.7006 28.2427 41.8533 28.3086L45.9788 30.0896C46.4408 30.289 46.4408 30.9442 45.9788 31.1437L41.8533 32.9246C41.7006 32.9906 41.584 33.1195 41.5337 33.2781L40.0928 37.8211C39.9234 38.3551 39.1678 38.3551 38.9984 37.8211L37.5575 33.2781C37.5072 33.1195 37.3906 32.9906 37.2378 32.9246L33.1124 31.1437C32.6503 30.9442 32.6503 30.289 33.1124 30.0896L37.2378 28.3086C37.3906 28.2427 37.5072 28.1137 37.5575 27.9551L38.9984 23.4121Z",fill:"url(#paint0_linear_1904_66844)"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3739 28.313C37.4969 28.2595 37.5912 28.1537 37.6324 28.023L39.0624 23.4807C39.1998 23.0443 39.8002 23.0443 39.9376 23.4807L41.3676 28.023C41.4088 28.1537 41.5031 28.2595 41.6261 28.313L45.6529 30.0643C46.0273 30.2272 46.0273 30.7728 45.6529 30.9357L41.6261 32.687C41.5031 32.7405 41.4088 32.8463 41.3676 32.977L39.9376 37.5193C39.8002 37.9557 39.1998 37.9557 39.0624 37.5193L37.6324 32.977C37.5912 32.8463 37.4969 32.7405 37.3739 32.687L33.3471 30.9357C32.9727 30.7728 32.9727 30.2272 33.3471 30.0643L37.3739 28.313ZM42.8548 22.5094L43.9178 25.8859L46.8472 27.1599C49.7176 28.4083 49.7176 32.5917 46.8472 33.8401L43.9178 35.1141L42.8548 38.4906C41.8014 41.8365 37.1986 41.8364 36.1452 38.4906L35.0822 35.1141L32.1528 33.8401C32.1009 33.8175 32.05 33.794 32 33.7696L32 27.2304C32.05 27.206 32.1009 27.1825 32.1528 27.1599L35.0822 25.8859L36.1452 22.5094C37.1986 19.1635 41.8014 19.1636 42.8548 22.5094Z",fill:"white"}),o.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint1_linear_1904_66844)"}),o.createElement("path",{d:"M38.9985 23.4116C39.1678 22.8776 39.9235 22.8776 40.0929 23.4116L41.5338 27.9546C41.5841 28.1132 41.7007 28.2422 41.8534 28.3081L45.9789 30.0891C46.4409 30.2886 46.4409 30.9437 45.9789 31.1432L41.8534 32.9241C41.7007 32.9901 41.5841 33.1191 41.5338 33.2776L40.0929 37.8206C39.9235 38.3546 39.1678 38.3546 38.9985 37.8206L37.5576 33.2776C37.5073 33.1191 37.3906 32.9901 37.2379 32.9241L33.1125 31.1432C32.6504 30.9437 32.6504 30.2886 33.1125 30.0891L37.2379 28.3081C37.3906 28.2422 37.5073 28.1132 37.5576 27.9546L38.9985 23.4116Z",fill:"url(#paint2_linear_1904_66844)"})),o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_1904_66844",x:"-1.91351",y:"-1.27567",width:"54.8539",height:"54.8539",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:"0.637836"}),o.createElement("feGaussianBlur",{stdDeviation:"0.956754"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66844"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66844",result:"shape"})),o.createElement("linearGradient",{id:"paint0_linear_1904_66844",x1:"46.6528",y1:"37.3139",x2:"29.2026",y2:"24.1295",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:"0"}),o.createElement("stop",{offset:"0.33271",stopColor:"white",stopOpacity:"0.11"}),o.createElement("stop",{offset:"0.449925",stopColor:"white",stopOpacity:"0.5"}),o.createElement("stop",{offset:"0.562473",stopColor:"white",stopOpacity:"0.11"}),o.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"})),o.createElement("linearGradient",{id:"paint1_linear_1904_66844",x1:"31.8916",y1:"21.6864",x2:"47.5581",y2:"39.2257",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#F7C000"}),o.createElement("stop",{offset:"1",stopColor:"#E8B604"})),o.createElement("linearGradient",{id:"paint2_linear_1904_66844",x1:"47.1997",y1:"39.5458",x2:"31.5331",y2:"22.0066",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:"0"}),o.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),o.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function g0(){return o.createElement("svg",{width:"46",height:"45",viewBox:"0 0 46 45",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{filter:"url(#filter0_d_1904_66832)"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.6036 25.0556C1.12383 20.6128 1.12383 13.3775 5.6036 8.93478C7.76292 6.7933 10.6465 5.61081 13.6925 5.61081C16.5194 5.61081 19.209 6.62902 21.3102 8.49271C23.4103 6.62969 26.0996 5.60886 28.9298 5.60886C31.9764 5.60886 34.8598 6.79177 37.0207 8.93478C39.1809 11.0772 40.3839 13.9501 40.3839 16.9962C40.3839 20.038 39.1847 22.91 37.0234 25.0548C37.0232 25.055 37.0236 25.0547 37.0234 25.0548C37.0226 25.0556 37.0214 25.0568 37.0207 25.0575L35.3114 26.7566L21.3162 40.6361L5.6036 25.0556ZM21.3102 13.2071L19.4117 11.3243C17.8838 9.80902 15.8532 8.97612 13.6925 8.97612C11.5298 8.97612 9.49924 9.81097 7.97334 11.3243C4.821 14.4506 4.821 19.5398 7.97334 22.6661L21.3161 35.8966L32.9417 24.3671L34.6509 22.6681C36.1788 21.1528 37.0186 19.139 37.0186 16.9962C37.0186 14.8514 36.1768 12.8376 34.6509 11.3243C33.1231 9.80902 31.0925 8.97416 28.9298 8.97416C26.7671 8.97416 24.7365 9.80902 23.2087 11.3243L21.3102 13.2071Z",fill:"white"}),o.createElement("path",{d:"M7.97332 22.6661C4.82098 19.5398 4.82098 14.4506 7.97332 11.3243C9.49922 9.81098 11.5298 8.97612 13.6925 8.97612C15.8532 8.97612 17.8838 9.80902 19.4116 11.3243L21.3101 13.2071L23.2087 11.3243C24.7365 9.80902 26.7671 8.97417 28.9298 8.97417C31.0924 8.97417 33.123 9.80902 34.6509 11.3243C36.1768 12.8376 37.0186 14.8514 37.0186 16.9962C37.0186 19.139 36.1788 21.1528 34.6509 22.6681L32.9417 24.3671L21.3161 35.8966L7.97332 22.6661Z",fill:"#FF8577"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M31.0424 27.6444C30.9973 27.7838 30.8938 27.8968 30.7588 27.9538L26.3392 29.8229C25.9283 29.9966 25.9283 30.579 26.3392 30.7527L30.7588 32.6217C30.8938 32.6788 30.9973 32.7918 31.0424 32.9312L32.6119 37.7787C32.7627 38.2444 33.4216 38.2444 33.5724 37.7787L35.142 32.9312C35.1871 32.7918 35.2906 32.6788 35.4256 32.6217L39.8452 30.7527C40.2561 30.579 40.2561 29.9966 39.8452 29.8229L35.4256 27.9538C35.2906 27.8968 35.1871 27.7838 35.142 27.6444L33.5724 22.7969C33.4216 22.3312 32.7627 22.3312 32.6119 22.7969L31.0424 27.6444ZM37.9408 25.3637L36.7741 21.7603C35.618 18.1897 30.5664 18.1896 29.4103 21.7603L28.2436 25.3637L25.0284 26.7233C21.8781 28.0556 21.8781 32.52 25.0284 33.8523L28.2436 35.2119L29.4103 38.8153C30.5664 42.3859 35.618 42.386 36.7741 38.8153L37.9408 35.2119L41.156 33.8523C44.3062 32.52 44.3062 28.0556 41.156 26.7233L37.9408 25.3637Z",fill:"white"}),o.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint0_linear_1904_66832)"}),o.createElement("path",{d:"M32.6119 22.7969C32.7627 22.3312 33.4216 22.3312 33.5724 22.7969L35.142 27.6444C35.1871 27.7838 35.2906 27.8968 35.4256 27.9538L39.8452 29.8229C40.2561 29.9966 40.2561 30.5789 39.8452 30.7527L35.4256 32.6217C35.2906 32.6788 35.1871 32.7917 35.142 32.9312L33.5724 37.7787C33.4216 38.2444 32.7627 38.2444 32.6119 37.7787L31.0424 32.9312C30.9973 32.7917 30.8938 32.6788 30.7588 32.6217L26.3392 30.7527C25.9283 30.5789 25.9283 29.9966 26.3392 29.8229L30.7588 27.9538C30.8938 27.8968 30.9973 27.7838 31.0424 27.6444L32.6119 22.7969Z",fill:"url(#paint1_linear_1904_66832)"})),o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_1904_66832",x:"-1.68265",y:"-1.12177",width:"48.2361",height:"48.2361",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:"0.560885"}),o.createElement("feGaussianBlur",{stdDeviation:"0.841327"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1904_66832"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1904_66832",result:"shape"})),o.createElement("linearGradient",{id:"paint0_linear_1904_66832",x1:"25.2398",y1:"21.3136",x2:"40.9446",y2:"39.2619",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#F7C000"}),o.createElement("stop",{offset:"1",stopColor:"#E8B604"})),o.createElement("linearGradient",{id:"paint1_linear_1904_66832",x1:"40.9446",y1:"39.2619",x2:"25.2398",y2:"21.3136",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:"0"}),o.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),o.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function g1(){return o.createElement("svg",{width:"41",height:"40",viewBox:"0 0 41 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("g",{filter:"url(#filter0_d_1972_66634)"},o.createElement("path",{d:"M25.0742 24.5505V24.5597H25.7273C26.0169 24.5611 26.3027 24.6243 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7807 26.6774 27.7219 27.0545 27.5612 27.3935C27.4006 27.7324 27.1448 28.0191 26.824 28.2198C26.5033 28.4204 26.1309 28.5267 25.7508 28.526H25.0068V28.5368C25.2967 28.5379 25.5827 28.6012 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9114 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.6787 31.7064 26.4232 31.9929 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C11.16 13.1555 14.6305 11.3018 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86334 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.5467 17.6406 27.7025 17.9893 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.5255 20.4703 26.1538 20.5767 25.7742 20.5765H25.1478H26.479C26.7688 20.5775 27.0549 20.6408 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.5326 22.6931 28.4738 23.0697 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.2572 24.4348 26.8853 24.5414 26.5056 24.5412L25.0742 24.5505Z",fill:"#0FA958"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M25.0742 24.5505V24.5597H25.7273C25.9951 24.561 26.2598 24.6152 26.5056 24.7189C26.506 24.719 26.5064 24.7192 26.5068 24.7194C26.5263 24.7276 26.5457 24.7362 26.565 24.7451C26.8274 24.8659 27.0598 25.0414 27.2464 25.2593L27.2793 25.3009C27.5241 25.587 27.6808 25.9359 27.7307 26.3067C27.7326 26.3206 27.7343 26.3346 27.7359 26.3485C27.7761 26.7057 27.7158 27.0672 27.5612 27.3935C27.5549 27.4069 27.5484 27.4202 27.5417 27.4334C27.3802 27.7549 27.1321 28.027 26.824 28.2198C26.5566 28.387 26.2533 28.4887 25.9396 28.5175C25.8794 28.5231 25.8187 28.5259 25.7579 28.526C25.7555 28.526 25.7531 28.526 25.7508 28.526H25.0069L25.0068 28.5368C25.2622 28.5378 25.5146 28.587 25.7505 28.6815C25.7504 28.6815 25.7506 28.6816 25.7505 28.6815C25.7822 28.6943 25.814 28.7079 25.8451 28.7223C26.1075 28.8434 26.3398 29.0194 26.526 29.2379L26.5589 29.2764C26.8032 29.5625 26.9595 29.9113 27.0091 30.2818C27.0588 30.6523 26.9999 31.0291 26.8393 31.3678C26.8322 31.3827 26.825 31.3975 26.8175 31.4123C26.6561 31.7315 26.409 32.0018 26.1027 32.1935C25.7822 32.3941 25.4102 32.5004 25.0303 32.5H8.91728C8.46859 32.5002 8.02426 32.4134 7.60966 32.2446C7.19507 32.0758 6.81834 31.8283 6.50099 31.5162C6.18365 31.2041 5.93191 30.8336 5.76016 30.4257C5.5884 30.0179 5.5 29.5808 5.5 29.1393V19.8199H6.85C7.91966 19.8199 8.49287 19.6181 9.14907 18.1249C10.1339 15.6911 11.4689 14.0047 12.5748 12.6076C13.727 11.152 14.6305 10.0106 14.6305 8.66534V7.82863C14.633 7.54171 14.7506 7.26738 14.9577 7.06536C15.1647 6.86333 15.4446 6.74999 15.7362 6.75H16.0682C16.5994 6.74951 17.1152 6.9252 17.5323 7.24869C17.9495 7.57218 18.2437 8.02458 18.3673 8.53282C18.5022 9.0959 18.5705 9.67242 18.5709 10.2509C18.5703 11.2371 18.3745 12.2137 17.9945 13.1262L17.058 15.379C17.0007 15.5145 16.9783 15.6619 16.9929 15.8079C17.0074 15.954 17.0584 16.0942 17.1413 16.2162C17.2242 16.3382 17.3365 16.4382 17.4682 16.5072C17.5998 16.5762 17.7467 16.6121 17.8959 16.6118H25.7508C26.0404 16.6131 26.3262 16.6764 26.5885 16.7971C26.8508 16.9179 27.0833 17.0934 27.2699 17.3113L27.3028 17.3545C27.3916 17.4587 27.4687 17.5711 27.5333 17.6899C27.646 17.8974 27.7205 18.1241 27.7519 18.3595C27.8013 18.7298 27.7423 19.1062 27.5818 19.4446C27.4212 19.783 27.1659 20.0692 26.8457 20.2698C26.7297 20.3424 26.6069 20.4027 26.4794 20.45C26.4793 20.4501 26.4796 20.45 26.4794 20.45C26.2558 20.5331 26.0174 20.5764 25.7761 20.5765H26.479C26.6908 20.5772 26.9005 20.6112 27.1005 20.6767C27.1742 20.7008 27.2466 20.7292 27.3173 20.7619C27.5797 20.883 27.8121 21.059 27.9981 21.2776L28.0326 21.3177C28.2769 21.6037 28.4331 21.9524 28.4828 22.3227C28.486 22.3465 28.4888 22.3703 28.4911 22.3941C28.5035 22.5228 28.5029 22.6519 28.4896 22.7795C28.4671 22.9963 28.4078 23.2089 28.3134 23.4083C28.153 23.7469 27.8976 24.0334 27.5774 24.2341C27.3012 24.4072 26.9866 24.5103 26.6617 24.5353C26.6099 24.5393 26.5578 24.5413 26.5056 24.5412L25.7273 24.5463L25.0742 24.5505ZM30.6292 19.7802C31.0668 20.4164 31.3522 21.1496 31.4561 21.9234C31.5833 22.8701 31.4325 23.8314 31.0246 24.6926C30.9059 24.9431 30.7671 25.1818 30.6102 25.4067C30.6498 25.5708 30.6811 25.7375 30.7039 25.9061C30.8315 26.8538 30.6807 27.8162 30.2721 28.6783C30.1597 28.9155 30.0293 29.142 29.8825 29.3563C29.9252 29.5293 29.9587 29.7051 29.9825 29.8831C30.1095 30.8302 29.9584 31.7918 29.55 32.6531C29.1418 33.514 28.4957 34.2349 27.6943 34.7365C26.8943 35.2372 25.9703 35.5004 25.0303 35.5C25.0299 35.5 25.0295 35.5 25.0291 35.5C25.0284 35.5 25.0277 35.5 25.027 35.5L8.91864 35.5C8.91819 35.5 8.91774 35.5 8.91728 35.5C8.08167 35.5002 7.25308 35.3386 6.4784 35.0231C5.70321 34.7075 4.99568 34.2435 4.39746 33.6552C3.79913 33.0667 3.32186 32.3655 2.99533 31.5901C2.66875 30.8146 2.5 29.9817 2.5 29.1393V16.8199H6.44186C7.5825 14.0786 9.10204 12.1602 10.1873 10.7901C10.2224 10.7458 10.2571 10.702 10.2913 10.6587C10.8805 9.91414 11.2289 9.45761 11.4543 9.0645C11.5547 8.8895 11.5982 8.78019 11.6169 8.72094C11.6258 8.69274 11.6288 8.67673 11.6298 8.67077L11.6305 8.66562L11.6305 7.81567L11.6306 7.80272C11.6401 6.70885 12.0887 5.67306 12.8628 4.91793C13.6352 4.1644 14.6688 3.74999 15.7362 3.75M30.6292 19.7802C30.773 19.1888 30.807 18.5728 30.7255 17.9626C30.6037 17.0498 30.2293 16.1933 29.6503 15.4855L29.6042 15.425L29.5489 15.3604C29.0789 14.8114 28.4963 14.3728 27.8434 14.0722C27.1906 13.7716 26.4815 13.6151 25.7646 13.6118L21.0159 13.6118C21.382 12.5311 21.5702 11.3969 21.5709 10.2528L21.5709 10.2489C21.5703 9.43548 21.4743 8.62505 21.2847 7.8339L21.2823 7.82375C20.9966 6.64915 20.3191 5.61336 19.3707 4.87796C18.424 4.14383 17.2605 3.74951 16.0682 3.75C16.0679 3.75 16.0685 3.75 16.0682 3.75H15.7362",fill:"white"}),o.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint0_linear_1972_66634)"}),o.createElement("path",{d:"M29.0719 19.3222C29.2063 18.9071 29.7937 18.9071 29.9281 19.3222L31.3273 23.6435C31.3675 23.7678 31.4598 23.8685 31.5801 23.9194L35.5199 25.5855C35.8862 25.7404 35.8862 26.2595 35.5199 26.4145L31.5801 28.0806C31.4598 28.1315 31.3675 28.2321 31.3273 28.3564L29.9281 32.6777C29.7937 33.0929 29.2063 33.0929 29.0719 32.6777L27.6727 28.3564C27.6325 28.2321 27.5402 28.1315 27.4199 28.0806L23.48 26.4145C23.1137 26.2595 23.1137 25.7404 23.48 25.5855L27.4199 23.9194C27.5402 23.8685 27.6325 23.7678 27.6727 23.6435L29.0719 19.3222Z",fill:"url(#paint1_linear_1972_66634)"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M27.6727 23.6435C27.6325 23.7678 27.5402 23.8685 27.4199 23.9194L23.48 25.5855C23.1137 25.7404 23.1137 26.2595 23.48 26.4145L27.4199 28.0806C27.5402 28.1315 27.6325 28.2321 27.6727 28.3564L29.0719 32.6777C29.2063 33.0929 29.7937 33.0929 29.9281 32.6777L31.3273 28.3564C31.3675 28.2321 31.4598 28.1315 31.5801 28.0806L35.5199 26.4145C35.8862 26.2595 35.8862 25.7404 35.5199 25.5855L31.5801 23.9194C31.4598 23.8685 31.3675 23.7678 31.3273 23.6435L29.9281 19.3222C29.7937 18.9071 29.2063 18.9071 29.0719 19.3222L27.6727 23.6435ZM33.8223 21.6104L32.7822 18.3981C31.7516 15.2151 27.2484 15.2151 26.2177 18.3981L25.1777 21.6104L22.3116 22.8224C19.5033 24.0101 19.5032 27.9899 22.3116 29.1775L25.1777 30.3896L26.2177 33.6018C27.2483 36.7849 31.7516 36.7849 32.7822 33.6018L33.8223 30.3896L36.6884 29.1775C39.4967 27.9899 39.4968 24.0101 36.6884 22.8225L33.8223 21.6104Z",fill:"white"})),o.createElement("defs",null,o.createElement("filter",{id:"filter0_d_1972_66634",x:"-1.5",y:"-1",width:"43",height:"43",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},o.createElement("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),o.createElement("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0",result:"hardAlpha"}),o.createElement("feOffset",{dy:"0.5"}),o.createElement("feGaussianBlur",{stdDeviation:"0.75"}),o.createElement("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"}),o.createElement("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow_1972_66634"}),o.createElement("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow_1972_66634",result:"shape"})),o.createElement("linearGradient",{id:"paint0_linear_1972_66634",x1:"23.2053",y1:"19.0109",x2:"35.3845",y2:"33.3378",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"#F7C000"}),o.createElement("stop",{offset:"1",stopColor:"#E8B604"})),o.createElement("linearGradient",{id:"paint1_linear_1972_66634",x1:"35.7947",y1:"32.9891",x2:"23.6155",y2:"18.6622",gradientUnits:"userSpaceOnUse"},o.createElement("stop",{stopColor:"white",stopOpacity:"0"}),o.createElement("stop",{offset:"0.418743",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"0.504534",stopColor:"white",stopOpacity:"0.63"}),o.createElement("stop",{offset:"0.588015",stopColor:"white",stopOpacity:"0.15"}),o.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}))))}function g2(){return o.createElement("div",{className:"vote_graphic--stampContainer--Gg9nN","aria-hidden":"true"},o.createElement("div",{className:"vote_graphic--sticky--5vnwr"},o.createElement(gQ,null)),o.createElement("div",{className:"vote_graphic--plusOneStamp--lqNsf vote_graphic--stamp---bJ3m"},o.createElement(gq,null)),o.createElement("div",{className:"vote_graphic--heartStamp--EhTYO vote_graphic--stamp---bJ3m"},o.createElement(g0,null)),o.createElement("div",{className:"vote_graphic--thumbsUpStamp--d1jHf vote_graphic--stamp---bJ3m"},o.createElement(g1,null)))}function g5({recordingKey:e}){let t=(0,s.wA)(),a=(0,gW.Pd)(o.useCallback(()=>{t(gN.H1({votingStage:c.W8Y.JOINED}))},[t]));return o.createElement("div",{className:ev.s.flex.flexColumn.p16.$},o.createElement("div",{className:ev.s.flex.gap8.itemsCenter.mb8.$},o.createElement(g2,null)),o.createElement("div",{className:ev.s.flex.justifyCenter.$},o.createElement(go,{onClick:a,recordingKey:e$.Pt(e,"joinVotingSession")},(0,k.tx)("meetings_panel.voting.join_vote"))))}var g3=a(966424),g4=a(250392);let g6="create_new_vote_view--stepperButtonWrapper--MA6-g";var g8=a(349307),g7=a(98285);let g9=e=>{let t=null;try{t=parseInt(e,10)}catch(e){}return t};function fe(){let e=(0,s.wA)(),t=(0,W.tS)(),{title:a,userVoteLimit:n}=(0,s.d4)(e=>e.voting.votingParams),r=(0,s.d4)(e=>!e.user),l=(0,rs.oh)(gN.$c(t||"")),[i,c]=o.useState(n.toString());(0,o.useEffect)(()=>{let t=g9(i);t&&e(gN.hL(t))},[i,e]);let d=r||l;return o.createElement("div",{className:ev.s.flex.flexColumn.p16.gap12.$},o.createElement(g2,null),o.createElement(ft,{userVoteLimitInput:i,setUserVoteLimitInput:c,title:a,isTitleDisabled:d,isLimitDisabled:d,userVoteLimit:n,setTitle:o.useCallback(t=>e(gN.D6(t)),[e])}))}function ft(e){let t=o.useRef(null),a=(0,s.wA)(),n=(0,W.tS)(),r=(0,s.d4)(e=>!e.user),l=(0,rs.oh)(gN.$c(n||"")),i=(0,s.d4)(e=>e.multiplayer.allUsers.length),c=(0,EN.Fk)(e=>e.getCurrentPage()?.guid),d=gL.NE()?.id,m=r||l||!c,{userVoteLimitInput:u,userVoteLimit:p,title:E,setTitle:_,isLimitDisabled:g,isTitleDisabled:f,setUserVoteLimitInput:h}=e,b=o.useCallback(e=>{let t=parseInt(u);(t+=e)<1||t>99||h(t.toString())},[h,u]),v=o.useCallback(e=>{"ArrowUp"===e.key||"ArrowDown"===e.key?(b("ArrowUp"===e.key?1:-1),e.preventDefault()):("Enter"===e.key||"Escape"===e.key)&&t.current?.blur()},[b]),T=o.useCallback(()=>{t.current?.select()},[t]),y=o.useCallback(e=>{if(!e.currentTarget.value.match(/^(\s*|\d+)$/)){e.preventDefault();return}h(e.currentTarget.value)},[h]),w=o.useCallback(e=>{let a=t.current.value,n=g9(u);(""===a||!n||isNaN(n)||n<1)&&h("1")},[u,h]),C=(0,k.t)("voting.modal.voting_setup_responsive_placeholder_prompt",{numVotes:p}),S=(0,gW.Pd)(o.useCallback(()=>{if(!c)throw Error("Cannot start a voting session since currentPageNodeId is null");a(gN.vt({source:"voting_modal",usedCustomTitle:""!==E,requestBody:{title:E,in_progress:!0,user_vote_limit:p,num_people_in_file:i,page_node_id:c,voting_session_id_to_end:d},uiSurface:"MeetingsPanel"}))},[a,E,p,i,c,d])),I=(0,sF.R)();return o.createElement("div",{className:"create_new_vote_view--container--mzVZ7"},o.createElement(g4.L,{autoComplete:"off",autoCorrect:"off",autoFocus:!0,className:"create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",spellCheck:!1,placeholder:C,value:E,onChange:e=>_(e.target.value),disabled:f,"aria-label":(0,k.t)("voting.modal.voting_setup_prompt_input_field_aria_label")}),o.createElement("div",{className:"create_new_vote_view--voteLimitContainer--ga1AC"},o.createElement("div",{className:"create_new_vote_view--voteLimitControls--7D-Fi"},I?o.createElement("div",{className:g6},o.createElement(ec.K,{onClick:()=>{g||b(-1)},"aria-label":(0,k.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":g},o.createElement(_O.U,{svg:g8.A},o.createElement(g3.f,null)))):o.createElement(eQ.B,{svg:g8.A,className:g6,onClick:()=>{g||b(-1)},role:"button","aria-label":(0,k.t)("voting.modal.reduce_limit_tooltip_aria_label"),"aria-disabled":g}),o.createElement("input",{className:"create_new_vote_view--limitInput--1dzSR create_new_vote_view--promptInput--Fd2W3 text--fontPos11--2LvXf text--_fontBase--QdLsd",maxLength:2,type:"text",inputMode:"numeric",ref:t,value:u,onKeyDown:v,onFocus:T,onChange:y,onBlur:w,disabled:g,"aria-label":(0,k.t)("voting.modal.voting_limit_input_field_aria_label")}),I?o.createElement("div",{className:g6},o.createElement(ec.K,{onClick:()=>{g||b(1)},"aria-label":(0,k.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":g},o.createElement(_O.U,{svg:g7.A},o.createElement(gT.x,null)))):o.createElement(eQ.B,{svg:g7.A,className:g6,onClick:()=>{g||b(1)},role:"button","aria-label":(0,k.t)("voting.modal.increase_limit_tooltip_aria_label"),"aria-disabled":g})),o.createElement(go,{flexGrow:!0,onClick:S,disabled:m,"data-tooltip-type":r?e2.Ib.TEXT:void 0,"data-tooltip":r?(0,k.t)("voting.modal.start_disabled_logged_out_tooltip"):void 0,recordingKey:"votingModalStartVotingSession"},o.createElement("span",null,(0,k.tx)("voting.modal.start_voting_session")))))}var fa=a(452863);function fn(e){let{setOnPastVotesClick:t,setOnNewSessionClick:a,recordingKey:n}=e,r=(0,W.tS)(),l=void 0!==t;return o.createElement("div",{className:ev.s.flex.flexColumn.p16.$},o.createElement("div",{className:ev.s.flex.gap8.itemsCenter.mb12.$},o.createElement(g2,null)),o.createElement("div",{className:ev.s.flex.gap6.justifyCenter.$},l&&o.createElement(gi,{flexGrow:l,onClick:()=>{(0,e_.sx)("view_past_voting_sessions",{source:"meetings_panel",fileKey:r}),t()},recordingKey:e$.Pt(n,"viewPastVotingSessions")},(0,k.tx)("meetings_panel.voting.view_past_results_prompt")),!u.Ay.isMeetDevice&&o.createElement(go,{flexGrow:l,onClick:()=>{(0,e_.sx)("creating_new_vote_start",{source:"meetings_panel",fileKey:r}),a()},recordingKey:e$.Pt(n,"newVote")},o.createElement("div",{className:ev.s.px4.$},(0,k.tx)("meetings_panel.voting.new_vote")))))}function fr({recordingKey:e}){let[t,a]=o.useState(!1),n=(0,gW.Ld)(),r=(0,m.Xr)(fa.Qs),l=(0,gW.Pd)(o.useCallback(()=>{a(!0)},[])),i=(0,gW.Pd)(o.useCallback(()=>{r({type:"SET_VIEW",payload:fa.iN.PAST_VOTES})},[r]));return t?o.createElement(fe,null):o.createElement(fn,{setOnPastVotesClick:n?i:void 0,setOnNewSessionClick:l,recordingKey:e})}function fl(){let e=(0,s.d4)(e=>e.mirror.appModel.votingSessionInfo),t=(0,s.d4)(e=>e.mirror.appModel.votingSessionInfo),a="meetingsPanel";switch(t.votingStage){case c.W8Y.JOINED:return o.createElement(gJ,{votingSessionInfo:e,recordingKey:a});case c.W8Y.NOT_JOINED:return o.createElement(g5,{recordingKey:a});case c.W8Y.NO_SESSION:case c.W8Y.ENDED:return o.createElement(fr,{recordingKey:a})}}var fi=a(181634),fo=a(874360);let fs="meetings_panel",fc=(0,cy.Ju)(function({votingSessionId:e}){let t=(0,s.wA)(),a=(0,W.tS)(),n=()=>{(0,e_.sx)("cancel_delete_voting_session",{source:fs,votingSessionId:e,fileKey:a})};return o.createElement(fo.Rw,{confirmationTitle:(0,k.t)("voting.modal.delete_voting_session_modal_header"),content:(0,k.t)("voting.modal.delete_voting_session_modal_description"),onConfirm:()=>{t(gN.$l({votingSessionId:e})),t(gN.H1({votingStage:c.W8Y.NO_SESSION})),(0,e_.sx)("confirm_delete_voting_session",{source:fs,votingSessionId:e,fileKey:a})},confirmText:(0,k.t)("voting.modal.delete_voting_session_modal_confirm_button"),size:"small",destructive:!0,disableClickOutsideToHide:!0,hideOnConfirm:!0,cancelText:(0,k.t)("voting.modal.delete_voting_session_modal_cancel_button"),onCancel:n,onCloseButtonClick:n,hideCancel:!1,popStack:!0,recordingKey:"deleteVotingSessionModal"})},"DeleteVotingSessionModal",cy.ZU.YES);var fd=a(901963);function fm({recordingKey:e,onClick:t}){let a=(0,gL.jz)(),[n,r]=(0,o.useState)(null);return o.createElement(o.Fragment,null,a&&a.length>0?o.createElement(eh.P,{className:"previous_votes_view--scrollContainer--Jb0sL"},o.createElement("ol",{className:"previous_votes_view--resultsList--IWpfo"},a.map((a,l,i)=>{let s=i[l+1]?.id,c=a.id!==n&&(!s||s!==n)&&!!s;return o.createElement(fu,{key:a.id,title:(0,gW.DG)(a),id:a.id,userId:a.userId,createdAt:a.createdAt,shouldShowSeparator:c,setAsHovered:()=>r(a.id),setAsNotHovered:()=>r(e=>e===a.id?null:e),recordingKey:e,onClick:t})}))):o.createElement("div",{className:"previous_votes_view--nullResultsList--xAcum"},o.createElement("p",{className:"previous_votes_view--nullResultsListTextHeader--vWsPe previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("voting.modal.previous_votes_null_text_title")),o.createElement("p",{className:"previous_votes_view--nullResultsListTextDescription--CNedi previous_votes_view--nullResultsListText--qaiMF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("voting.modal.after_you_vote_results_will_show_up_right_here"))))}function fu({title:e,id:t,userId:a,createdAt:n,shouldShowSeparator:r,setAsHovered:l,setAsNotHovered:i,recordingKey:d,onClick:m}){let u=(0,s.wA)(),p=(0,W.tS)();return o.createElement("li",null,o.createElement(eJ.E,{recordingKey:e$.Pt(d,"viewPastVotingSession"),className:ep()("previous_votes_view--previousVotesListItem--77yUn",r&&"previous_votes_view--showSeparator--nHjDd"),onClick:()=>{(0,e_.sx)("view_past_voting_session",{votingSessionId:t,source:"meetings_panel",fileKey:p}),u(gN.H1({sessionId:t,votingStage:c.W8Y.ENDED})),m()},"aria-label":e,htmlAttributes:{onMouseEnter:()=>l(),onMouseLeave:()=>i()}},o.createElement("div",{className:"previous_votes_view--title--ndUJI text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k"},e),o.createElement("div",{className:"previous_votes_view--previousVotesListItemMetadata--BDnIc"},o.createElement(fp,{userId:a}),o.createElement("div",{className:"previous_votes_view--timestamp--A1VKx"},o.createElement(fd.h1,{date:n})))))}function fp({userId:e}){let{user:t,loading:a}=(0,N.wW)(e);return o.createElement(o.Fragment,null,o.createElement(gA.v,{userId:e,user:t,loading:a,size:24,loadingClassName:"previous_votes_view--loadingAvatar--JzmIH",defaultClassName:"previous_votes_view--userAvatarPadding---Zhpj"}),o.createElement(gA.m,{userId:e,user:t,loading:a,defaultClassName:"previous_votes_view--username--l6MHn text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",loadingClassName:"previous_votes_view--loadingUsername--VL2uA"}))}var fE=a(737976),f_=a(865523),fg=a(549147),ff=a(946518),fh=a(488396);function fb(){return o.createElement("div",{className:"figjam_panel_separator--separator--D-ffn"})}var fv=a(889148);let fT=new Map([["STICKY",fh.BV],["TEXT",fh.N$],["FRAME",fh.H0],["SYMBOL",fh.yc],["ROUNDED_RECTANGLE",fh.xf],["CODE_BLOCK",fh.I5]]),fy=["ROUNDED_RECTANGLE","SYMBOL","FRAME"],fw=o.memo(({votingSessionInfo:e})=>{let t=(0,gL.jz)(),a=t?.find(t=>t.id===e.sessionId),n=(0,o.useMemo)(()=>[...e.votedNodes].sort((e,t)=>{let a=(0,gW.oC)(e),n=(0,gW.oC)(t);return a!==n?n-a:e.guid.localeCompare(t.guid)}),[e]),r=(0,o.useMemo)(()=>(0,gW.yn)(e.votedNodes),[e.votedNodes]);if(!a)return null;let l=!!n.length;return o.createElement("div",{className:ev.s.flex.flexColumn.minH0.flexGrow1.$},o.createElement("div",{className:"voting_results_detail_view--titleContainer--gt1pA"},o.createElement(gY,{title:(0,gW.DG)(a)})),o.createElement("div",{className:"voting_results_detail_view--byline--Fye6w"},o.createElement(g$,{votingSessionInfo:e}),o.createElement("p",{className:"voting_results_detail_view--bylineTimestamp--3Ugv4 text--fontPos12--YsUAh text--_fontBase--QdLsd"},o.createElement(fd.h1,{date:a.createdAt}))),l&&o.createElement(fb,null),l&&o.createElement(eh.P,null,o.createElement("ol",{className:"voting_results_detail_view--resultsList---owZd"},n.map((e,t)=>{let a=1===r.size&&r.has(e.guid);return o.createElement(fC,{isMostVoted:a,nodeVoteInfo:e,nextNodeId:n[t+1]?.guid??null,key:e.guid})}))))});function fC({nodeVoteInfo:e,nextNodeId:t,isMostVoted:a}){let n=e.guid,r=(0,EN.g0)(n),l=(0,fE.Z)("figjam_voting"),i=(0,s.wA)(),c=(0,s.d4)(e=>e.voting.selectedVotePinId===n),d=(0,s.d4)(e=>!!t&&e.voting.selectedVotePinId===t),m=(0,s.d4)(e=>e.voting.hoveredInModalVotePinId===n),p=(0,s.d4)(e=>!!t&&e.voting.hoveredInModalVotePinId===t),E=o.useContext(fg.kw);(0,o.useEffect)(()=>{if(m)return()=>{i(gN.gA({votePinId:n}))}},[m,i,n]);let _=function(e){if(!e)return fv.xr;let t=e.whiteboardColor,a=(0,u9.BV)(t,"STICKY"===e.type?"sticky":"base");return a?e0.F.format(a):fv.xr}(r),g=r?"SHAPE_WITH_TEXT"===r.type?function(e){switch(e){case"SQUARE":return fh.dH;case"ELLIPSE":return fh.Yl;case"ROUNDED_RECTANGLE":return fh.EW;case"TRIANGLE_UP":return fh.D5;case"TRIANGLE_DOWN":return fh.kj;case"PARALLELOGRAM_RIGHT":return fh.h9;case"PARALLELOGRAM_LEFT":return fh._K;case"ENG_DATABASE":return fh.rQ;case"ENG_QUEUE":return fh.pt;case"ENG_FILE":return fh.ak;case"ENG_FOLDER":return fh.Mi;case"TRAPEZOID":return fh.qn;case"PREDEFINED_PROCESS":return fh.dA;case"SHIELD":return fh.lm;case"PENTAGON":return fh.Un;case"OCTAGON":return fh.JK;case"HEXAGON":return fh.CB;case"PLUS":return fh.c1;case"STAR":return fh.Gg;case"MANUAL_INPUT":return fh.Cu;case"DOCUMENT_SINGLE":return fh.R8;case"DOCUMENT_MULTIPLE":return fh.H$;case"CHEVRON":return fh.zp;case"ARROW_LEFT":case"ARROW_RIGHT":return fh.HK;case"SUMMING_JUNCTION":return fh.QZ;case"OR":return fh.Vq;case"SPEECH_BUBBLE":return fh.QD;case"INTERNAL_STORAGE":return fh.sJ;default:return(0,tv.x1)("voting","error unhandled shape type for shapeTypeToSvg",{shapeType:e}),fh._K}}(r.shapeWithTextType):fT.get(r.type)||fh.BV:fh.BV,f=!!r&&fy.includes(r.type),h=(()=>{if(!r)return{width:0,height:0};let e=r.absoluteBoundingBox,t=e.w,a=e.h,n=Math.min(t/72,a/72);return{width:t/n,height:a/n}})(),b=(0,f_.ai)({nodeId:n,width:h.width,height:h.height,shouldSkip:!f}),v=(0,o.useMemo)(()=>{if(r){if(r.textSublayer)return r.textSublayer.textContent;if(r.textContent)return r.textContent;if(r.name)return r.name}return""},[r]),T=(0,gW.oC)(e);function y(){(0,u.aJ)()&&i(gN.Vw({votePinId:n}))}function w(){(0,u.aJ)()&&i(gN.gA({votePinId:n}))}return o.createElement("li",null,o.createElement(eJ.E,{className:ep()("voting_results_detail_view--resultsListItemButton--4llQi",{"voting_results_detail_view--resultsListItemButtonWinner--6bIhk":a,"voting_results_detail_view--resultsListItemButtonSelected--Z3vdm":c,"voting_results_detail_view--showSeparator--6aQOA":!c&&!d&&!m&&!p&&!!t}),onClick:function(){i(gN.w9({votePinId:e.guid})),r&&l((0,ff.e)(r,E,"vote"))},"aria-describedby":n,htmlAttributes:{onMouseEnter:y,onMouseLeave:w,onFocus:y,onBlur:w}},o.createElement("div",{className:"voting_results_detail_view--resultsListItemCountContainer--1fD-h"},o.createElement("div",{className:"voting_results_detail_view--resultsListItemCountText--m6rWN text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,k.tx)("voting.modal.votes",{numVotes:T,numVotesElem:o.createElement("p",{className:"voting_results_detail_view--resultsListItemCount--DLrXt text--fontPos13--xW8hS text--_fontBase--QdLsd"},T)}))),o.createElement("p",{className:"voting_results_detail_view--resultsListItemDetails--hz7gX text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsisAfter3Lines--h405C ellipsis--_ellipsisAfterNLines--LzI7k"},v),o.createElement("div",{className:"voting_results_detail_view--resultsListItemThumbnail--Qjux6"},b&&f?o.createElement("img",{className:"voting_results_detail_view--nodePreviewImage--fugfT",src:b.src,width:b.displaySize.x,height:b.displaySize.y,alt:(0,k.t)("voting.modal.voting_results_image_preview_alt")}):o.createElement(g,{color:_}),a&&o.createElement("img",{src:fh.G7,className:"voting_results_detail_view--medal--JzOBO",alt:(0,k.t)("voting.modal.medal_img_alt")}))))}var fS=a(308204),fI=a(674418),fN=a(275258);function fL(e){let{headerText:t,goBack:a,options:n,onMinimize:r,onOptionsMenuClick:l,recordingKey:i,backButtonRef:s}=e;return o.createElement("div",{className:"meetings_panel_header--meetingsPanelPageContainer--TK5qd"},o.createElement(fO,{headerText:t,goBack:a,options:n,onMinimize:r,onOptionsMenuClick:l,recordingKey:i,backButtonRef:s}),o.createElement(fb,null),e.children)}let fO=o.memo(e=>{let{headerText:t,goBack:a,options:n,onMinimize:r,onOptionsMenuClick:l,recordingKey:i,backButtonRef:s}=e,{Dropdown:c,toggleDropdown:d,dropdownTargetRef:m,isDropdownShown:p}=(0,fN.B)("MEETINGS_PANEL_HEADER_OVERFLOW_MENU"),E=o.useCallback(e=>{l?.(),d()},[d,l]),_=o.useMemo(()=>n&&n.length>0?n.map(e=>({displayText:e.text,isChecked:!1,callback:e.callback,recordingKey:e.recordingKey})):null,[n]);return o.createElement(o.Fragment,null,o.createElement("div",{className:"meetings_panel_header--meetingsPanelHeader--6cBGV"},o.createElement(ec.K,{"aria-label":(0,k.t)("general.back"),onClick:a,actionOnPointerDown:u.Ay.isIpad,recordingKey:e$.Pt(i,"backButton"),ref:s},o.createElement(ed.C,null)),t&&o.createElement("span",{className:"meetings_panel_header--meetingsPanelHeaderText--KW2Jw text--fontPos11--2LvXf text--_fontBase--QdLsd"},t),o.createElement("div",{className:ev.s.mlAuto.$,ref:m},_&&o.createElement(fS.d,{"aria-label":(0,k.t)("meetings_panel.header.overflow_menu_aria_label"),onClick:E,htmlAttributes:{"data-tooltip-type":e2.Ib.TEXT,"data-tooltip":(0,k.t)("meetings_panel.header.overflow_menu_aria_label")},recordingKey:e$.Pt(i,"expandMenuItems"),toggled:p},o.createElement(fI.A,null))),o.createElement("div",null,_&&o.createElement(c,{items:_,showPoint:!0,minWidth:135,recordingKey:e$.Pt(i,"expandMenuItems")}),r&&o.createElement(ec.K,{onClick:r,"aria-label":(0,k.t)("common.close")},o.createElement(em.A,null)))))}),fk="meetings_panel";function fA(){let e=(0,s.d4)(e=>e.mirror.appModel.votingSessionInfo),t=o.useMemo(()=>e&&e.sessionId.length>0,[e]),a=(0,s.wA)(),n=(0,m.Xr)(fa.Qs),r=(0,fi.qU)(),l=(0,s.Pj)(),i=(0,B.am)(),d="pastVotingSessions",p=o.useRef(null),E=o.useCallback(()=>{p.current?.focus()},[]);o.useLayoutEffect(()=>{E()},[E]);let _=o.useCallback(()=>{t?a(gN.H1({votingStage:c.W8Y.NO_SESSION})):n({type:"SET_VIEW",payload:fa.iN.DEFAULT})},[t,a,n]),g=o.useCallback(()=>{r({source:fi.OO.MEETINGS_PANEL})},[r]),f=o.useCallback(()=>{i("click_voting_results_more_options",{votingSessionId:e.sessionId,source:fk})},[i,e]),h=o.useCallback(()=>{a(nA.$O({type:fc.type,showModalsBeneath:!0,data:{votingSessionId:e.sessionId}})),i("click_delete_voting_session",{votingSessionId:e.sessionId,source:fk})},[a,e,i]),b=o.useCallback(()=>{i("click_export_voting_session_as_csv",{votingSessionId:e.sessionId,source:fk}),gN.Ev(l.getState(),e.sessionId)},[l,e,i]),v=o.useMemo(()=>{if(t){let e=[{text:(0,k.t)("voting.modal.actions.delete_voting_session"),callback:h,recordingKey:"votingModalDeleteVotingSession"}];return u.Ay.isIpadNative||e.unshift({text:(0,k.t)("voting.modal.actions.export_as_csv"),callback:b,recordingKey:"votingModalExportAsCsv"}),e}},[t,b,h]);return o.createElement(fL,{headerText:(0,k.t)("meetings_panel.voting.results"),goBack:_,onMinimize:g,onOptionsMenuClick:f,options:v,recordingKey:d,backButtonRef:p},t?o.createElement(fw,{votingSessionInfo:e}):o.createElement(fm,{recordingKey:d,onClick:E}))}var fR=a(533089),fx=a(843629);function fM(){let e=(0,sB.$)();return o.createElement("div",{className:"volume_view--volumeView--XbP1r"},o.createElement(fR.aY,{volumeJustification:fx.Z.INLINE,sliderVisibilitySetting:e?fR.s1.NEVER:fR.s1.ALWAYS,sliderFullWidth:!0,buttonGap:5,iconColor:fR.J.DEFAULT,withDarkHoverBg:!0,muteOnTouch:e}))}function fD(){let[e,t]=(0,gC.Jg)(),a=(0,s.d4)(e=>e.mirror.appModel.showUi);return((0,gC.ey)(t.playStartChime),(0,gC.YO)(),!function(){_1();let e=(0,_Q.oc)({musicSource:"StandaloneMusic",loadingPlaybackUrl:_0,previousPlayerInstance:(0,s.d4)(e=>e.music.playerInstance)||void 0,timeUpdateListener:(0,d.kc)().figjam_more_tracks_listen?e=>{e.currentTime>e.duration-.3&&(e.currentTime=0,e.play())}:void 0}),t=(0,s.d4)(e=>e.music.music),a=t?.selectedSongID,n=_q.N(a||"")?.playback_url,r=(0,s.d4)(e=>e.music.volume),l=(0,s.d4)(e=>e.music.isMuted),i=(0,s.wA)();o.useEffect(()=>{i(_J.qV())},[i]),o.useEffect(()=>{(0,d.kc)().figjam_more_tracks_listen&&i(_J.jt())},[i]),o.useEffect(()=>{i(_J.wk(e))},[i,e]),o.useEffect(()=>()=>{e.stop()},[e]),o.useEffect(()=>{i(_J.tk({isMuted:0===r,userInitiated:!1}))},[i,r]);let c=o.useCallback(()=>{i(_J.tk({isMuted:!0,userInitiated:!1})),i(_.F.enqueue({message:(0,k.t)("whiteboard.timer.unmute_music_message"),button:{text:(0,k.t)("whiteboard.timer.unmute_music_button"),action:()=>{i(_J.tk({isMuted:!1,userInitiated:!0}))}},type:_Q.XZ,onDismiss:()=>{}}))},[i]);o.useEffect(()=>{if(n!==e.audio.currentSrc&&e.setSource(n||""),!n){e.stop();return}if(t?.isPaused){e.pause();return}if(!t?.isPaused){if(!e.isPaused()||!n)return;e.playAtTimestamp({src:n,timestamp:(0,_J.UQ)(t),onFailure:c})}},[n,t,e,c,l])}(),(0,gW.YR)(),(0,gW.FJ)(),(0,gC.OI)(),(0,gC.rJ)(),(0,m.md)(fa.Qs).isOpen&&a)?o.createElement(fP,null):null}function fP(){let e=(0,m.md)(fa.Qs),t=(0,sB.$)(),a=(0,fi.qU)(),n=(0,gW.Av)(),r=(0,es.U1)();return o.createElement("div",{className:"meetings_panel--meetingsPanelModal--2NL5Z",ref:r},e.view!==fa.iN.PAST_VOTES||t?o.createElement("div",{className:"meetings_panel--meetingsPanelContents--nnSLj"},o.createElement(sH,{title:n?(0,k.t)("meetings_panel.toolbar_tooltip"):(0,k.t)("meetings_panel.toolbar_tooltip.no_voting"),onClose:()=>a({source:fi.OO.MEETINGS_PANEL})}),o.createElement(eh.P,{className:"meetings_panel--meetingToolsScrollWrapper--D5CUY"},o.createElement(fF,null))):o.createElement(fA,null))}function fF(){let e=(0,gW.Av)(),t=(0,gW.Ld)(),a=e&&u.Ay.isMeetDevice&&t,n=u.Ay.isMeetDevice?a:e;return o.createElement("div",{className:ev.s.colorBg.$},o.createElement(fM,null),o.createElement(fb,null),o.createElement(gI,null),o.createElement(fb,null),o.createElement(gv,null),n&&o.createElement(o.Fragment,null,o.createElement(fb,null),o.createElement(fl,null)))}var fB=a(856557),fH=a(576467);function fU(e){let t=(0,m.Xr)(fB.Cx),[a,n]=(0,o.useState)(!1),r=(0,tG.hs)();return o.createElement("div",null,o.createElement(eo.V,null,o.createElement(sH,{title:(0,k.t)("fullscreen.pages_panel.pages"),onClose:t,showBottomBorder:a}),o.createElement(fV,{width:e.width,pagesList:e.pagesList,setIsScrolled:n},o.createElement(t1.bU,{isReadOnly:e.isReadOnly,pages:e.pagesList,shouldHighlightActivePage:!0,isComparingChanges:!1,onContextMenu:e.onPageContextMenu})),r&&o.createElement(fW,{recordingKey:"figjamPagesPanel"})))}function fV({width:e,pagesList:t,setIsScrolled:a,children:n}){let r=(0,tG.hs)(),l=(0,o.useRef)(null);(0,t5.a)({pagesList:t,scrollContainerRef:l});let i=(0,o.useCallback)(e=>{a(e>0)},[a]);return o.createElement(eh.P,{horizontalScrollingDisabled:!0,width:e,onScroll:i,ref:l,innerClassName:ep()("pages_panel_ui2--scrollContainerInner---lutT",{"pages_panel_ui2--withBottomPadding--b4Z0j":!r})},n)}function fW({recordingKey:e}){return o.createElement("div",{className:"pages_panel_ui2--footerContainer--4Nk4z"},o.createElement(fK,{recordingKey:(0,e$.Pt)(e,"addPage")}))}function fK({recordingKey:e}){let t=(0,tQ.rE)(),a=e$.rf(e,"click",()=>{t(null)});return o.createElement(fH.tM,{className:ep()("pages_panel_ui2--secondaryButton--xllEl","pages_panel_ui2--flexGrow--22c55","pages_panel_ui2--withHover--iwz0G"),onClick:a},(0,k.tx)("fullscreen_actions.new_page"))}function fG(){let e=(0,ey.cT)(),t=(0,ey.n0)(),a=(0,tG.sv)(),n=(0,t2.g)({pagesList:t,shouldShowDuplicateOption:a});return o.createElement(o.Fragment,null,o.createElement(fU,{isReadOnly:e,width:200,pagesList:t,onPageContextMenu:n}))}function fj(){let e=(0,s.d4)(e=>e.mirror.appModel.showUi),t=(0,m.md)(fB.ET),a=(0,m.Xr)(fB.Cx);return(0,o.useEffect)(()=>a,[a]),t&&e?o.createElement("div",{key:"figjam-pages-sidebar",className:ep()("pages_sidebar_ui2--positioner--MStQb",eT.Dm)},o.createElement("div",{className:"pages_sidebar_ui2--panel--ZLyMB"},o.createElement(fG,null))):null}var fz=a(40211);function fZ({children:e,hasHoverableBackground:t,onboardingKey:a}){return o.createElement("div",{className:ep()("floating_panel--container--3qp3k",{"floating_panel--hoverableBackground--h8B5i":t}),"data-onboarding-key":a},e)}var f$=a(58799),fY=a(90245),fX=a(902195),fJ=a(544920),fQ=a(534173),fq=a(650604),f0=a(116272),f1=a(932037);function f2(){let[e,t]=(0,m.fp)(hp),{user:a}=(0,nJ.R)(e=>({user:e.user})),n=!a,r=function(){let e=(0,s.wA)(),t=(0,W.q5)(),a=(0,oc.dk)(t);return o.useCallback(()=>{e(fJ.Ts({origin:"open_session_recordings_toolbar_item",redirectUrl:cv.Ay.location.pathname,signedUpFromOpenSession:a})),e(nA.to({type:fQ.x,data:{headerText:(0,k.t)("fullscreen.toolbar.create_an_account_to_do_more_with_fig_jam")}}))},[e,a])}(),l=o.useCallback(()=>{if(n){r();return}e?t(!1):((0,fq.W)("right",()=>t(!1)),t(!0))},[n,r,e,t]);return(0,d.kc)().async_spotlight?o.createElement(f0.Z,{onClick:l,tooltip:{type:e2.Ib.TEXT,text:(0,k.t)("recordings.recordings")},isActive:e},o.createElement(eQ.B,{svg:f1.A})):null}var f5=a(893632),f3=a(761650),f4=a(939412),f6=a(860502),f8=a(746533),f7=a(428080);let f9="figjam_right_panel--container--z4q5E",he="figjam_right_panel--controls--1DAKo",ht="figjam_right_panel--leftSection--wZTVw",ha="figjam_right_panel--middleSection--xMAsd";function hn(){let e=(0,s.wA)(),t=(0,W.q5)(),a=(0,as.Um)(),n=(0,s.d4)(e=>e.multiplayer),r=(0,f$.dR)(),l=(0,L.iZ)(),i=o.useMemo(()=>n.allUsers.find(e=>e.sessionID===n.sessionID)||null,[n.allUsers,n.sessionID]),m=(0,fz.B4)(),E=(0,b.aV)(),_=(0,s.d4)(e=>e.mirror.appModel.topLevelMode===c.lyf.HISTORY),g=!(0,p.q8)()&&(0,sS.Uy)(),f=u.Ay.isMeetDevice,h=(0,f7.L)(),v=(0,d.kc)().async_spotlight&&!f,T=(0,oc.DG)(t?.key||"").enabled,y=o.useCallback(t=>{(0,f5.Lx)(t,i?.sessionID,e,!1,n,r,m)},[i?.sessionID,e,n,r,m]),w=(0,es.U1)(),C=o.useRef(null);return((0,az.C_)(C,E),E)?o.createElement("div",{className:f9,style:{visibility:(0,ei.dU)()?"hidden":"visible"}},o.createElement(fZ,{hasHoverableBackground:!1},o.createElement("div",{className:he},o.createElement("div",{className:ht},o.createElement(hl,null)),o.createElement("div",{className:ha},o.createElement(hi,null),o.createElement(hi,null),o.createElement(hi,null),o.createElement(ho,null),!v&&o.createElement(hi,null)),o.createElement(hs,null)))):o.createElement(eo.V,{ref:w,className:ep()(f9,eT.Dm),style:{visibility:(0,ei.dU)()?"hidden":"visible"},"data-cancel-insertable-resource-drag-and-drop":!0},o.createElement(fZ,{hasHoverableBackground:!1,onboardingKey:tK.Lj},o.createElement("div",{className:he,ref:C},o.createElement("div",{className:ht},o.createElement(fY.sK,{isUI3:!0}),n&&t&&i&&o.createElement(f5.v7,{dropdownShown:a,multiplayer:n,currentUser:i,onUserClick:y})),!_&&o.createElement("div",{className:ha},g&&o.createElement(f6.V,null),o.createElement(f4.y,null),!h&&!f&&o.createElement(fX.j,null),o.createElement(f8.J,null),v&&o.createElement(f2,null)),t&&o.createElement(f3.w,{user:l,editingFile:t,isFileInWorkshop:T}),!l&&!f&&o.createElement(tZ.tO,null))))}function hr({width:e,borderRadius:t="medium"}){return o.createElement("div",{className:"figjam_right_panel--loadingPlaceholder--Z4Q63",style:{width:e,borderRadius:"full"===t?"var(--radius-full)":"var(--radius-medium)",visibility:"hidden"}},o.createElement(tW._b,null))}function hl(){return o.createElement("div",{className:"figjam_right_panel--multiplayerPlaceholderContainer--ZLhPf"},o.createElement(hr,{width:40,borderRadius:"full"}))}function hi(){return o.createElement(hr,{width:32})}function ho(){return o.createElement(hr,{width:90})}function hs(){return o.createElement(hr,{width:55})}let hc="whiteboard_ui--leftSidebar--WE2SD whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",hd="whiteboard_ui--uiHidden--Hsyad",hm="whiteboard_ui--stackedContainer--2mtV9",hu="whiteboard_ui--rightSidebarUI3--9Xzv3",hp=(0,m.eU)(!1),hE=(0,aN.jz)(aU.uj0),h_=o.memo(function(){let e=(0,eY.Vi)(),t=(0,s.d4)(e=>e.mirror.appModel.topLevelMode===c.lyf.HISTORY),a=(0,b.p8)("showUi"),n=(0,f.GS)();(function(){let e=(0,v.Kx)(),t=(0,s.d4)(e=>e.timer.modalState),a=(0,m.md)(fa.Qs);o.useEffect(()=>{e?.updateTimerModalState&&e.updateTimerModalState(a.isOpen?"open":"closed")},[e,t,a.isOpen]);let n=(0,s.d4)(e=>e.timer.time);o.useEffect(()=>{e?.updateTimerTime&&n&&e.updateTimerTime(n)},[e,n])})(),(0,_y.M)(),function(){let e=(0,m.Xr)(fa.Qs);o.useEffect(()=>()=>{e({type:"CLOSE"})},[e])}();let r=(0,v.Kx)(),l=a&&!r?.shouldOptimizeForIpadApp&&e;return o.createElement(n?hh:hf,{showUi:a,inVersionHistory:t,isCommentsPanelOpen:l})});function hg(){return o.createElement("div",{className:"whiteboard_ui--commentsContainer--HLR1i"},o.createElement(_Z,{showSidebar:!0,scrollable:!1},o.createElement(_G.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>c.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function hf({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let n=function(){let e=(0,s.d4)(e=>e.universalInsertModal.pinned===aX.t.PINNED_AND_DOCKED_LEFT),t=o.useCallback(()=>{let t=e?a5:a2;return window.innerWidth<t?14+a3+24:14},[e]),[a,n]=o.useState(t);return o.useEffect(()=>{n(t())},[t]),o.useLayoutEffect(()=>{let e=(0,a$.s)(()=>{n(t())});return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e),e.cancel()}},[t]),a}(),r=(0,_C.Lk)(),l=(0,_X.FR)(),i=(0,m.md)(fa.Qs).isOpen,c=(0,_S.S)();if(_w.pb.isGoogleClassroomIntegration())return o.createElement(o.Fragment,null,a&&o.createElement(hg,null));if(t)return o.createElement(o.Fragment,null,e&&o.createElement(o.Fragment,null,o.createElement("div",{className:ep()(hc,eT.Dm),style:{bottom:n}},o.createElement(fj,null)),o.createElement(_Y,{className:"whiteboard_ui--versionHistoryRightSidebar--7wtYE whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",style:{bottom:n}},o.createElement(_j.yU,null))),o.createElement(hy,{isTopToolbarShowing:e,isRightSidebarShowing:e},o.createElement(_V,null)));let d=!!e&&(!!a||!l&&!!i||!!c);return o.createElement(o.Fragment,null,o.createElement("div",{className:ep()(hc,eT.Dm,{[hd]:!e}),style:{bottom:n}},o.createElement(fj,null),l&&o.createElement(fD,null)),o.createElement("div",{className:ep()("whiteboard_ui--rightSidebar--CJHYf whiteboard_ui--figjamModalSidebar--TXgbQ whiteboard_ui--sidebarBase--2SwnS",{[hd]:!e}),style:{bottom:n,right:a?hE+16:16}},o.createElement("div",{className:ep()(hm,eT.Dm)},r&&o.createElement(_$.s,null),!l&&o.createElement(fD,null))),a&&o.createElement(hg,null),o.createElement(hy,{isTopToolbarShowing:e,isRightSidebarShowing:d},o.createElement(_V,null)))}function hh({showUi:e,inVersionHistory:t,isCommentsPanelOpen:a}){let n=(0,m.md)(fa.Qs).isOpen,r=(0,m.md)(sC.zS)===sC.Wl.TOP_BAR,l=(0,m.md)(hp),i=(0,_S.S)(),s=(0,_C.Lk)(),d=(0,w.J2)(c.Ez5.uiState().showCanvasSearch),u=(0,o.useRef)(null),[p,E]=o.useState(null),_=function(e){let t=(0,aY.Yk)(),a=(0,aQ.Op)(),n=aJ.C()?.bottomRightToolsNode?.getBoundingClientRect(),r=e?.getBoundingClientRect();return a&&r&&n?a.right+a0>n.left?a1({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!0}):a.right+a0>r.left?a1({dltBottomOffset:t,collidesWithDLT:!0,collidesWithTools:!1}):a1({dltBottomOffset:t,collidesWithDLT:!1,collidesWithTools:!0}):0}(p);o.useLayoutEffect(()=>{E(u.current?.lastElementChild)},[u,a,n,r,l,i,t,d]);let g=t?e?o.createElement(hT,null):null:o.createElement(hv,{isCommentsPanelOpen:a});return _w.pb.isGoogleClassroomIntegration()?o.createElement("div",{className:hu,style:{bottom:_}},o.createElement("div",{ref:u,className:ep()(hm,eT.Dm)},a&&o.createElement(hb,null))):o.createElement("div",{className:hu,style:{bottom:_}},o.createElement("div",{ref:u,className:ep()(hm,eT.Dm)},e&&o.createElement(hn,null),o.createElement(_V,null),s&&o.createElement(_$.s,null),g))}function hb(){return o.createElement("div",{className:"whiteboard_ui--commentsContainerUI3--0VMH4"},o.createElement(_Y,null,o.createElement(_G.B,{hidePageName:!0,hideResolve:!1,onCloseButton:()=>c.glU.triggerActionInUserEditScope("set-tool-default",null)})))}function hv({isCommentsPanelOpen:e}){let[t,a]=(0,m.fp)(hp);return o.createElement(o.Fragment,null,o.createElement(fD,null),(0,d.kc)().async_spotlight&&t&&o.createElement(_z.h,{onClose:()=>a(!1)}),o.createElement(cq,null),e&&o.createElement(hb,null))}function hT(){let e=(0,es.U1)();return o.createElement(_Y,{ref:e},o.createElement(_j.yU,{isUI3:!0}))}function hy({isTopToolbarShowing:e,isRightSidebarShowing:t,children:a}){return o.createElement("div",{className:ep()("whiteboard_ui--searchContainerUI2--OYScK",{"whiteboard_ui--withTopToolbar---Orkn":e,"whiteboard_ui--withRightSidebar--6yF6U":t})},a)}var hw=a(49039),hC=a(198724);let hS=u.Xb?18:9;function hI({initiatorId:e,initiatorHandle:t,votingSessionId:a}){let n=(0,s.wA)(),r=(0,aY.Ii)(),l=function(e){let t=(0,s.d4)(e=>e.multiplayer).allUsers.find(t=>t.userID===e)??null;return t?t.color:null}(e),i=(0,W.tS)(),d=(0,o.useCallback)(e=>{n(gN.H1({votingStage:c.W8Y.JOINED})),(0,e_.sx)("join_voting_session",{source:e,votingSessionId:a,fileKey:i})},[n,i,a]),m=(0,o.useCallback)(e=>{n(gN.U6()),(0,e_.sx)("cancel_join_voting_session",{source:e,votingSessionId:a,fileKey:i})},[n,i,a]);(0,o.useEffect)(()=>{let e=setTimeout(()=>d("join_bell_auto_join"),6e3);return()=>clearTimeout(e)},[d,a]);let u=o.useCallback(()=>(m("keyboard"),!0),[m]);return(0,sO.O1)(u,sO.KD.OVERLAY),o.createElement("div",{className:"join_voting_overlay--bellPositioner--TVyYX",style:{top:hS+r}},o.createElement("div",{className:"join_voting_overlay--bellContainer--OQxCq"},o.createElement(hC.m,{color:l,message:{text:t?(0,k.tx)("voting.join_bell.message_with_username",{name:t}):(0,k.tx)("voting.join_bell.message_without_username"),onClick:()=>d("join_bell_click")},renderKey:a,progressBar:!0,progressBarDurationMs:6e3,autoHide:!1,recordingKey:"multiplayerBell",button:{text:(0,k.t)("voting.join_bell.cancel"),onClick:()=>m("join_bell_cancel_click")}})))}function hN(){let e=(0,gL.C3)(),{user:t}=(0,N.wW)(e?.userId||null);return function(){let e=(0,gL.C3)(),t=(0,hw.e2)(),{loading:a}=(0,N.wW)(e?.userId||null);return!!t&&!a&&!!e}()&&e?o.createElement(hI,{initiatorHandle:t?t.handle:null,votingSessionId:e.id,initiatorId:e.userId}):null}var hL=a(160029);let hO=o.memo(function(){let e=(0,s.wA)(),t=(0,L.TA)(),a=(0,s.d4)(e=>e.mirror.appModel.votingSessionInfo),n=(0,s.d4)(e=>e.voting.selectedVotePinId),r=[c.W8Y.ENDED,c.W8Y.JOINED].includes(a.votingStage),{pageIdForNodeId:l}=o.useContext(fg.kw),i=(0,EN.Fk)(e=>e.getCurrentPage()?.guid),d=(0,o.useMemo)(()=>{var e;return a.votingStage===c.W8Y.JOINED?(e=a.votedNodes,t?e.filter(e=>e.userIdToNodeVotes[t]?.length).map(e=>({...e,userIdToNodeVotes:{[t]:e.userIdToNodeVotes[t]}})):[]):a.votedNodes},[a.votingStage,a.votedNodes,t]),m=(0,o.useMemo)(()=>d.filter(e=>l(e.guid)===i),[d,l,i]);return((0,o.useEffect)(()=>{n&&(r&&m.some(e=>e.guid===n)||e(gN.rT({votePinId:n})))},[m,r,n,e]),r)?o.createElement(hL.ML,{votedNodes:m,votingStage:a.votingStage,selectedNodeId:n,currentUserId:t}):null}),hk="mindmap_quick_add_buttons--mindmapButton--3C5fm";function hA({backgroundColor:e,iconColor:t,scaleX:a}){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",className:hk,style:{transform:`scaleX(${a})`}},o.createElement("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",fill:e}),o.createElement("rect",{x:"13",y:"11",width:"8",height:"6",rx:"1",fill:t}),o.createElement("rect",{x:"7",y:"13",width:"6",height:"2",fill:t}),o.createElement("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",stroke:"#0D99FF",strokeWidth:"2"}))}function hR({backgroundColor:e,iconColor:t,scaleX:a}){return o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",className:hk,style:{transform:`scaleX(${a})`}},o.createElement("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",fill:e}),o.createElement("rect",{opacity:"0.3",x:"12.5",y:"7.5",width:"8",height:"6",rx:"1",fill:t}),o.createElement("rect",{x:"12.5",y:"15.5",width:"8",height:"6",rx:"1",fill:t}),o.createElement("rect",{opacity:"0.3",x:"6.5",y:"9.5",width:"6",height:"2",fill:t}),o.createElement("path",{d:"M12.5 18.5V18.5C10.8431 18.5 9.5 17.1569 9.5 15.5V13.5C9.5 11.8431 8.15685 10.5 6.5 10.5V10.5",stroke:t,strokeWidth:"2"}),o.createElement("rect",{x:"1",y:"1",width:"26",height:"26",rx:"13",stroke:"#0D99FF",strokeWidth:"2"}))}let hx="#0D99FF";function hM(){let e=(0,de.Zr)("quick-create"),t=(0,de.Zr)("quick-create-diagram-sibling"),a=(0,dt.kl)("singleDiagramNodeDirection"),n=(0,dt.kl)("isDiagramRootNode"),r=function(e,t){let a=(0,dt.kl)("isSingleDiagramNodeSelected"),n=(0,dt.kl)("locked"),r=(0,s.d4)(e=>e.mirror.appModel.activeUserAction);return!!(a&&!n&&(e||t)&&r!==c.QOV.DRAGGING&&r!==c.QOV.RESIZING&&r!==c.QOV.ROTATING)}(e,t),l=(0,A._X)({subscribeToUpdates_expensive:r}),i=function(e){let t=(0,w.J2)(c.Ez5.canvasViewState().selectionBoundingRect),a=(0,A.Yb)(e,t);return{...a,x:a.x+e.x,y:a.y+e.y}}(l),d=a===c.$6Y.BACKWARD?-1:1;return!r||l.zoomScale<.35?null:o.createElement(o.Fragment,null,e&&o.createElement(hD,{selectionBounds:i,Icon:hA,onClick:F.nc.user("quick-add-mindmap",()=>c.wzW.quickAddMindmapChild(null)),recordingKey:"mindmap-add-child-button",direction:d>0?c.$6Y.FORWARD:c.$6Y.BACKWARD,includeTooltipKeyboardShortcut:!0}),e&&n&&o.createElement(hD,{selectionBounds:i,Icon:hA,onClick:F.nc.user("quick-add-mindmap",()=>c.wzW.quickAddMindmapChild(c.$6Y.BACKWARD)),recordingKey:"mindmap-add-backward-child-button",direction:c.$6Y.BACKWARD,includeTooltipKeyboardShortcut:!1}),t&&o.createElement(hP,{selectionBounds:i,positionX:nu.Al,positionY:nu.DH,Icon:hR,scaleX:d,onClick:F.nc.user("quick-add-mindmap",()=>c.wzW.quickAddMindmapSibling()),recordingKey:"mindmap-add-sibling-button",tooltip:(0,k.t)("whiteboard.mindmaps.add-sibling-tooltip"),tooltipShortcutActionKey:"quick-create-diagram-sibling",tooltipDirection:d>0?"right":"left"}))}function hD({selectionBounds:e,Icon:t,onClick:a,recordingKey:n,direction:r,includeTooltipKeyboardShortcut:l}){let i=r===c.$6Y.BACKWARD?-1:1;return o.createElement(hP,{selectionBounds:e,Icon:t,onClick:a,recordingKey:n,positionX:(e,t)=>e.x+(i>0?e.width:-t.width)+8*i,positionY:nu.tJ,scaleX:i,tooltip:(0,k.t)("whiteboard.mindmaps.add-child-tooltip"),tooltipShortcutActionKey:l?"quick-create":void 0,tooltipDirection:r===c.$6Y.BACKWARD?"left":"right"})}function hP({selectionBounds:e,positionX:t,positionY:a,Icon:n,onClick:r,recordingKey:l,scaleX:i,tooltip:s,tooltipShortcutActionKey:c,tooltipDirection:d}){let m=(0,Ej._r)(),[u,p]=o.useState(!1);return o.createElement(nu.lM,{targetRect:e,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),positionX:t,positionY:a,offset:8},o.createElement("div",{className:"mindmap_quick_add_buttons--button--iRZL8"},o.createElement(ec.K,{"aria-label":(0,k.t)("whiteboard.mindmaps.add-child-tooltip"),onClick:e=>{e.preventDefault(),r(e)},recordingKey:l,htmlAttributes:{"data-tooltip-offset-x":"left"===d?-4:4,"data-tooltip-show-right":"right"===d||void 0,"data-tooltip-show-left":"left"===d||void 0,"data-tooltip-type":s&&m?e2.Ib.TEXT:void 0,"data-tooltip":s,"data-tooltip-shortcut-key":c,"data-fullscreen-intercept":!0}},o.createElement(n,{backgroundColor:u?hx:"white",iconColor:u?"white":hx,scaleX:i}))))}var hF=a(882049),hB=a(193144),hH=a(354549),hU=a(190500),hV=a(393591);function hW(){return o.createElement("svg",{className:"svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 15.293L20.6465 10.6465L21.3536 11.3536L16.7071 16.0001L21.3536 20.6465L20.6465 21.3536L16 16.7072L11.3536 21.3536L10.6465 20.6465L15.2929 16.0001L10.6465 11.3537L11.3536 10.6466L16 15.293Z",fill:"var(--color-icon)"}))}function hK(e){let{children:t}=e;return o.createElement("svg",{className:"svg",width:"32",height:"32",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t)}function hG(e){let{options:t,selectedIndex:a,setSelectedIndex:n}=e,r=-1!==a?t[a]:void 0;return o.createElement("div",{className:"starter_kit_ui--optionList--6X7XJ","aria-label":(0,k.t)("whiteboard.starter_kit.subtitle"),role:"listbox","data-fullscreen-intercept":!0,"aria-activedescendant":r?.ariaId,tabIndex:0},t.map((e,t)=>o.createElement(hj,{key:e.key,option:e,selected:a===t,onMouseEnter:()=>n(t),onClick:()=>{hV.oW.trigger("action",c.KWd.COMMIT)}})))}function hj(e){let{option:t,selected:a,onMouseEnter:n,onClick:r}=e,l=t.localizedLabel();return o.createElement("div",{id:t.ariaId,className:ep()("starter_kit_ui--option--A988Y text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",t.className),"aria-label":l,"aria-selected":a,onMouseEnter:n,onClick:r,role:"option","data-fullscreen-intercept":!0,tabIndex:-1},t.svg,o.createElement("span",{style:{flex:1}},l))}var hz=a(581544);let hZ={brainstorm:{ariaId:(0,db.g)(),key:"brainstorm",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.brainstorm"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("path",{d:"m27 19.5-7.5 7.7H12V12h15v7.5Z",fill:"#FFC700"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19.5 19.5H27v-1h-8.5v8.7h.9v-7.7Z",fill:"#332800"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.STICKY)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.STICKY)}},agenda:{ariaId:(0,db.g)(),key:"agenda",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.agenda"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("rect",{x:"13",y:"13",width:"17",height:"17",rx:"3",fill:"#699BF7"}),o.createElement("rect",{x:"11",y:"11",width:"13.3333",height:"10",rx:"3",fill:"white"}),o.createElement("rect",{x:"13.45",y:"13.6722",width:"7.98889",height:"4.65556",rx:"1.55",fill:"#CFE2FF",stroke:"#333333",strokeWidth:"0.9"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.SECTION)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.SECTION)}},flow:{ariaId:(0,db.g)(),key:"flow",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.flow"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18 11C14.134 11 11 14.134 11 18C11 21.5265 13.6077 24.4439 17 24.9291V17H24.9291C24.4439 13.6077 21.5265 11 18 11Z",fill:"#0FA958"}),o.createElement("rect",{x:"18",y:"18",width:"12",height:"12",fill:"#A259FF"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.SHAPE_WITH_TEXT)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.SHAPE_WITH_TEXT)}},bug_bash:{ariaId:(0,db.g)(),key:"bug_bash",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.bug_bash"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("path",{d:"M20.8247 12.7078L20.5065 13.026L21.1429 13.6624L21.4611 13.3442L20.8247 12.7078ZM23.487 11.3183C23.6628 11.1425 23.6628 10.8576 23.487 10.6819C23.3113 10.5061 23.0264 10.5061 22.8506 10.6819L23.487 11.3183ZM21.4611 13.3442L23.487 11.3183L22.8506 10.6819L20.8247 12.7078L21.4611 13.3442Z",fill:"#1F1F1F"}),o.createElement("path",{d:"M17.6818 14.3182L18 14.6364L18.6364 14L18.3182 13.6818L17.6818 14.3182ZM15.3182 10.6818C15.1425 10.5061 14.8575 10.5061 14.6818 10.6818C14.5061 10.8575 14.5061 11.1425 14.6818 11.3182L15.3182 10.6818ZM18.3182 13.6818L15.3182 10.6818L14.6818 11.3182L17.6818 14.3182L18.3182 13.6818Z",fill:"#1F1F1F"}),o.createElement("line",{x1:"25.8143",y1:"22.6143",x2:"28.6794",y2:"22.6143",stroke:"#1F1F1F",strokeWidth:"0.771429",strokeLinecap:"round"}),o.createElement("path",{d:"M28.6207 22.1643C28.8693 22.1643 29.0707 22.3657 29.0707 22.6143C29.0707 22.8628 28.8693 23.0643 28.6207 23.0643V22.1643ZM25.7556 23.0643H25.3056V22.1643H25.7556V23.0643ZM28.6207 23.0643H25.7556V22.1643H28.6207V23.0643Z",fill:"#1F1F1F"}),o.createElement("line",{x1:"0.45",y1:"-0.45",x2:"3.18655",y2:"-0.45",transform:"matrix(-0.866025 0.5 0.5 0.866025 28.1493 18.6626)",stroke:"#1F1F1F",strokeWidth:"0.9",strokeLinecap:"round"}),o.createElement("path",{d:"M27.826 27.0634C28.0412 27.1877 28.3164 27.1139 28.4407 26.8987C28.5649 26.6835 28.4912 26.4083 28.276 26.284L27.826 27.0634ZM25.7947 24.8514L25.405 24.6264L24.955 25.4059L25.3447 25.6309L25.7947 24.8514ZM28.276 26.284L25.7947 24.8514L25.3447 25.6309L27.826 27.0634L28.276 26.284Z",fill:"#1F1F1F"}),o.createElement("path",{d:"M10 22.1643C9.75147 22.1643 9.55 22.3657 9.55 22.6143C9.55 22.8628 9.75147 23.0643 10 23.0643V22.1643ZM12.8651 23.0643H13.3151V22.1643H12.8651V23.0643ZM10 23.0643H12.8651V22.1643H10V23.0643Z",fill:"#1F1F1F"}),o.createElement("path",{d:"M11.3111 18.1082C11.0959 17.9839 10.8207 18.0577 10.6964 18.2729C10.5721 18.4882 10.6459 18.7634 10.8611 18.8876L11.3111 18.1082ZM13.231 20.2559L13.6208 20.4809L14.0708 19.7015L13.681 19.4765L13.231 20.2559ZM10.8611 18.8876L13.231 20.2559L13.681 19.4765L11.3111 18.1082L10.8611 18.8876Z",fill:"#1F1F1F"}),o.createElement("path",{d:"M10.3724 26.2693C10.1491 26.3783 10.0564 26.6477 10.1653 26.871C10.2743 27.0944 10.5437 27.1871 10.7671 27.0781L10.3724 26.2693ZM14.1973 25.4044L14.6018 25.2071L14.2071 24.3982L13.8027 24.5956L14.1973 25.4044ZM10.7671 27.0781L14.1973 25.4044L13.8027 24.5956L10.3724 26.2693L10.7671 27.0781Z",fill:"#1F1F1F"}),o.createElement("circle",{cx:"19.4286",cy:"16.1428",r:"3.42857",fill:"#FF8577"}),o.createElement("rect",{x:"13.7857",y:"16.5",width:"11.2857",height:"13",rx:"5.64286",fill:"#FF8577",stroke:"white"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.BUG_BASH)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.BUG_BASH)}},design_crit:{ariaId:(0,db.g)(),key:"design_crit",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.design_crit"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 24.9352L28.2929 24.2281L26.0724 22.0076C26.2633 21.4079 26.3664 20.769 26.3664 20.106C26.3664 17.1927 24.3764 14.7442 21.6816 14.0456L12.1329 11.323L11 11L11.3246 12.1324L13.9746 21.3762C14.5616 24.2247 17.0837 26.3664 20.106 26.3664C20.7916 26.3664 21.4514 26.2562 22.0687 26.0526L24.2686 28.2524L24.9757 28.9595L25.6828 28.2524L28.2929 25.6423L29 24.9352Z",fill:"#333333"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.3246 12.1326L11.2557 11.8923L16.9847 17.6214C16.842 17.8708 16.7604 18.1598 16.7604 18.4678C16.7604 19.4108 17.5249 20.1752 18.4678 20.1752C19.4108 20.1752 20.1752 19.4108 20.1752 18.4678C20.1752 17.5249 19.4108 16.7604 18.4678 16.7604C18.1597 16.7604 17.8706 16.8421 17.621 16.9849L11.8902 11.254L12.1328 11.3232L21.6815 14.0458C24.3764 14.7444 26.3664 17.1929 26.3664 20.1062C26.3664 20.7692 26.2633 21.4081 26.0723 22.0078L28.2928 24.2283L29 24.9354L28.2928 25.6425L25.6827 28.2526L24.9756 28.9597L24.2685 28.2526L22.0686 26.0527C21.4513 26.2564 20.7915 26.3666 20.106 26.3666C17.0836 26.3666 14.5615 24.2249 13.9745 21.3764L11.3246 12.1326Z",fill:"#C7B9FF"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.DESIGN_CRIT)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.DESIGN_CRIT)}},user_journey:{ariaId:(0,db.g)(),key:"user_journey",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.user_journey"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("path",{d:"M17 12L11 15.134V28L17 25V12Z",fill:"#5551FF"}),o.createElement("path",{d:"M18 12L23 15V28L18 25V12Z",fill:"#5551FF"}),o.createElement("path",{d:"M17.5 12V25",stroke:"white"}),o.createElement("path",{d:"M17.5 12V25",stroke:"white"}),o.createElement("path",{d:"M23.5 15V28",stroke:"white"}),o.createElement("path",{d:"M30 12L24 15V28L30 25.0309V12Z",fill:"#5551FF"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.USER_JOURNEY)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.USER_JOURNEY)}},standup:{ariaId:(0,db.g)(),key:"standup",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.standup.title"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("circle",{cx:"24",cy:"17",r:"3",fill:"#0FA958"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M29 25.7143C29 22.5584 26.7614 20 24 20C21.2386 20 19 22.5584 19 25.7143H29Z",fill:"#0FA958"}),o.createElement("mask",{id:"path-3-outside-1_878_74485",maskUnits:"userSpaceOnUse",x:"10",y:"13",width:"12",height:"14",fill:"black"},o.createElement("rect",{fill:"white",x:"10",y:"13",width:"12",height:"14"}),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 20C17.6569 20 19 18.6569 19 17C19 15.3431 17.6569 14 16 14C14.3431 14 13 15.3431 13 17C13 18.6569 14.3431 20 16 20ZM16 20C13.2386 20 11 22.5584 11 25.7143H21C21 22.5584 18.7614 20 16 20Z"})),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 20C17.6569 20 19 18.6569 19 17C19 15.3431 17.6569 14 16 14C14.3431 14 13 15.3431 13 17C13 18.6569 14.3431 20 16 20ZM16 20C13.2386 20 11 22.5584 11 25.7143H21C21 22.5584 18.7614 20 16 20Z",fill:"#0FA958"}),o.createElement("path",{d:"M11 25.7143H10V26.7143H11V25.7143ZM21 25.7143V26.7143H22V25.7143H21ZM18 17C18 18.1046 17.1046 19 16 19V21C18.2091 21 20 19.2091 20 17H18ZM16 15C17.1046 15 18 15.8954 18 17H20C20 14.7909 18.2091 13 16 13V15ZM14 17C14 15.8954 14.8954 15 16 15V13C13.7909 13 12 14.7909 12 17H14ZM16 19C14.8954 19 14 18.1046 14 17H12C12 19.2091 13.7909 21 16 21V19ZM16 19C12.565 19 10 22.1357 10 25.7143H12C12 22.9811 13.9121 21 16 21V19ZM11 26.7143H21V24.7143H11V26.7143ZM22 25.7143C22 22.1357 19.435 19 16 19V21C18.0879 21 20 22.9811 20 25.7143H22Z",fill:"white",mask:"url(#path-3-outside-1_878_74485)"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.STANDUP)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.STANDUP)}},retro:{ariaId:(0,db.g)(),key:"retro",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.retro"),svg:o.createElement(function(){return o.createElement(hK,null,o.createElement("circle",{cx:"20.009",cy:"20.003",r:"6.125",fill:"#0FA958"}),o.createElement("path",{fill:"#332800",fillRule:"evenodd",d:"M28.6 20a8.6 8.6 0 1 1-16.62-3.11l-.82-.378A9.475 9.475 0 0 0 10.5 20a9.5 9.5 0 1 0 9.5-9.5c-2.129 0-4.094.7-5.678 1.883l.575.694A8.6 8.6 0 0 1 28.6 20Z",clipRule:"evenodd"}),o.createElement("path",{stroke:"#332800",strokeLinecap:"round",strokeWidth:".9",d:"M20.009 15.718v4.285s2.586-.009 3.281 0"}),o.createElement("path",{fill:"#332800",d:"m11.755 14.387 2.207-3.967 2.332 3.894-4.539.073Z"}),o.createElement("ellipse",{cx:"11.556",cy:"16.736",fill:"#332800",rx:".451",ry:".557",transform:"rotate(20 11.556 16.736)"}))},null),onSelect(){c.gw5.showFigjamStarterKitPreview(c.KpW.RETRO)},onCommit(){c.gw5.commitFigjamStarterKitPreview(c.KpW.RETRO)}},templates:{ariaId:(0,db.g)(),key:"templates",localizedLabel:()=>(0,k.t)("whiteboard.starter_kit.options.templates"),className:"starter_kit_ui--optionTemplates--UEEVb",onSelect(){c.gw5.clearFigjamStarterKitPreview()},onCommit(e){e(nA.$O({type:sD.PH.type,data:{triggeredFrom:"starterKitMore",templateInsertionLocation:ri.RD.CURRENT_FILE}}))}}},h$=[hZ.brainstorm,hZ.agenda,hZ.flow,hZ.bug_bash,hZ.design_crit,hZ.user_journey,hZ.retro,hZ.templates];function hY(e){let{children:t,show:a,hasPreview:n}=e,r=(0,hz.O$)(a,n);return o.createElement("div",{"data-testid":a?"starter-kit-ui-show":"starter-kit-ui-hide",className:ep()("starter_kit_ui--positioner--nIKAz",{"starter_kit_ui--positionerOpaque--eN5Q4":r}),style:{display:a?"flex":"none"}},t)}let hX=(0,db.g)(),hJ=(0,db.g)();function hQ({isFromNewFile:e}){let t=(0,m.md)(hF.P),a=(0,b.dH)(),n=(0,W.tS)()||void 0,r=(0,s.wA)(),[l,i]=(0,o.useState)(!1),d=(0,o.useRef)(!1),u=e?"newFile":"recurring";(0,hz.lG)(t,l,r),(0,hz.At)({fileKey:n,didUserCancel:l,showStarterKit:t});let[p,E]=(0,o.useState)(-1),_=!l&&t===hz.iH.TRUE,g=h$&&-1!==p,f=g?h$[p]:void 0,h=(0,hz.fu)(_,g);(0,o.useEffect)(()=>{h&&E(-1)},[h]),(0,o.useEffect)(()=>{c.gw5.setFigjamStarterKitEnabled(_),_&&e&&E(0),_||E(-1)},[_,e,E]),(0,o.useEffect)(()=>()=>{c.gw5?.setFigjamStarterKitEnabled(!1)},[]),(0,o.useEffect)(()=>{a!==c.NLJ.SELECT&&a!==c.NLJ.HAND&&E(-1)},[a]);let v=(0,hB.I)(0===p);return(0,o.useEffect)(()=>{if(!_||!f)return;let e=document.getElementById(f.ariaId);e&&e.focus()},[v,_,p,f]),(0,o.useEffect)(()=>{_||c.gw5.clearFigjamStarterKitPreview()},[_]),(0,o.useEffect)(()=>{if(_){if(!f){c.gw5.clearFigjamStarterKitPreview();return}"templates"!==f.key&&((0,hU.Cu)({fileKey:n,source:u,placeholderKey:f.key,starterKitPosition:p},"starter_kit_previewed"),(0,hH._)("resource_previewed",{fileKey:n,resourceType:"placeholder",resourceName:f.key,placeholderSource:u,starterKitPosition:p})),f.onSelect()}},[n,u,_,f,p]),!function(e,t){let a=(0,o.useCallback)(e,t);(0,o.useEffect)(()=>(hV.oW.on("action",a),()=>{hV.oW.removeListener("action",a)}),[a])}(e=>{switch(e){case c.KWd.PREVIOUS:E(e=>(e-1+h$.length)%h$.length);break;case c.KWd.NEXT:E(e=>(e+1)%h$.length);break;case c.KWd.CLEAR:_&&(0,hU.Cu)({fileKey:n,source:u,placeholderKey:f?.key},"starter_kit_alt_user_action"),E(-1);break;case c.KWd.CANCEL:i(!0);break;case c.KWd.COMMIT:if(!f)break;"templates"!==f.key&&((0,hU.Cu)({fileKey:n,source:u,placeholderKey:f.key,starterKitPosition:p},"starter_kit_inserted"),(0,hH._)("resource_inserted",{fileKey:n,resourceType:"placeholder",placeholderSource:u,resourceName:f.key,starterKitPosition:p})),f.onCommit(r)}},[r,h$,f,E,i,_,n,u,p]),o.createElement(hY,{show:_,hasPreview:g},o.createElement(na.fu,{name:"starter_kit_shown",properties:{fileKey:n,source:u},enabled:_},_&&o.createElement("div",{className:"starter_kit_ui--container--RLzBD",style:hz.jm,role:"dialog","aria-labelledby":hX,"aria-describedby":hJ,onMouseLeave:()=>d.current=!0,onMouseEnter:()=>{d.current&&(c.gw5.rotateFigjamStarterKitStrings(),d.current=!1)}},o.createElement(_I.i,null,o.createElement(eJ.E,{className:"starter_kit_ui--closeButton--f40J9",onClick:()=>i(!0),"aria-label":(0,k.t)("whiteboard.starter_kit.close")},o.createElement(hW,null)),o.createElement("div",{className:"starter_kit_ui--title--LN48H text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",id:hX},(0,k.t)("whiteboard.starter_kit.title")),o.createElement("div",{className:"starter_kit_ui--subtitle--RFGlJ text--fontNeg14--ARPWl text--_fontBase--QdLsd text--_negText--j9g-L",id:hJ},(0,k.t)("whiteboard.starter_kit.subtitle")),o.createElement(hG,{options:h$,selectedIndex:p,setSelectedIndex:E})))))}function hq(){let e=(0,hz.Mh)(),t=(0,hz.nw)(e),a=!(0,p.q8)()&&(0,sS.Uy)(),n=!!(0,d.kc)().figjam_generate_handbrake,r=(0,m.Xr)(hF.P);return(0,o.useEffect)(()=>{r(e)},[r,e]),(0,o.useEffect)(()=>()=>r(hz.iH.FALSE),[r]),a&&!n?null:o.createElement(hQ,{isFromNewFile:t})}var h0=a(86815);function h1(){let e=(0,s.d4)(e=>e.multiplayerEmoji),t=(0,b.p8)("showUi"),a=(0,b.p8)("topLevelMode"),n=(0,b.p8)("currentTool")===c.NLJ.COMMENTS,r=a===c.lyf.HISTORY,l=!(0,p.q8)()&&(0,sS.Uy)(),i=(0,m.Xr)(sC.H4);return(0,o.useEffect)(()=>{r&&i()},[r,i]),o.createElement(o.Fragment,null,o.createElement(nN,null),o.createElement(q.S4,{multiplayerEmoji:e}),o.createElement(cX,null),l&&o.createElement(c6,null),o.createElement(hM,null),!n&&!r&&o.createElement(_g,null),!n&&!r&&o.createElement(_v,null),o.createElement(I.J,null),o.createElement(Y,null),o.createElement(a8.Nz,null),o.createElement(hN,null),t&&o.createElement(nW,null))}let h2=o.memo(({shouldShowDragAndDropBorder:e})=>{let t=(0,b.p8)("isReadOnly"),a=(0,f.GS)(),n=(0,s.d4)(e=>e.progressBarState),r=(0,b.p8)("loadingEmbeds"),l=(0,w.ut)(c.Ez5?.uiState().showCanvasSearch,!1),i=(0,b.aV)(),d=(0,o.useRef)(null),m=(0,s.d4)(e=>e.openFile),p=m?m.key:"",T=(0,s.d4)(e=>e.universalInsertModal),I=(0,s.d4)(e=>(0,ni.h)(e)),N=(0,s.wA)();(0,g.Gb)(p),(0,y.W)(!0);let L=(0,v.BI)();return o.createElement(ea,null,o.createElement(en.sk,{versionHistoryEnabled:!1},!(u.Ay.isIpad||u.Ay.isIpadNative)&&!t&&o.createElement(hq,null),n.mode!==c.Oin.OFF&&o.createElement("div",{className:h0._q}),o.createElement(S.pO,{initialFilterState:{currentPage:!1}},r.map(e=>o.createElement(Q._,{key:`loading-embed-${e}`,nodeId:e})),o.createElement(er.qn,null),o.createElement(sw.u,null),l&&o.createElement(a7.n,null),o.createElement(J.GR,null),o.createElement(J.bu,null),o.createElement(no.J,null),o.createElement(hO,null),o.createElement(er.XI,{commentsDetailContainerRef:d}),o.createElement(h1,null),o.createElement("div",{ref:d}),a&&!(0,h.T)()&&o.createElement(a6,null),o.createElement(X.G,null,o.createElement(h_,null),!!L?.shouldOptimizeForIpadApp&&o.createElement(sT.K,null),!!L?.shouldOptimizeForIpadApp&&o.createElement(sy.t,null)),e&&o.createElement(a8.X5,null)),o.createElement(C.A,{isFigjamEditor:!0,isDesignEditor:!1,isSlidesEditor:!1,openFile:m}),o.createElement(a9.l,null),T.showing&&o.createElement(E.tH,{boundaryKey:"FigJamBrowseAllResourcesModal",onError:()=>{N(_.F.enqueue({message:"Unable to open inserts menu",type:"react-error"}))},fallback:E.H4.NONE_I_KNOW_WHAT_IM_DOING},o.createElement(sf,null)),!i&&I&&o.createElement(nl,null)))});function h5(){let e=(0,b.dH)(),[t,a]=(0,o.useState)(!1);return(0,T.IT)((0,eC.oH)({}),{enabled:(0,d.kc)().figjam_diagramming_improvements_v1}),o.createElement(ee.c,null,o.createElement(el.v,{setShouldShowDragAndDropBorder:a,isDragTarget:!0,onPointerDown:(t,a)=>{(0,er.P2)(t,a,e)}},o.createElement(h2,{shouldShowDragAndDropBorder:t})))}},690893:(e,t,a)=>{a.d(t,{c:()=>i,b:()=>l});var n=a(411855),r=a(665048);let l=n.forwardRef(function({children:e,legend:t,...a},l){return n.createElement(r.bL,{...a,ref:l,legend:t,className:"segmented_control_with_text--fieldset--Uj50h"},e)});l.displayName="SegmentedControl.Root";let i=n.forwardRef(function({icon:e,children:t,...a},l){return n.createElement(r.c$,{...a,ref:l},n.createElement("div",{className:"segmented_control_with_text--option--zdT46"},n.createElement("span",{className:"segmented_control_with_text--icon--vrD61","aria-hidden":!0},e),n.createElement("span",{className:"segmented_control_with_text--text--Soi8f"},t)))});i.displayName="SegmentedControl.Option"},259224:(e,t,a)=>{a.d(t,{B8:()=>A,HB:()=>x,Kq:()=>D,OP:()=>R,U_:()=>M,Yg:()=>O,ar:()=>k,es:()=>P,uB:()=>F,yX:()=>B});var n=a(411855),r=a(188507),l=a(805014),i=a(841962),o=a(875877),s=a(48929),c=a(152664),d=a(736041),m=a(353428),u=a(366172),p=a(176160),E=a(368418),_=a(787348),g=a(15092),f=a(314540),h=a(940795),b=a(39971),v=a(487388),T=a(957020),y=a(324225),w=a(771614),C=a(574431),S=a(873137),I=a(657994),N=a(449977),L=a(480648);function O(){let e=(0,i.kc)().figjam_diagramming_improvements_v1,t=(0,o.md)(I.s1);return e&&t}function k(){let e=(0,o.Xr)(I.s1),[t,a]=(0,o.fp)(S.oh);return n.useMemo(()=>()=>{e(!0),a({type:"close",source:S.Yg.OpenedShapesSidebar})},[e,a])}function A(){let e=(0,g.TA)(),t=(0,o.md)(I.Rg),[a,r]=(0,o.fp)(I.Gn);n.useEffect(()=>{if(e)return;let n=()=>{r(a.map(e=>{if(e.lastAddedAtByUserId&&t in e.lastAddedAtByUserId){let{[t]:a,...n}=e.lastAddedAtByUserId;return{...e,lastAddedAtByUserId:n}}return e}).filter(e=>e.lastAddedAtByUserId&&Object.keys(e.lastAddedAtByUserId).length>0))};return window.addEventListener("beforeunload",n),()=>window.removeEventListener("beforeunload",n)},[e,a,t,r]);let l=e??t;return n.useMemo(()=>a.filter(e=>l in(e.lastAddedAtByUserId??{})).map(e=>e.id),[a,l])}function R(e,t){let a=(0,w.dF)(e);return t?`${a} - ${t}`:a}function x(e){let t=(0,o.md)(s.yE);if(!(0,r.d4)(e=>e?.mirror?.appModel?.currentTool===l.NLJ.SHAPE_WHITEBOARD_PLATFORM)||!t)return!1;let a=e.type===T.PW.COMPONENT?e.component_key:e.key,n=e.type,i=e.userFacingVersion.toString();return e.library_key===t.libraryKey&&i===t.assetVersion&&a===t.assetKey&&n===t.assetType}function M(){return(0,n.useCallback)(e=>{let t=e.relatedTarget;if(!t||t.classList.contains("focus-target"))return;let a=t.classList.contains(L.Fu);for(;!a&&t.parentElement;)a=(t=t.parentElement).classList.contains(L.Fu);a||l.glU?.triggerActionEnumInUserEditScope(l.rcl.SET_TOOL_DEFAULT_FIGJAM,{})},[])}function D({insertAction:e,recordingKey:t}){return(0,E.t)({resource:{},clickToInsert_DEPRECATED:!1,onDragStart:()=>u.Y5.triggerActionEnum(l.rcl.SET_TOOL_DEFAULT)},{insertAction:e,getDragPreviewSrc:()=>"",onPointerDownCallback:N.Ln,onPointerUpCallback:N.UH,dragPreviewPointerPosition:_.N.CENTERED,recordingKey:t})}function P(){let e=(0,h.n4)();return!!e&&e===f.Ag.STARTER}function F(){let e=(0,p.q5)(),t=(0,r.wA)();return(0,n.useCallback)(()=>{e&&t((0,d.to)({type:c.V,data:{upsellSource:b.b.SHAPES_SIDEBAR,teamId:e.team?.id,openCheckoutInNewTab:!0}}))},[e,t])}function B(){let e=(0,p.q5)(),t=(0,r.wA)(),a=m.F.useShouldHideStarterCtaForOpenFile();return(0,n.useCallback)(()=>{e&&t((0,d.to)({type:C.DV,data:{team:e.team,resource:v.Bi.ADVANCED_SHAPES,action:y.ZN.INSERT_ADVANCED_SHAPE,editorType:f._Y.WHITEBOARD,currentPlan:m.F.Plan.STARTER,upsellPlan:m.F.Plan.PRO,hideUpsellPlanCta:a}}))},[e,t,a])}},431267:(e,t,a)=>{a.r(t),a.d(t,{WhiteboardUI3ToolbeltWithErrorBoundary:()=>eA});var n=a(411855),r=a(875877),l=a(499875),i=a(123849),o=a(843747),s=a(979479),c=a(71975),d=a(767543),m=a(140433),u=a(622268),p=a(76265),E=a(965361),_=a(140835),g=a(972311),f=a(427494),h=a(227856),b=a(497657),v=a(324588),T=a(805014),y=a(372653),w=a(265218),C=a(344727);function S(){return n.createElement(w.a,{ariaLabel:(0,p.t)("whiteboard.delightful_toolbar.shapes_and_connectors_label")},n.createElement(C.G,null,(0,p.t)("whiteboard.shapes.square")),n.createElement(C.G,null,(0,p.t)("whiteboard.shapes.triangle")),n.createElement(C.G,null,(0,p.t)("whiteboard.shapes.ellipse")),n.createElement(C.G,null,(0,p.t)("whiteboard.shapes.star")))}var I=(e=>(e.INSERTS_MENU="inserts_menu",e))(I||{}),N=(e=>(e.MoveTools="MoveTools",e))(N||{}),L=(e=>(e.DiagrammingTools="DiagrammingTools",e.None="None",e))(L||{}),O=a(252207),k=a(927150),A=a(150237);let R=(0,k.bt)(e=>"WHEEL"===e.multiplayerEmoji.type&&["STAMP1","STAMP2"].includes(e.multiplayerEmoji.wheelType)),x=(0,r.eU)(null,(e,t)=>{e(R)?O.CB.closeWheel():(0,A.A)({source:v.fK})}),M=(0,r.eU)(e=>e(d.Kh),(e,t,a)=>{if(a===T.NLJ.STAMP){t(x);return}let n=F(a);(0,d.$v)(n)}),D={...d.lW,activeToolIdAtom:M};function P(){return(0,d.uh)(F)}function F(e){return e===T.NLJ.SELECT?"set-tool-default-figjam":e===I.INSERTS_MENU?"browse-all-resources-modal":(0,d.O_)(e)}function B(){let{activeSecondaryToolbeltId:e,setActiveSecondaryToolbeltId:t}=(0,y.L)(),{activeToolId:a}=(0,m.rM)(D);return n.useEffect(()=>{a===T.NLJ.SHAPE_WHITEBOARD_SQUARE?t(L.DiagrammingTools):t(L.None)},[a,t]),n.createElement(n.Fragment,null,e===L.DiagrammingTools&&n.createElement(S,null))}var H=a(105853),U=a(982162),V=a(383462),W=a(227070),K=a(351966),G=a(629019),j=a.n(G),z=a(688656);function Z(e){let{children:t,isSelected:a,onClick:r,onboardingKey:l}=e,i=n.useContext(c.sg),o=e.disabled||i;return n.createElement(K.E,{className:j()("whiteboard_delightful_button--whiteboardDelightfulButton--G16hR",{"whiteboard_delightful_button--whiteboardDelightfulButtonSelected--NkIB3":a}),onClick:r,htmlAttributes:{"data-onboarding-key":l,"data-testid":e["data-testid"],"data-tooltip-type":z.Ib.TEXT,"data-tooltip":e.tooltipText,"data-tooltip-shortcut":e.tooltipShortcut,"data-tooltip-show-above":!0,id:e.elementId},disabled:o,"aria-label":e.tooltipText,"aria-disabled":o,"aria-hidden":o,recordingKey:e.recordingKey},t)}var $=a(188507),Y=a(619229),X=a(999267),J=a(144349),Q=a(244387),q=a(257091),ee=a(263159);let et=(0,n.memo)(function(e){return(0,ee.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,ee.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M5.5 5h13a.5.5 0 0 1 .5.5V13h-5.5a.5.5 0 0 0-.5.5V19H5.5a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 .5-.5M14 18.904a1 1 0 0 0 .279-.197l4.428-4.428a1 1 0 0 0 .197-.279H14zM18.5 4h-13A1.5 1.5 0 0 0 4 5.5v13A1.5 1.5 0 0 0 5.5 20h8.072a2 2 0 0 0 1.414-.586l4.428-4.428A2 2 0 0 0 20 13.572V5.5A1.5 1.5 0 0 0 18.5 4",clipRule:"evenodd"})})}),ea=(0,n.memo)(function(e){return(0,ee.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,ee.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M7.5 7h9a.5.5 0 0 1 .5.5V12h-4.5a.5.5 0 0 0-.5.5V17H7.5a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5M13 17a1 1 0 0 0 .679-.293l3.028-3.028A1 1 0 0 0 17 13h-4zm3.5-11h-9A1.5 1.5 0 0 0 6 7.5v9A1.5 1.5 0 0 0 7.5 18h5.472a2 2 0 0 0 1.414-.586l3.028-3.028A2 2 0 0 0 18 12.972V7.5A1.5 1.5 0 0 0 16.5 6",clipRule:"evenodd"})})});var en=a(935471),er=a(39089),el=a(391288),ei=a(17779),eo=a(683061),es=a(787667),ec=a(338581),ed=a(261145),em=a(868895),eu=a(96390);let ep=(0,n.memo)(function(e){return(0,ee.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,ee.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M6 13v-3h3v3zm0 1v2a1 1 0 0 0 1 1h2v-3zm4 3h7a1 1 0 0 0 1-1v-2h-8zm8-4v-3h-8v3zm0-4V7a1 1 0 0 0-1-1h-7v3zM9 6H7a1 1 0 0 0-1 1v2h3zM5 16V7a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2",clipRule:"evenodd"})})}),eE=(0,n.memo)(function(e){return(0,ee.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,ee.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M9.5 13.123v-3a4 4 0 1 1 5 0v3l4.871 1.949A1 1 0 0 1 20 16v2a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-2a1 1 0 0 1 .629-.928zm1-.123h3V9.599a3 3 0 1 0-3 0zm-.5 1-5 2v2h14v-2l-5-2zm-3 6.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})}),e_=(0,n.memo)(function(e){return(0,ee.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,ee.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"m13 10.85.428-.297a2.5 2.5 0 1 0-2.856 0l.428.298V13h2zm.93 3.15h-3.86L7 14.877V16h10v-1.123zM10 13v-1.627a3.5 3.5 0 1 1 4 0V13q.07 0 .137.02l3.5 1a.5.5 0 0 1 .363.48v2a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 1 .363-.48l3.5-1A.5.5 0 0 1 10 13m-2 5.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5",clipRule:"evenodd"})})});var eg=a(429223),ef=a(563192),eh=a(12609),eb=a(827988),ev=a(4840),eT=a(291225),ey=a(436795);let ew="whiteboardToolbelt";var eC=(e=>(e.SELECT="toolDefault",e.HAND="toolHand",e.COMMENT="toolComment",e.INSERTS="insertsButton",e.TEXT="toolText",e.SECTION="toolSection",e.TABLE="toolTable",e.STAMP="toolStamp",e.FREEFORM_TOOLS="freeform_tools",e.STICKY="sticky",e.SHAPES="shapes",e))(eC||{});let eS={SELECT:{type:eT.U.Tool,toolId:T.NLJ.SELECT,getText:()=>(0,p.t)("fullscreen_actions.set-tool-default-desc-figjam"),icon:n.createElement(Y.H,null),smallIcon:n.createElement(X.y,null),recordingKey:"toolDefault"},HAND:{type:eT.U.Tool,toolId:T.NLJ.HAND,getText:()=>(0,p.t)("fullscreen_actions.set-tool-hand"),icon:n.createElement(J.t,null),smallIcon:n.createElement(Q.O,null),recordingKey:"toolHand"},FREEFORM_TOOLS:{type:eT.U.Tool,toolId:T.NLJ.VECTOR_PENCIL,getText:()=>(0,p.t)("fullscreen_actions.set-tool-marker"),icon:n.createElement(H.L,null),smallIcon:n.createElement(q.A,null),recordingKey:"freeform_tools"},STICKY:{type:eT.U.Tool,toolId:T.NLJ.STICKY,getText:()=>(0,p.t)("fullscreen_actions.set-tool-sticky"),icon:n.createElement(et,null),smallIcon:n.createElement(ea,null),recordingKey:"sticky"},SHAPES:{type:eT.U.Tool,toolId:T.NLJ.SHAPE_WHITEBOARD_SQUARE,getText:()=>(0,p.t)("fullscreen_actions.set-tool-rectangle"),icon:n.createElement(en.n,null),smallIcon:n.createElement(er.y,null),recordingKey:"shapes"},COMMENTS:{type:eT.U.Tool,toolId:T.NLJ.COMMENTS,getText:e=>e>0?(0,p.t)("fullscreen.accessibility.view_comments_with_unreads"):(0,p.t)("fullscreen.accessibility.view_comments"),getIcon:e=>e>0?n.createElement(el.X,null):n.createElement(ei.f,null),smallIcon:n.createElement(eo.S,null),recordingKey:"toolComment"},TEXT:{type:eT.U.Tool,toolId:T.NLJ.TYPE,getText:()=>(0,p.t)("fullscreen_actions.set-tool-type"),icon:n.createElement(es.B,null),smallIcon:n.createElement(ec.e,null),recordingKey:"toolText"},SECTION:{type:eT.U.Tool,toolId:T.NLJ.SECTION,getText:()=>(0,p.t)("fullscreen_actions.set-tool-section"),icon:n.createElement(ed.P,null),smallIcon:n.createElement(em.c,null),recordingKey:"toolSection"},TABLE:{type:eT.U.Tool,toolId:T.NLJ.TABLE,getText:()=>(0,p.t)("fullscreen_actions.set-tool-table"),icon:n.createElement(eu.s,null),smallIcon:n.createElement(ep,null),recordingKey:"toolTable"},STAMP:{type:eT.U.Tool,toolId:T.NLJ.STAMP,getText:()=>(0,p.t)("fullscreen_actions.set-tool-stamp"),icon:n.createElement(eE,null),smallIcon:n.createElement(e_,null),recordingKey:"toolStamp"}};function eI({staticToolConfig:e,dynamicToolState:t,forceToRenderActive:a}){let{toolId:r,icon:l,getIcon:i,recordingKey:o,onboardingKey:s,getText:c}=e,{activateTool:d,activeToolId:m,getShortcutTextForTool:u,numUnreadComments:p}=t,E=i?.(p)??l;return n.createElement(eb.N,{toolId:r,icon:E??n.createElement(eg.V,null),tooltipText:c(p),tooltipShortcut:u(r),onboardingKey:s,recordingKey:ef.Pt(ew,o),onActivateTool:d,activeToolId:a?r:m})}let eN={MOVE:{overlayId:N.MoveTools,tools:[eS.SELECT,eS.HAND],recordingKey:"toolGroupSelect",getTooltipText:()=>(0,p.t)("fullscreen.flyout.move_tools")}};function eL({staticToolGroupConfig:e,dynamicToolState:t}){let{overlayId:a,tools:r,getTooltipText:l,recordingKey:i,onboardingKey:o}=e,{activateTool:s,activeToolId:c,dropdownShown:d,openOverlay:m,closeOpenOverlay:u,getShortcutTextForTool:p,numUnreadComments:E}=t,_=r.map(e=>{let{toolId:t,icon:a,smallIcon:r,onboardingKey:l,getText:o,getIcon:s}=e,c=s?.(E)??a;return{type:eT.U.Tool,toolId:t,icon:c??n.createElement(eg.V,null),smallIcon:r,text:o(E),shortcutText:p(t),onboardingKey:l,recordingKey:ef.Pt(ew,i)??""}});return n.createElement(ev.Iu,{overlayId:a,items:_,tooltipText:l(),onboardingKey:o,recordingKey:ef.Pt(ew,i),onActivateTool:s,activeToolId:c,dropdownShown:d,onOpen:m,onClose:u})}function eO(){let e=P(),t=(0,$.d4)(e=>e.universalInsertModal.showing),a=(0,ey.r)(t);return n.createElement("div",{"data-element-target":v.b,className:j()("whiteboard_toolbelt_tools--insertsWrapper--FGVAn",{"whiteboard_toolbelt_tools--insertsWrapperRotated--lRq1u":t})},n.createElement(eh.y,{onClick:a,isActive:t,tooltipText:(0,p.t)("fullscreen_actions.browse-all-resources-dlt"),tooltipShortcut:e(I.INSERTS_MENU),recordingKey:ef.Pt(ew,"insertsButton")}))}function ek(){let e=(0,W.bu)(),t=function(){let e=(0,U.md)(V.B),t=(0,W.s3)()&&e===T.cxo.PENCIL_TOOL;return(0,W.bu)()||t}(),a=P(),r=n.useCallback(()=>{e?T.glU.triggerActionInUserEditScope("set-tool-default",{source:v.fK}):T.glU?.triggerActionInUserEditScope("set-tool-pencil",{source:v.fK})},[e]);return n.createElement(Z,{onClick:r,isSelected:t,tooltipText:eS.FREEFORM_TOOLS.getText(),tooltipShortcut:a(eS.FREEFORM_TOOLS.toolId),recordingKey:eS.FREEFORM_TOOLS.recordingKey},n.createElement("div",{style:{position:"relative",top:"-4px"}},n.createElement(H.L,null)))}function eA(){return n.createElement(l.tH,{boundaryKey:"WhiteboardToolbelt",fallback:l.H4.NONE_I_KNOW_WHAT_IM_DOING},n.createElement(eR,null,n.createElement(ex,null,n.createElement(eM,null))))}function eR({children:e}){let t=(0,g.xn)(),a=(0,r.md)(u.P4),l=n.useMemo(()=>({marginBottom:t+a}),[t,a]);return n.createElement("div",{id:v.HY,"data-onboarding-key":v.HY,"data-element-target":v.HY,className:"whiteboard_toolbelt--root---s6Vo",style:l},e)}function ex({children:e}){return(0,f.aV)()?null:n.createElement(_.fu,{name:v.RZ},n.createElement(b.x,null,n.createElement(h.m,{role:"region","aria-label":(0,p.t)("fullscreen_actions.toolbar_label")},e)))}function eM(){let e=(0,m.rM)(D),{editModeType:t,activateTool:a,activeToolId:l,closeOpenOverlay:u}=e,p=P(),_=(0,d.zr)(t),g=(0,E.n6)(),f=(0,r.md)(R)||l===T.NLJ.STAMP,h={...e,getShortcutTextForTool:p,numUnreadComments:g};return n.createElement(o.X,{"data-testid":"whiteboard-toolbelt"},n.createElement(o.I,null,n.createElement(c.kF,null,_?n.createElement(n.Fragment,null,n.createElement(eI,{staticToolConfig:eS.SELECT,dynamicToolState:h}),n.createElement(eI,{staticToolConfig:eS.HAND,dynamicToolState:h})):n.createElement(n.Fragment,null,n.createElement(eL,{staticToolGroupConfig:eN.MOVE,dynamicToolState:h}),n.createElement(s.X,{extended:!0}),n.createElement(ek,null),n.createElement(eI,{staticToolConfig:eS.STICKY,dynamicToolState:h}),n.createElement(eI,{staticToolConfig:eS.SHAPES,dynamicToolState:h}),n.createElement(s.X,{extended:!0}),n.createElement(eI,{staticToolConfig:eS.TEXT,dynamicToolState:h}),n.createElement(eI,{staticToolConfig:eS.SECTION,dynamicToolState:h}),n.createElement(eI,{staticToolConfig:eS.TABLE,dynamicToolState:h}),n.createElement("div",{"data-element-target":v.NZ},n.createElement(eI,{staticToolConfig:eS.STAMP,dynamicToolState:h,forceToRenderActive:f})),n.createElement(eI,{staticToolConfig:eS.COMMENTS,dynamicToolState:h}),n.createElement(eO,null))),n.createElement(i.k,{activeToolId:l,onActivateTool:a,onClose:u})),n.createElement(B,null))}}}]);

//# debugId=f9fe2750-c954-573a-80f3-5adac5bb0cb9

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/645ac37f0631d6a21adf899500854f50553c6197/fullscreen_whiteboard-62759786fee85aab.min.js.map