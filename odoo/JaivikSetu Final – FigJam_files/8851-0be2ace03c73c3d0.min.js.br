"use strict";
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="b0ccb75f-b73d-5af3-8432-48ae05747eed")}catch(e){}}();
(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([[8851],{575207:(e,t,a)=>{a.d(t,{B6:()=>_,Gv:()=>r,N9:()=>p,NY:()=>n,XV:()=>o,kb:()=>c,lI:()=>l,pG:()=>m,sD:()=>s,uA:()=>u,uV:()=>d,wE:()=>i});let r="figjam_detail_in_editor_top_bar--backButton--Q5crN",l="figjam_detail_in_editor_top_bar--ctaButton--hKCbt",n="figjam_detail_in_editor_top_bar--disabledButton--F9yLz basic_form--primaryBtn--AU7Gy basic_form--btn--FSrmp ellipsis--ellipsis--Tjyfa text--fontPos11--2LvXf text--_fontBase--QdLsd figjam_detail_in_editor_top_bar--ctaButton--hKCbt",s="figjam_detail_in_editor_top_bar--chevronContainerWhite--EZcGk",i="figjam_detail_in_editor_top_bar--chevronContainerBlack--YvD9R",o="figjam_detail_in_editor_top_bar--topBar--x9sDw",c="figjam_detail_in_editor_top_bar--left--K0x8U",m="figjam_detail_in_editor_top_bar--right--jXKNf",d="figjam_detail_in_editor_top_bar--pluginMetadataContainer--I39tz",u="figjam_detail_in_editor_top_bar--pluginTileNameContainer--11U-p",_="figjam_detail_in_editor_top_bar--pluginTileName--jini0 text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa",p="figjam_detail_in_editor_top_bar--pluginTilePublishers--9MpEZ text--fontPos11--2LvXf text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},451479:(e,t,a)=>{a.d(t,{Do:()=>l,R5:()=>o,kL:()=>s,pr:()=>n,ts:()=>r,xl:()=>i});let r="browse_library_items_container--browseLibraryItemsContainer--Keunc",l="browse_library_items_container--gridContainerSmall--bE7eB",n="browse_library_items_container--gridContainerNormal---Y3Kz",s="browse_library_items_container--container--FpYi3",i="browse_library_items_container--smallContainer--3V6cZ",o="browse_library_items_container--gridContainerWide--huzZQ"},563654:(e,t,a)=>{a.d(t,{iU:()=>n,n_:()=>l,sk:()=>r});let r="browse_templates_tab--resourcesGrid--Xwq6v",l="browse_templates_tab--hoverOverlay--BpdyD",n="browse_templates_tab--templatesSearchTopPadding--h4HNe"},582057:(e,t,a)=>{a.d(t,{d:()=>c,t:()=>m});var r=a(411855),l=a(188507),n=a(728722),s=a(730676),i=a(183739),o=a(354465);function c(e){let t=(0,l.wA)(),a=(0,l.d4)(t=>t.communityHub.shelves[e]||[]),n=s.sz.loadingKeyForPayload({shelfType:e}),i=(0,o.oh)(n),c=(0,o.mC)(n);return r.useEffect(()=>{i||c||t(s.sz({shelfType:e}))}),{shelves:a,isLoading:i,hasResolved:c}}function m(e){let t=(0,n.Rs)(i.U2Y,{profileId:e});if("loaded"===t.status){let e=t.data.communityProfile;if(e){let t=e.associatedUsers,a=[];t.forEach(t=>{a.push({user_id:t.id,email:t.email,is_primary_user:t.id===e.primaryUserId})});let r=[];return e.badges.forEach(e=>{r.push(e.badgeType)}),{id:e.id,name:e.name,profile_handle:e.profileHandle,description:e.description,location:e.location,website:e.website,twitter:e.twitter,instagram:e.instagram,public_at:e.publicAt,follower_count:e.followerCount,following_count:e.followingCount,cover_image_path:e.coverImagePath,primary_user_id:e.primaryUserId,team_id:e.teamId,org_id:e.orgId,pronouns:e.pronouns,entity_type:e.entityType,created_at:e.createdAt.toDateString(),updated_at:e.updatedAt.toDateString(),redirect_cover_image_url:e.coverImagePath?`/profile/${e.id}/cover_image`:"",associated_users:a,current_user_is_following:e.currentUserIsFollowing,current_user_is_followed:e.currentUserIsFollowed,badges:r,is_restricted_by_current_user:!1,img_urls:{},img_url:"",has_shared_orgs:!1,has_shared_teams:!1}}}}},359252:(e,t,a)=>{a.d(t,{A:()=>d});var r=a(411855),l=a(188507),n=a(303433),s=a(828453),i=a(107370),o=a(973280),c=a(604938);let m={list:o.U.getRecentFaceStamps,search:o.U.searchFaceStamps};function d({maxResults:e}){let t=(0,l.wA)(),a=(0,i.zW)({maxResultsCount:e,api:m,includeHiResAvatars:!0}),[o,d]=r.useState(!1),[u,_]=r.useState(!1),[p,g]=r.useState(null),E=(0,c.d0)(),b=r.useCallback(e=>{if(!E){_(!0),d(!1),g(e);return}d(!0),_(!1),(0,s.fG)(e,a,!1).then(a=>{_(!0);let r=a?.mentions||[];g(e),t(n.o2(r)),d(!1)})},[a,t,E]);return r.useMemo(()=>({faceStampServerSideSearch:b,faceStampSearchIsLoading:o,faceStampSearchHasResolved:u,lastFaceStampSearchQuery:p,setLastFaceStampSearchQuery:g}),[u,o,b,p])}},701263:(e,t,a)=>{a.d(t,{B:()=>K});var r=a(411855),l=a(188507),n=a(520244),s=a(138225),i=a(22562),o=a(336427),c=a(666308),m=a(663844),d=a(14489),u=a(265851),_=a(76265),p=a(324608),g=a(47795),E=a(315145),b=a(140835),f=a(343373),h=a(72411),y=a(58590),v=a(125682),N=a(708862),w=a(888624),T=a(758956),C=a(910164),S=a(811257),k=a(514849);let I=[S.p.ALL,S.p.STICKERS_AND_COMPONENTS,S.p.TEMPLATES,S.p.WIDGETS,S.p.PLUGINS,S.p.MORE];function L(){let{tabManager:e,tabPropsMap:t}=(0,k.cX)();return r.createElement(T.Z,{fadeEdges:!0},r.createElement("div",{style:C.sx.add({display:"inline-flex",padding:"12px 20px"}).$},r.createElement(w.t.TabStrip,{manager:e},I.map(e=>r.createElement(w.t.Tab,{...t[e],key:e,htmlAttributes:{"data-not-draggable":"true","data-browse-modal-tab":!0}},function(e){switch(e){case S.p.ALL:return(0,_.t)("whiteboard.inserts.all");case S.p.STICKERS_AND_COMPONENTS:return(0,_.t)("whiteboard.inserts.stickers");case S.p.TEMPLATES:return(0,_.t)("whiteboard.inserts.templates");case S.p.WIDGETS:return(0,_.t)("whiteboard.inserts.widgets");case S.p.PLUGINS:return(0,_.t)("whiteboard.inserts.plugins");case S.p.MORE:return(0,_.t)("whiteboard.inserts.more");default:return""}}(e))))))}var x=a(81818),A=a(234780),P=a(931539),M=a(991944);let F=r.createContext(null),R=()=>{let e=r.useContext(F);if(!e)throw Error("BrowseModal components must be used within BrowseModalProvider");return e},D={main:0,category:0,detail:0},O=e=>{let t=r.useRef(D[e]);return r.useEffect(()=>(setTimeout(()=>{D[e]=0},0),()=>{D[e]=t.current}),[e]),e=>t.current=e},K={Root:function({initialPosition:e,modalPosition:t,bounds:a,showLeftPinBound:n,setShowLeftPinBound:s,shouldSnapToPosition:i,entryPointId:c,setPinned:m,children:d,disableDragging:u,shouldOptimizeForIpadApp:_,shouldShowTabView:p}){let w=(0,f.GS)(),[T,C]=r.useState(0),S=r.useRef(null),k=r.useRef(null),I=(0,l.d4)(e=>e.universalInsertModal),L=(0,l.wA)(),x=(0,y.LR)(),A=r.useCallback(e=>{e&&C(y.zo-e.getBoundingClientRect().height-1)},[]),[P,R]=r.useState(!1),D=(0,v.Um)();(0,y.J$)(I.pinned===N.t.NOT_PINNED,S,c?`[data-element-target=${c}]`:void 0);let O=(0,o.ZC)(p);r.useEffect(()=>{void 0!==O&&(O&&!p||!O&&p)&&R(!0)},[O,p]);let K=r.useMemo(()=>({onClose:x,mainContentHeight:T,setPinned:m,searchBarRef:k,headerContentRef:A,shouldOptimizeForIpadApp:_,isTransitioning:P,setIsTransitioning:R}),[x,T,m,k,A,_,P,R]);return e?r.createElement(r.Fragment,null,I.pinned===N.t.PINNED&&n&&r.createElement("div",{className:"browse_all_resources_modal_container--dockLeft--K-xtd",style:{width:y.gR}}),r.createElement(F.Provider,{value:K},r.createElement(M.vx,{ref:S,initialPosition:t||e,canResetPosition:i,initialWidth:y.gR,bounds:a,onEnterBound:()=>{w||s(!0)},onLeaveBound:()=>{s(!1)},onClose:x,onDragStart:()=>{h.VU.get("set-tool-default","toolbar")(),L(E.jy({pinned:N.t.PINNED}))},onDragEnd:()=>{k.current?.focus(),n&&m()},containerClassName:I.pinned===N.t.PINNED_AND_DOCKED_LEFT?"browse_all_resources_modal_container--modalContainerPinAnimation--mjZ0f browse_all_resources_modal_container--modalContainer--dG0DL":"browse_all_resources_modal_container--modalContainer--dG0DL",contentContainerClassName:"browse_all_resources_modal_container--modalContentContainer--I9Qp2",isFigJam:!0,disableDragging:u},r.createElement(b.fu,{name:"universal-insert"},r.createElement("div",{className:"browse_all_resources_modal_container--slidingPaneContainer--0TVUA sliding_pane--slidingPaneContainer--RQkXf",onClick:e=>{e.stopPropagation(),D&&L(g.oB())}},d))))):null},SearchBar:function({searchQuery:e,setSearchQuery:t,searchPlaceholder:a,showCloseButton:l,topBarStyle:o,shouldHideTabs:m,shouldOptimizeForIpadApp:g,onFocus:E}){let{onClose:b,searchBarRef:f,setPinned:h,headerContentRef:y,isTransitioning:v}=R(),N=(0,P.F)(),w=p.Gq()?.getPrimaryLocale(!1),T=r.useRef((0,x.DN)(w)),C=()=>{t(""),T.current=(0,x.DN)(w),f.current?.focus()};return r.createElement("div",{ref:y,key:"search-bar"},r.createElement("div",{className:o},r.createElement("div",{className:"browse_all_resources_modal_container--searchBarContainer--p9vKo","data-not-draggable":!0},r.createElement(d.IW,{focusOnMount:!g,selectTextOnMount:!g,className:"browse_all_resources_modal_container--searchBar--tEvms",query:e,placeholder:a||T.current,clearSearch:C,onChange:t,isKeyDownHandled:a=>a.keyCode===c.Uz.ESCAPE&&(e?t(""):b(),!0),hideXIcon:!0,ref:f,hasTransparentBackground:!0,onFocus:E,disabled:v,recordingKey:"browseAllResourcesModalSearchBar",iconClassName:u.s.colorIconSecondary.$}),e&&r.createElement(n.$n,{onClick:C,variant:"ghost","aria-label":(0,_.t)("whiteboard.inserts.clear_search")},(0,_.tx)("whiteboard.inserts.clear"))),N?r.createElement(A.O,{setPinned:h}):l?r.createElement(s.K,{onClick:b,"aria-label":(0,_.t)("general.close"),htmlAttributes:{"data-not-draggable":!0}},r.createElement(i.A,null)):null),!m&&r.createElement(L,null))},ScrollContainer:function({children:e,scrollContainerRef:t,type:a,currentTab:n,shouldShowTabView:s,toolbeltHeight:i}){let{mainContentHeight:o,shouldOptimizeForIpadApp:c,searchBarRef:d}=R(),u=(0,l.d4)(e=>e.universalInsertModal),_=O("main"),p=O("category"),g=O("detail");r.useEffect(()=>{if(!c){let e=document.activeElement;e?.hasAttribute("data-browse-modal-tab")||d.current?.focus()}},[n,c,d]);let E=null,b=null,f=s?x.kD:x.FL;switch(a){case"main":E=(0,x.mS)(u.pinned,o,f,i),b=_;break;case"category":E=(0,x.mS)(u.pinned,y.zo-x.HI,f,i),b=p;break;case"detail":E=(0,x.mS)(u.pinned,y.zo-x.SK,f,i),b=g}return r.createElement("div",{"data-not-draggable":!0},r.createElement(m.P,{key:n,height:E,width:y.gR,initialScrollTop:D[a],onScroll:b,scrollContainerRef:t},r.createElement("div",{className:"browse_all_resources_modal_container--scrollContainerPadding--U0TqO"},e)))},TabView:function({children:e,hasSlidingPaneStyle:t}){let{setIsTransitioning:a}=R();return r.createElement("div",{className:t?"browse_all_resources_modal_container--slidingPane--i5r6q sliding_pane--slidingPane--6OmDU":"browse_all_resources_modal_container--slidingPaneLeft--dryfT sliding_pane--slidingPaneLeft--Wrfdy sliding_pane--slidingPane--6OmDU",onTransitionEnd:()=>a(!1)},e)}}},846377:(e,t,a)=>{a.d(t,{b:()=>_});var r=a(411855),l=a(138225),n=a(22562),s=a(747484),i=a(693565),o=a(76265),c=a(58590),m=a(234780),d=a(931539),u=a(647173);function _(e){let{selectedCategory:t,goBack:a}=e,_=(0,c.LR)(),p=r.useCallback(()=>_(),[_]),g=(0,d.F)();return r.createElement("div",{className:"browse_explore_category_top_bar--topBar--VdcGk"},r.createElement("div",{className:"browse_explore_category_top_bar--left--XjCF8"},r.createElement(i.B,{svg:u.A,className:"browse_explore_category_top_bar--backButton--lqLK5",onClick:s.Ay.isIpad?void 0:a,onPointerDown:s.Ay.isIpad?a:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),r.createElement("div",{className:"browse_explore_category_top_bar--categoryNameContainer--b--X4"},r.createElement("div",{className:"browse_explore_category_top_bar--categoryName--wVRFs text--fontPos13--xW8hS text--_fontBase--QdLsd ellipsis--ellipsis--Tjyfa"},t.title))),r.createElement("div",{className:"browse_explore_category_top_bar--right--0SLBG"},e.extraContent,g?r.createElement(m.O,{setPinned:e.setPinned}):r.createElement(l.K,{onClick:p,"aria-label":(0,o.t)("general.close")},r.createElement(n.A,null))))}},534971:(e,t,a)=>{a.d(t,{K:()=>E});var r=a(411855),l=a(351966),n=a(629019),s=a.n(n),i=a(76265),o=a(582057),c=a(694630),m=a(492366),d=a(514849),u=a(288632),_=a(307487),p=a(181230),g=a(303084);function E(e){let t;let{shelves:a,isLoading:n}=(0,o.d)(e.shelfType),E=(0,d.cX)().setSelectedCategory,b=r.useMemo(()=>{let e={},t=new Set;return a.forEach(a=>{let r=[];for(let e of a.shelf_content)if(!t.has(e.id)&&(t.add(e.id),r.push(e),4===r.length))break;e[a.id]=r}),e},[a]);if(!a||0===a.length)return null;if(n)return r.createElement(_.L,null);let f=c.Rt.PLUGINS;return e.resourceType===m.bD.HUB_FILE?(t=g.sk,f=c.Rt.TEMPLATES):e.resourceType===m.bD.WIDGET?(t=g.xC,f=c.Rt.WIDGETS):t=void 0,r.createElement(r.Fragment,null,a.map(a=>{let n=b[a.id];return r.createElement(r.Fragment,{key:a.id},r.createElement(p.F,null),r.createElement(l.E,{className:s()(g.a0,{[g.xO]:e.resourceType===m.bD.PLUGIN}),onClick:()=>E({id:a.id,title:a.title,resourceType:f})},r.createElement("div",{className:g.bV},(0,i.Yd)(a.i18n_meta.title,a.title)),r.createElement("div",{className:g.jy},(0,i.tx)("whiteboard.inserts.see_all"))),r.createElement("div",{className:t},n&&n.map(t=>e.renderResource(t))))}),r.createElement(u.q,{resourceType:e.resourceType}))}},916297:(e,t,a)=>{a.d(t,{e:()=>u,_:()=>_});var r=a(411855),l=a(326612),n=a(841962),s=a(693565),i=a(76265),o=a(798361),c=a(492366);let m="browse_modal_empty_search_result--emptyStateText---rbwv ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",d="browse_modal_empty_search_result--emptyStateStrongText--fyWIi";function u(e){let{defaultDisplayStringResourceType:t,query:a,cta:l,orgNameIfAllowlistEnforced:n}=e;return r.createElement("div",{className:"browse_modal_empty_search_result--emptyState--XyC30 tiles_view--emptyState--jfzsE text--fontPos11--2LvXf text--_fontBase--QdLsd"},e.illustration&&r.createElement(s.B,{className:"browse_modal_empty_search_result--emptyStateIllustrations--M9hN-",svg:e.illustration,useOriginalSrcFills_DEPRECATED:!0}),r.createElement("div",{className:"browse_modal_empty_search_result--emptyStateTextWrapper--7z4U6"},n?r.createElement("span",{className:"browse_modal_empty_search_result--emptyStateText2Lines--xoqUp ellipsis--ellipsisAfter2Lines--Qo-Xh ellipsis--_ellipsisAfterNLines--LzI7k text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,i.tx)("whiteboard.inserts.couldn_t_find_resource_in_org_allowlist",{orgName:n,searchQuery:r.createElement("span",{className:d},a)})):r.createElement("span",{className:m},t?(0,i.tx)("whiteboard.inserts.couldn_t_find_default_display_string_resource_type_for",{resourceType:t,searchQuery:r.createElement("span",{className:d},a)}):(0,i.tx)("whiteboard.inserts.custom_display_string_search_result",{searchQuery:r.createElement("span",{className:d},a)}))),l&&r.createElement("div",null,l))}function _(e){let t=(0,o.BI)();if(t?.shouldOptimizeForIpadApp||(0,n.kc)().cmty_m10n_test_apple_os)return null;let a=e.resourceType&&e.resourceType===c.bD.HUB_FILE;return r.createElement("span",{className:m},a?(0,i.tx)("whiteboard.inserts.if_you_re_still_looking_there_s_much_more_to_see_in_the",{link:r.createElement(l.N,{href:e.url,newTab:!0},(0,i.tx)("whiteboard.inserts.if_you_re_still_looking_there_s_much_more_to_see_in_the_community"))}):r.createElement(l.N,{href:e.url,newTab:!0},(0,i.tx)("whiteboard.inserts.see_more_from_community")))}},288632:(e,t,a)=>{a.d(t,{q:()=>m});var r=a(411855),l=a(326612),n=a(492277),s=a(841962),i=a(76265),o=a(798361),c=a(492366);function m({resourceType:e}){let t=`/community/${e===c.bD.HUB_FILE?"figjam":e===c.bD.PLUGIN?"plugins/figjam":"widgets"}`,a=(0,o.Kx)();return a?.shouldOptimizeForIpadApp||(0,s.kc)().cmty_m10n_test_apple_os?null:r.createElement("span",{className:"browse_more_cta--communityLink--kpkNC text--fontPos13--xW8hS text--_fontBase--QdLsd"},r.createElement(n.U,{className:"browse_more_cta--icon--4IWf5"}),r.createElement(l.N,{href:t,newTab:!0},(0,i.tx)("whiteboard.inserts.browse_more_in_community")))}},181230:(e,t,a)=>{a.d(t,{F:()=>l});var r=a(411855);function l(){return r.createElement("div",{className:"browse_view_divider--browseViewDivider--bS7RU"})}},877394:(e,t,a)=>{a.d(t,{Wd:()=>f,VR:()=>E,ZA:()=>b,i8:()=>g});var r=a(411855);let l="loading_states--title--TC60j loading_states--greyBase--bbKGM",n="loading_states--firstTitle--QfkUE loading_states--title--TC60j loading_states--greyBase--bbKGM",s="loading_states--titleLighter--mwtNY loading_states--title--TC60j loading_states--greyBase--bbKGM",i="loading_states--titleLightest--BQ32t loading_states--title--TC60j loading_states--greyBase--bbKGM",o="loading_states--largeCard--XHghX",c="loading_states--container--YyIRL",m="loading_states--largeCardAndTextContainer--J-GCt",d="loading_states--titleAndDescriptionContainer--Lopl5",u="loading_states--sticker--4XK0K loading_states--greyBase--bbKGM",_="loading_states--pluginTile--ONKW2",p="loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM";function g(){return r.createElement(r.Fragment,null,r.createElement("div",{className:n}),r.createElement("div",{className:c},r.createElement(y,{shouldFade:!1}),r.createElement(y,{shouldFade:!1}),r.createElement(y,{shouldFade:!0})))}function E(){return r.createElement(r.Fragment,null,r.createElement("div",{className:n}),r.createElement("div",{className:"loading_states--pluginTileContainer--JRZGS"},r.createElement("div",{className:_},r.createElement("div",{className:p}),r.createElement(N,null)),r.createElement("div",{className:_},r.createElement("div",{className:p}),r.createElement(N,null)),r.createElement("div",{className:_},r.createElement("div",{className:p}),r.createElement(N,null)),r.createElement("div",{className:_},r.createElement("div",{className:"loading_states--pluginIconLighter--k7tqf loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM"}),r.createElement(N,null)),r.createElement("div",{className:_},r.createElement("div",{className:"loading_states--pluginIconLightest--axJAz loading_states--pluginIcon--Tx1hy loading_states--greyBase--bbKGM"}),r.createElement(w,null))))}function b(){return r.createElement(r.Fragment,null,r.createElement("div",{className:n}),r.createElement(h,null),r.createElement("div",{className:"loading_states--stickerTitle--YEosJ loading_states--firstTitle--QfkUE loading_states--title--TC60j loading_states--greyBase--bbKGM"}),r.createElement("div",{className:c},r.createElement(y,{shouldFade:!0})))}function f(){return r.createElement("div",{className:"loading_states--flexContainer--t0XH4"},r.createElement(v,null),r.createElement(h,null),r.createElement("div",{className:"loading_states--divider--MY-EG"}),r.createElement(v,null),r.createElement("div",{className:c},r.createElement(y,{shouldFade:!0})))}function h(){return r.createElement("div",{className:"loading_states--stickerGrid--Wv-o1"},r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}),r.createElement("div",{className:u}))}function y(e){return r.createElement("div",{className:"loading_states--rowContainer--oHoUG"},r.createElement("div",{className:m},r.createElement("div",{className:e.shouldFade?"loading_states--largeCardLighter--67tCH loading_states--largeCard--XHghX":o}),r.createElement("div",{className:e.shouldFade?s:l})),r.createElement("div",{className:m},r.createElement("div",{className:e.shouldFade?"loading_states--largeCardLightest--P-6Nd loading_states--largeCard--XHghX":o}),r.createElement("div",{className:e.shouldFade?i:l})))}function v(){return r.createElement("div",{className:"loading_states--titleAndDescriptionContainerWithMargin--sUBNg loading_states--titleAndDescriptionContainer--Lopl5"},r.createElement("div",{className:l}),r.createElement("div",{className:"loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}function N(){return r.createElement("div",{className:d},r.createElement("div",{className:s}),r.createElement("div",{className:"loading_states--descriptionLighter--on5VU loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}function w(){return r.createElement("div",{className:d},r.createElement("div",{className:i}),r.createElement("div",{className:"loading_states--descriptionLightest--7XQdm loading_states--description--dilCZ loading_states--title--TC60j loading_states--greyBase--bbKGM"}))}},165008:(e,t,a)=>{a.d(t,{OS:()=>T,he:()=>L,lU:()=>N});var r=a(411855),l=a(188507),n=a(846288),s=a(841962),i=a(918091),o=a(76265),c=a(650981),m=a(910164),d=a(47795),u=a(73041),_=a(125682),p=a(841924),g=a(694630),E=a(553920),b=a(605369),f=a(514849),h=a(482868),y=a(30057),v=a(451479);function N(e){return r.createElement("div",{className:Object.keys(e.items).length>5?v.kL:v.xl},Object.keys(e.items).sort().map(t=>r.createElement(T,{items:e.items[t],layoutOverride:e.layoutOverride,key:t,showContextMenu:e.showContextMenu})))}let w=(0,c.fv)();function T(e){let{height:t,width:a,gridClassName:n}=C(e.layoutOverride||(0,E.PI)(e.items)),s=(0,h.b)(),i=(0,f.cX)().tabManager,o=(0,y.sO)(),c=(0,u.ow)(),m=(0,l.wA)(),_=o?g.Du:(0,g.Vq)(i.activeTab);return r.createElement("div",{className:`${n} ${v.ts}`},e.items.map((l,n)=>r.createElement(b.lX,{key:n,item:l,height:t,width:a,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:c,noBackground:!o,isSlides:o,isSearch:!1,itemPadding:8,draggable:{sourceForTracking:_,afterSuccessfulInsert:s},buttonProps:{onContextMenu:t=>{e.showContextMenu&&(t.preventDefault(),m(d.j7({type:I,data:{fileKey:w(l),position:{top:t.clientY,left:t.clientX}}})))},clickToInsert:!0}})),r.createElement(L,null))}let C=e=>{switch(e){case E.rp.SMALL:return{height:60,width:60,gridClassName:v.Do};case E.rp.NORMAL:return{height:73,width:73,gridClassName:v.pr};case E.rp.WIDE:return{width:432,gridClassName:v.R5};default:(0,n.xb)(e)}},S=i.ms,k=i.c$,I="FIGJAM_LIBRARY_ITEM_DROPDOWN_KEY";function L(){let e=(0,_.Um)(),t=p.M4.File.useValue(e?.data?.fileKey).data,a=(0,f.cX)().setSelectedCategory,n=(0,l.wA)();if(e?.type!==I||!t)return null;let i=(0,s.kc)().dse_lk_figjam_default_libs?t.library_key:e.data.fileKey;return r.createElement(S,{style:m.sx.add(e?.data?.position).add(m.sx.fixed).$},r.createElement(k,{onClick:()=>{n(d.oB()),a({id:i,title:t.name,resourceType:g.Rt.STICKERS_AND_COMPONENTS})}},(0,o.tx)("whiteboard.inserts.view_stickers_in_this_set")))}},672089:(e,t,a)=>{a.d(t,{zz:()=>et,FN:()=>$,uU:()=>ee,M8:()=>el});var r=a(411855),l=a(188507),n=a(834825),s=a(33011),i=a(32050),o=a(108982),c=a(841962),m=a(972142),d=a(693565),u=a(265851),_=a(76265),p=a(303433),g=a(788843),E=a(140835),b=a(69664),f=a(568116),h=a(176160),y=a(285024),v=a(354465),N=a(77383),w=a(694630),T=a(567095),C=a(135891),S=a(553920),k=a(583044),I=a(767731),L=a(811257),x=a(916297),A=a(514849),P=a(877394),M=a(846288),F=a(629019),R=a.n(F),D=a(875877),O=a(207849),K=a(73041),B=a(387583),j=a(841924),U=a(605369),G=a(482868),W=a(30057);function H(e){let t=(0,c.kc)().dse_lk_figjam_default_libs,a=(0,D.md)(B.qp),l=t&&e.libraryKey?a[e.libraryKey]?.name:void 0,n=j.M4.File.useValue(e.fileKey).data?.name,s=e.title??(t?l:n)??"",i=()=>e.onClick(s),o=(0,S.PI)(e.items),m=X(o),{height:d,width:u}=m,_=o===S.rp.WIDE?2:8,p=(0,G.b)(),g=(0,W.sO)(),E=(0,O.g)(),b=(0,K.ow)();return r.createElement("div",{className:"library_items_compact_view--librariesTwoColumnsItemPadding--Wl9Nv"},r.createElement("button",{onClick:i,className:R()(m.gridClassName,g||E?"library_items_compact_view--slidesLibraryItemsContainer--1yske":null)},e.items.slice(0,_).map((e,t)=>r.createElement(U.lX,{key:t,item:e,height:d,width:u,showName:!1,shouldHideDescription:!0,shouldShowShadowOnHover:!0,isFigJam:b,isSlides:g,isCooper:E,noBackground:!0,isSearch:!1,buttonProps:{onItemClick:i},draggable:{sourceForTracking:"universal-insert-figjam-stickers-compact-view",afterSuccessfulInsert:p}}))),r.createElement("button",{onClick:i,className:"library_items_compact_view--libraryTitle--wIVmD ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd"},s))}let X=e=>{switch(e){case S.rp.SMALL:case S.rp.NORMAL:return{height:40,width:40,gridClassName:"library_items_compact_view--browseLibraryItemsContainer--pNmFL"};case S.rp.WIDE:return{width:184,height:40,gridClassName:"library_items_compact_view--wideGrid--XbpRp library_items_compact_view--browseLibraryItemsContainer--pNmFL"};default:(0,M.xb)(e)}};var z=a(392902),Q=a(165008);let q="libraries_tab--sectionTitle--PDAa- ellipsis--ellipsis--Tjyfa text--fontPos13--xW8hS text--_fontBase--QdLsd",V="libraries_tab--libraryPadding--Dwvws";var J=a(236705),Y=a(501191);function $({query:e,recentlyUsedItemsKey:t=T.$A.FigJam,hideRecentsIfEmpty:a,showLocalComponents:n=!1,children:M}){let F=(0,h.q5)(),{fileVersion:R,loadingState:D,library:O}=(0,o.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState,library:e.library})),{assetsPanelSearch:K}=O,{productComponents:B}=(0,f.g5)(t),j=(0,A.ik)(B,"components",(e,t)=>!t.some(t=>t.id===e.id),10),U=(0,v.oh)(g.fi),G=(0,A.mk)(j,[!U,(0,v.mC)(p.fC)]),W=G.length>0||!a,X=(0,A.cX)().setSelectedCategory,$=!F||!R||!(0,v.D2)(D,(0,I.yD)(F.key)),Z=(0,A.hY)(),{onToggleLibraryModal:ee}=(0,b.u)({entrypoint:k.r6.FIGJAM_BROWSE,modalType:"figjam"}),et=r.useMemo(()=>(0,y.Ow)(K.normalizedSearchResults),[K.normalizedSearchResults]),ea=(0,l.d4)(N.MH),el=(0,i.k9)(()=>Object.values(ea),[ea]);return K.query&&e?K.isLoading?r.createElement(P.ZA,null):r.createElement(E.fu,{name:"stickers",properties:{query:e,resourceType:L.p.STICKERS_AND_COMPONENTS}},0===et.length?r.createElement(x.e,{illustration:J.A,defaultDisplayStringResourceType:"stickers or components",query:e}):r.createElement("div",{className:V},r.createElement(Q.lU,{items:{"":et},showContextMenu:!0,layoutOverride:K.query?S.rp.NORMAL:void 0}))):r.createElement(E.fu,{name:"stickers"},!$&&!K.query&&r.createElement(z.W,{dismissable:!0,buttonText:"Update",formatBannerText:e=>`${e} component ${(0,m.LD)(e,"update")}`}),M,($||U)&&r.createElement(P.ZA,null),W&&r.createElement(r.Fragment,null,r.createElement("div",{className:q},(0,_.tx)("whiteboard.inserts.recents")),r.createElement(Q.lU,{items:{"":G},showContextMenu:!0,layoutOverride:S.rp.NORMAL})),r.createElement("div",{className:q},(0,_.tx)("whiteboard.inserts.libraries")),r.createElement("div",{className:"libraries_tab--librariesTwoColumns--dSOU-"},(!K.query||!e)&&(0,c.Ay)().user_data&&r.createElement("div",{className:"libraries_tab--librariesTwoColumnsItemPadding--YeBjB"},r.createElement("button",{className:"libraries_tab--toggleLibraryModalContainer--lup1l text--fontPos13--xW8hS text--_fontBase--QdLsd",onClick:ee,"data-onboarding-key":C.D},r.createElement(d.B,{className:u.s.colorIcon.$,svg:Y.A}),r.createElement("span",{className:u.s.colorText.$},(0,_.tx)("whiteboard.inserts.add_your_own")))),n&&F&&el.length?r.createElement(H,{key:F.libraryKey,fileKey:F.libraryKey,libraryKey:(0,s.l)(F.libraryKey),items:el,title:(0,_.t)("design_systems.assets_panel.local_components"),onClick:e=>{X({id:F.libraryKey,title:e,resourceType:w.Rt.STICKERS_AND_COMPONENTS})}}):null,!(0,c.kc)().dse_lk_figjam_default_libs&&Object.keys(Z.fileKeyData.fileKeyToSubscribedItems).map(e=>r.createElement(H,{key:e,fileKey:e,items:er(Z.fileKeyData.fileKeyToSubscribedItems[e]),onClick:t=>{X({id:e,title:t,resourceType:w.Rt.STICKERS_AND_COMPONENTS})}})),(0,c.kc)().dse_lk_figjam_default_libs&&Object.keys(Z.libraryKeyData.libraryKeyToSubscribedItems).map(e=>r.createElement(H,{key:e,libraryKey:(0,s.l)(e),items:er(Z.libraryKeyData.libraryKeyToSubscribedItems[(0,s.l)(e)]),onClick:t=>{X({id:e,title:t,resourceType:w.Rt.STICKERS_AND_COMPONENTS})}}))))}function Z(){let e=(0,l.d4)(N.MH),t=(0,h.q5)();return r.createElement(E.fu,{name:"detail",properties:{resourceId:t?.libraryKey,resourceType:L.p.STICKERS_AND_COMPONENTS}},r.createElement("div",{className:V},r.createElement(Q.lU,{items:ea(Object.values(e)),showContextMenu:!1})))}function ee(e){let t=(0,A.hY)(),a=(0,h.q5)(),l=(0,c.kc)().dse_lk_figjam_default_libs?t.libraryKeyData.libraryKeyToSubscribedItems[(0,s.l)(e.selectedLibrary.id)]:t.fileKeyData.fileKeyToSubscribedItems[e.selectedLibrary.id];return a&&e.selectedLibrary.id===a.libraryKey?r.createElement(Z,null):l?r.createElement(E.fu,{name:"detail",properties:{resourceId:e.selectedLibrary.id,resourceType:L.p.STICKERS_AND_COMPONENTS}},r.createElement("div",{className:V},r.createElement(Q.lU,{items:ea(l),showContextMenu:!1,layoutOverride:e.layoutOverride}))):null}function et(){let e=(0,l.wA)(),t=(0,h.q5)(),{fileVersion:a,loadingState:n}=(0,o.R)(e=>({fileVersion:e.fileVersion,loadingState:e.loadingState})),s=t&&a&&(0,v.Sc)(n,(0,I.yD)(t.key));r.useEffect(()=>{s&&e((0,g.zK)())},[e,s]);let{productComponents:i}=(0,f.g5)(T.$A.FigJam),c=(0,A.ik)(i,"components",(e,t)=>!t.some(t=>t.id===e.id),10),m=(0,A.mk)(c,[(0,v.mC)(g.fi),(0,v.mC)(p.fC)]);return r.createElement(Q.lU,{items:{"":m},showContextMenu:!0,layoutOverride:S.rp.NORMAL})}function ea(e){let t={};return(0,n.KQ)(e,"name",{useExpensiveNaturalComparison:e.length<n.Tw}),e.forEach(e=>{let a=e.containing_frame?.name||"";t[a]||(t[a]=[]),t[a].push(e)}),t}function er(e){let t=[],a=ea(e);return Object.keys(a).sort().forEach(e=>{t.push(...a[e])}),t}function el(e){return{"":e}}},546749:(e,t,a)=>{a.d(t,{EP:()=>K,_b:()=>F,$t:()=>A,H_:()=>x,Jd:()=>O});var r=a(411855),l=a(138225),n=a(22562),s=a(629019),i=a.n(s),o=a(395096),c=a(747484),m=a(563192),d=a(14489),u=a(693565),_=a(76265),p=a(359252),g=a(58590),E=a(694630),b=a(234780),f=a(108293),h=a(916297),y=a(514849),v=a(137370),N=a(931539),w=a(604938),T=a(345049),C=a(575207);let S="face_stamps--contentRow--hiGYK",k="face_stamps--sectionHeader--mWSOw text--fontPos13--xW8hS text--_fontBase--QdLsd";var I=a(647173),L=a(428829);function x(){let e=(0,w.d0)(),{setPreviewResource:t}=(0,y.cX)();return e?r.createElement(T.t,{text:(0,_.t)("whiteboard.inserts.faces_title"),description:(0,_.t)("whiteboard.inserts.faces_description"),onClick:()=>t({id:"FACE_STAMPS",type:E.Rt.ORG_FACE_STAMPS}),iconComponent:(0,f.bE)(),recordingKey:m.Pt("inserts","more","facestamps"),rightCaret:!0}):null}function A(e){let{onBack:t,queryFromAllSearch:a}=e,[l,n]=r.useState(!1),{faceStampServerSideSearch:s,faceStampSearchIsLoading:i,faceStampSearchHasResolved:c}=(0,p.A)({maxResults:20}),[m,u]=r.useState(""),[g]=(0,o.A)(m,200);r.useEffect(()=>{a&&!l?(s(a),u(a),n(!0)):s(g)},[s,a,g,l]);let E=i||!c,b=r.useCallback(e=>"Escape"===e.key&&(g?u(""):t(),!0),[g,t]),f=(0,w.d2)(g),y=Math.min(f.length,M),v=(0,w.U5)(g);return r.createElement(r.Fragment,null,r.createElement(d.IW,{focusOnMount:!1,selectTextOnMount:!0,className:"face_stamps--searchBar--vDblE",query:g,placeholder:(0,_.t)("whiteboard.inserts.faces_search_placeholder"),clearSearch:()=>u(""),onChange:u,isKeyDownHandled:b,hideXIcon:!g}),r.createElement("div",{className:"face_stamps--contentContainer--0-n3a"},E?r.createElement(r.Fragment,null,r.createElement(F,{rows:1,showHeader:!g}),!g&&r.createElement(F,{rows:2,showHeader:!0})):g?v.length>0?r.createElement(O,{maxRows:4,isLoading:E,users:v}):r.createElement(h.e,{illustration:L.A,query:g}):r.createElement(r.Fragment,null,r.createElement(O,{maxRows:1,title:(0,_.t)("whiteboard.inserts.recents_header"),users:v.slice(0,y)}),r.createElement(O,{maxRows:f.length>0?2:3,isLoading:E,title:(0,_.t)("whiteboard.inserts.suggested_header"),users:v.slice(y)}))))}function P({children:e}){return r.createElement("div",{className:k},e)}let M=5;function F({rows:e=1,showHeader:t=!0}){let a=e*M,l=[];for(let e=0;e<a;e++)l.push(r.createElement(D,{key:e}));return r.createElement(r.Fragment,null,t&&r.createElement(R,null),r.createElement("div",{className:i()(S,"face_stamps--skeletonRow--AqMaG")},...l))}function R(){return r.createElement("div",{className:i()(k,"face_stamps--skeletonHeader--dh0WB face_stamps--sectionHeader--mWSOw text--fontPos13--xW8hS text--_fontBase--QdLsd")})}function D(){return r.createElement("div",{className:"face_stamps--skeletonFaceStampContainer--6nweY"},r.createElement("div",{className:"face_stamps--skeletonFaceStamp--J8vAD"}),r.createElement("div",{className:"face_stamps--skeletonFaceStampLabel---4KQM"}))}function O({users:e,title:t,isLoading:a,maxRows:l}){let{tabManager:n,searchQuery:s}=(0,y.cX)(),i=(0,E.Vq)(n.activeTab);return 0===e.length&&!0!==a?null:r.createElement(r.Fragment,null,t&&r.createElement(P,null,t),r.createElement("div",{className:S},a?r.createElement(v.Q,null):e.slice(0,l*M).map(e=>r.createElement(v.I,{key:e.id,user:e,searchQuery:s,triggeredFrom:i}))))}function K({onBack:e,setPinned:t,queryFromAllSearch:a}){let s=(0,g.LR)(),i=r.useCallback(()=>s(!1),[s]),{faceStampServerSideSearch:o}=(0,p.A)({maxResults:20}),m=()=>{""!==a&&o(a),e()},d=(0,N.F)();return r.createElement("div",{className:C.XV},r.createElement("div",{className:C.kb},r.createElement(u.B,{svg:I.A,className:C.Gv,onClick:c.Ay.isIpad?void 0:m,onPointerDown:c.Ay.isIpad?m:void 0,"data-not-draggable":!0,"data-does-not-dismiss-modal":!0}),r.createElement("div",{className:"face_stamps--titleContainer--0IWlF"},r.createElement("span",{className:"face_stamps--titlePrimary--J3DrZ text--fontPos13--xW8hS text--_fontBase--QdLsd"},(0,_.tx)("whiteboard.inserts.faces_title")),r.createElement("span",{className:"face_stamps--titleSecondary--95nwF text--fontPos11--2LvXf text--_fontBase--QdLsd"},(0,_.tx)("whiteboard.inserts.faces_description")))),r.createElement("div",{className:C.pG},d?r.createElement(b.O,{setPinned:t}):r.createElement(l.K,{onClick:i,"aria-label":(0,_.t)("general.close")},r.createElement(n.A,null))))}},199501:(e,t,a)=>{a.d(t,{N:()=>v,S:()=>y});var r=a(411855),l=a(746643),n=a(265851),s=a(328099),i=a(522917),o=a(762010),c=a(131022),m=a(178380),d=a(662750),u=a(855613),_=a(223309),p=a(482868),g=a(380138),E=a(3483),b=a(678775),f=a(185552),h=a(563654);function y(e){let{imageUrl:t,clientMeta:a,thumbnailIsSet:n,isWhiteboard:y,name:v,hubFileId:N,publishers:w,resizedThumbnailUrls:T}=(0,s.fG)()(e.template),C=(0,p.b)(),{dragState:S,onInsertableResourcePointerDown:k}=(0,c.B)({resource:e.template,clickToInsert_DEPRECATED:!0,afterSuccessfulInsert:C,triggeredFrom:e.triggeredFrom}),I=(0,E.jq)(e.template);return r.createElement(r.Fragment,null,r.createElement(u.sU,{image:r.createElement("div",{onPointerDown:k,className:S?f.J:void 0},r.createElement(u.WM,{backgroundColor:(0,i.Cn)(a)},r.createElement(u.Wh.Cover,null,r.createElement("div",{className:h.n_})),r.createElement(u.Wh.Center,null,r.createElement(_.i,{insertTemplate:l.lQ,isInsertingTemplate:e.isInsertingTemplate,shouldUseOpaqueBackground:!0},(0,m.Ve)(e.templateInsertionLocation))),r.createElement(b.Ho,{image:t,isSet:n,isWhiteboard:y,hubFileId:N,alt:v,resizedThumbnailUrls:T}))),bottomRow:r.createElement(u.dY.FigJamMetadata,{name:v,onClick:e.onClickTitle,publishers:w,showUserAvatar:e.template.type===d.n.TeamTemplate}),onContextMenu:I}),r.createElement(o.S,{dragState:S}),r.createElement(g.mS,{template:e.template}))}function v(){return r.createElement(u.sU,{className:n.s.invisible.$,image:r.createElement("div",null,r.createElement(u.WM,null,r.createElement(b.Ho,{image:void 0,isSet:!1,isWhiteboard:!0,hubFileId:void 0,alt:""}))),bottomRow:r.createElement(u.dY.FigJamMetadata,{name:"\xa0",onClick:l.lQ,publishers:[]})})}y.displayName="TemplatesHubFileTile",v.displayName="BrowseTemplatesFileTilePlaceholder"},431494:(e,t,a)=>{a.d(t,{g:()=>d});var r=a(411855),l=a(117736),n=a(328099),s=a(662750),i=a(694630),o=a(514849),c=a(199501),m=a(563654);function d(e){let{isInsertingTemplate:t}=(0,l.Fz)(),{tabManager:a,setPreviewResource:d}=(0,o.cX)(),u=(0,i.Vq)(a.activeTab),_=(0,n.fG)();return r.createElement("div",{className:m.sk},e.templates.length?e.templates.map(a=>{let{primaryKey:l}=_(a);return r.createElement(c.S,{template:a,key:l,templateInsertionLocation:e.templateInsertionLocation,triggeredFrom:u,isInsertingTemplate:t(l),onClickTitle:a.type===s.n.HubFile?()=>{d({id:a.template.id,type:i.Rt.TEMPLATES})}:void 0})}):r.createElement(c.N,null))}d.displayName="BrowseTemplatesGrid"},893704:(e,t,a)=>{a.d(t,{J:()=>C,e:()=>T});var r=a(411855),l=a(730676),n=a(140835),s=a(117736),i=a(178380),o=a(354465),c=a(662750),m=a(694630),d=a(492366),u=a(567095),_=a(523848),p=a(534971),g=a(877394),E=a(199501),b=a(76265),f=a(45362),h=a(514849),y=a(431494),v=a(303084);function N(){let e=(0,f.Gi)(),{teamTemplates:t,isLoading:a}=(0,f.wv)(),{setSelectedCategory:l}=(0,h.cX)();return e?a?r.createElement(g.i8,null):t?.length?r.createElement(r.Fragment,null,r.createElement("button",{className:v.a0,onClick:()=>{l({id:e?.type==="team"?e.entity.id:"",title:(0,b.t)("whiteboard.inserts.org_name_templates",{orgName:e.name}),resourceType:m.Rt.TEAM_TEMPLATES})}},r.createElement("div",{className:v.bV},(0,b.tx)("whiteboard.inserts.org_name_templates",{orgName:e.name})),r.createElement("div",{className:v.jy},(0,b.tx)("whiteboard.inserts.see_all"))),r.createElement(y.g,{templates:t,templateInsertionLocation:i.RD.CURRENT_FILE})):null:null}function w(){let e=(0,s.eE)(u.$A.FigJam).slice(0,4),t=(0,h.mk)(e,[(0,o.mC)(_.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:u.$A.FigJam}))]);return r.createElement(r.Fragment,null,t.length>0?r.createElement(r.Fragment,null,r.createElement("div",{className:v.a0},r.createElement("div",{className:v.bV},(0,b.tx)("whiteboard.inserts.recents"))),r.createElement(y.g,{templates:t,templateInsertionLocation:i.RD.CURRENT_FILE})):r.createElement(r.Fragment,null))}let T="_search";function C(e){let{isInsertingTemplate:t}=(0,s.Fz)(),a=r.useRef(null),b=(0,o.oh)(l.sz.loadingKeyForPayload({shelfType:d.cS.FIGJAM_TEMPLATES_PICKER})),f=(0,o.oh)(_.cd.fetchTemplatesMetadata.loadingKeyForPayload({key:u.$A.FigJam}));return b||f?r.createElement(g.i8,null):r.createElement("div",{ref:a},r.createElement(n.fu,{name:"templates"},r.createElement(w,null),r.createElement(N,null),r.createElement(p.K,{resourceType:d.bD.HUB_FILE,shelfType:d.cS.FIGJAM_TEMPLATES_PICKER,renderResource:a=>r.createElement(E.S,{template:{template:a,type:c.n.HubFile},key:a.id,templateInsertionLocation:i.RD.CURRENT_FILE,triggeredFrom:"universal-insert-figjam-templates",isInsertingTemplate:t(a.id),onClickTitle:()=>e.setPreviewHubFile({id:a.id,type:m.Rt.TEMPLATES})})})))}C.displayName="BrowseTemplatesTab"},150741:(e,t,a)=>{let r;a.d(t,{Ib:()=>K,Rz:()=>O});var l=a(411855),n=a(188507),s=a(395096),i=a(277154),o=a(108982),c=a(841962),m=a(709701),d=a(888807),u=a(648735),_=a(45362),p=a(117736),g=a(359252),E=a(968525),b=a(176160),f=a(178380),h=a(314540),y=a(484930),v=a(694630),N=a(492366),w=a(811257),T=a(411216),C=a(893704),S=a(594259),k=a(514849),I=a(546749),L=a(604938);let x=new y.Ef([],{keys:["name"]}),A=new y.Ef([],E.Ih),P=new y.Ef([],E.Ih),M=new y.Ef([],{threshold:.1,matchAllTokens:!0,tokenize:!1,distance:300,keys:[{name:"name",weight:1},{name:"tags",weight:.5}]}),F=["upload","media","file","gif","jpeg","jpg","png","mov","mp4","movie","video","webm"],R=e=>[{name:"Code block",tags:["snippet","syntax","highlight","program","`"],component:T.j6},{name:"Timer",tags:["countdown","stopwatch","pomodoro","start","hourglass","clock"],component:T.m_},{name:"Images",tags:F,component:T.G0},{name:"Links",tags:["media","across","web","url","site","embed"],component:T.fQ},...e?[{name:"Faces",tags:["face","stamps","team"],component:I.H_}]:[],{name:"Table",tags:["table","chart","spreadsheet","list","figure","diagram","grid","worksheet","database"],component:T.vh},{name:"Mind map",tags:["mindmap","mind","map","diagram","brainstorm"],component:T.l7}],D="";function O(){let[e,t]=l.useState(D),a=(0,n.d4)(e=>e.universalInsertModal),[s,i]=l.useState(a.previewResource);return l.useEffect(()=>{r?.type===v.Rt.ORG_FACE_STAMPS&&i({id:"FACE_STAMPS",type:v.Rt.ORG_FACE_STAMPS})},[]),l.useEffect(()=>{D=e,r=s},[s,e]),{searchQuery:e,setSearchQuery:t,previewResource:s,setPreviewResource:i}}function K(){let{tabManager:e,searchQuery:t}=(0,k.cX)(),[a]=(0,s.A)(t,200),r=(0,S.F5)(),E=(0,n.wA)(),y=(0,b.tS)(),{shelves:v,hubFiles:T}=(0,o.R)(e=>({shelves:e.communityHub.shelves[N.cS.FIGJAM_TEMPLATES_PICKER],hubFiles:e.hubFiles,initialTab:e.universalInsertModal.initialTab})),I=l.useMemo(()=>(v||[]).reduce((e,t)=>({...e,[t.title]:t.shelf_content.map(e=>e.id)}),{}),[v]),F=c.Ay().user_data?.id,D=(0,u.yQ)(),O=(0,u.nl)(),{pluginServerSideSearch:K,pluginSearchIsLoading:B,pluginSearchHasResolved:j,setLastPluginSearchQuery:U,lastPluginSearchQuery:G}=(0,u.I5)(m.k.Editors.FIGJAM),{widgetServerSideSearch:W,widgetSearchIsLoading:H,widgetSearchHasResolved:X,setLastWidgetSearchQuery:z,lastWidgetSearchQuery:Q}=(0,u.SG)(m.k.Editors.FIGJAM),q=(0,L.d0)(),V=(0,_.tS)(),{templates:J,total:Y,requestLoadMore:$,isLoading:Z}=(0,p.Ou)(a,V,h._Y.WHITEBOARD),{faceStampServerSideSearch:ee,faceStampSearchIsLoading:et,faceStampSearchHasResolved:ea,lastFaceStampSearchQuery:er,setLastFaceStampSearchQuery:el}=(0,g.A)({maxResults:20}),[en,es]=l.useState({[C.e]:[]}),[ei,eo]=l.useState([]),[ec,em]=l.useState([]),[ed,eu]=l.useState([]),[e_,ep]=l.useState([]),[eg,eE]=l.useState([]),[eb,ef]=l.useState([]),[eh,ey]=l.useState([]),[ev,eN]=l.useState([]),[ew,eT]=l.useState([]);return l.useEffect(()=>{let e=Object.keys(I).reduce((e,t)=>[...e,...I[t]],[]).map(e=>(0,f.a6)(T[e]));x.set(e)},[I,T]),l.useEffect(()=>{A.set(Object.values(O))},[O,E]),l.useEffect(()=>{P.set(Object.values(D))},[D,E]),l.useEffect(()=>{M.set(R(q))},[q]),l.useEffect(()=>{let t;let l=e.activeTab;(l===w.p.TEMPLATES||l===w.p.ALL)&&(""===a.trim()?es({[C.e]:[]}):(t=[...new Set(t=x.search(a).map(e=>e.hub_file_id))],es({[C.e]:t}))),(l===w.p.ALL||l===w.p.MORE)&&(""===a.trim()?el(null):ee(a)),(l===w.p.PLUGINS||l===w.p.ALL)&&(""===a.trim()?(em([]),eE([]),eu([]),ep([]),U(null)):(eE(A.search(a).map(e=>e.localFileId)),K(a,eu,ep,em))),(l===w.p.WIDGETS||l===w.p.ALL)&&(""===a.trim()?(ef([]),eT([]),ey([]),eN([]),z(null)):(eT(P.search(a).map(e=>e.localFileId)),W(a,ey,eN,ef))),(l===w.p.STICKERS_AND_COMPONENTS||l===w.p.ALL)&&E(d.ku({query:a,entryPoint:"figjam_tool_bar"})),(l===w.p.MORE||l===w.p.ALL)&&eo(M.search(a).map(e=>e.component)),(0,i.sx)("search_query_result",{query:a,selectedTab:l,entry_point:"figjam",scope:"figjam inserts modal",context:"search",...r,files:0,hub_files:0,projects:0,teams:0,users:0})},[a,F,y,e.activeTab]),{searchTemplatesResult:en,moreResult:ei,pluginSavedSearchResultIds:ec,pluginCommunitySearchResultIds:ed,pluginOrgSearchResultIds:e_,pluginDevelopmentSearchResultIds:eg,pluginSearchIsLoading:B||t!==a,pluginSearchHasResolved:j,widgetSavedSearchResultIds:eb,widgetCommunitySearchResultIds:eh,widgetOrgSearchResultIds:ev,widgetDevelopmentSearchResultIds:ew,widgetSearchIsLoading:H||t!==a,widgetSearchHasResolved:X,faceStampSearchIsLoading:et||t!==a,faceStampSearchHasResolved:ea,debouncedSearchQuery:a,lastPluginSearchQuery:G,lastWidgetSearchQuery:Q,lastFaceStampSearchQuery:er,teamTemplatesFromSearch:J,totalNumTeamTemplatesFromSearch:Y,teamTemplatesFromSearchIsLoading:Z,requestLoadMoreTeamTemplatesFromSearch:$}}},277403:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(411855),l=a(320174),n=a(906112),s=a(922070);function i({maxDepth:e}){let[t]=(0,n.DF)();return(0,r.useEffect)(()=>t.registerCommand(s.Pi,()=>!function(e){let t=(0,s.vJ)();if(!(0,s.I2)(t))return!1;let a=function(e){let t=e.getNodes();return new Set(0===t.length?[e.anchor.getNode().getParentOrThrow(),e.focus.getNode().getParentOrThrow()]:t.map(e=>(0,s.ff)(e)?e:e.getParentOrThrow()))}(t),r=0;for(let e of a)if((0,l.HY)(e))r=Math.max((0,l.g2)(e)+1,r);else{if(!(0,l.Mz)(e))return!1;let t=e.getParent();if(!(0,l.HY)(t))throw Error("LimitIndentLevelPlugin: A ListItemNode must have a ListNode for a parent.");r=Math.max((0,l.g2)(t)+1,r)}return r<=e}(e??7),s.d),[t,e]),null}},354909:(e,t,a)=>{a.d(t,{D:()=>u,N:()=>d});var r=a(411855),l=a(188507),n=a(366172),s=a(688656),i=a(575561),o=a(88220),c=a(426906);let m=["semi-bold","semi bold","bold","extra-bold","extra bold","black"];function d(e){return m.some(t=>e.toLowerCase().startsWith(t))}function u(){let e=(0,l.d4)(e=>d(e.mirror.selectionProperties.fontStyle?.toString()||"")),t=(0,l.d4)(e=>"STRIKETHROUGH"===e.mirror.selectionProperties.whiteboardTextDecoration);return r.createElement(r.Fragment,null,r.createElement(i.K0,{svg:o.A,tooltip:"toggle-bold",tooltipType:s.Ib.LOOKUP,active:e?"LOUD":void 0,onClick:()=>n.Y5.triggerActionInUserEditScope("toggle-bold"),recordingKey:"bold",role:"switch",blurOnClick:!0}),r.createElement(i.K0,{svg:c.A,tooltip:"text-toggle-strikethrough",tooltipType:s.Ib.LOOKUP,active:t?"LOUD":void 0,onClick:()=>n.Y5.triggerActionInUserEditScope("text-toggle-strikethrough"),recordingKey:"strikethrough",role:"switch",blurOnClick:!0}))}},163948:(e,t,a)=>{a.d(t,{m:()=>i});var r=a(906112),l=a(984611),n=a(922070),s=a(411855);function i(){let[e]=(0,r.DF)();return(0,s.useEffect)(()=>e.registerCommand(n.OX,t=>{let a=(0,n.vJ)();if(!(0,n.I2)(a))return!1;t.preventDefault();let r=!function(e){let t=e.getNodes();if((0,l.zD)(t,e=>(0,n.y6)(e)&&e.canIndent()?e:null).length>0)return!0;let a=e.anchor,r=e.focus,s=r.isBefore(a)?r:a,i=s.getNode(),o=(0,l.mB)(i);if(o.canIndent()){let e=o.getKey(),t=(0,n.uT)();if(t.anchor.set(e,0,"element"),t.focus.set(e,0,"element"),(t=(0,n.C)(t)).anchor.is(s))return!0}return!1}(a)?n.YW:t.shiftKey?n.si:n.Pi;return e.dispatchCommand(r,void 0)},n.jZ)),null}},96390:(e,t,a)=>{a.d(t,{s:()=>l});var r=a(263159);let l=(0,a(411855).memo)(function(e){return(0,r.jsx)("svg",{width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",...e,children:(0,r.jsx)("path",{fill:"var(--color-icon)",fillRule:"evenodd",d:"M4 14v-4h5v4zm-1 1V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2zm1-6h5V5H5a1 1 0 0 0-1 1zm6-4v4h10V6a1 1 0 0 0-1-1zm10 5H10v4h10zm0 5H10v4h9a1 1 0 0 0 1-1zM9 19H5a1 1 0 0 1-1-1v-3h5z",clipRule:"evenodd"})})})}}]);

//# debugId=b0ccb75f-b73d-5af3-8432-48ae05747eed

//# sourceMappingURL=https://admin.figma.com/admin/webpack-artifacts/645ac37f0631d6a21adf899500854f50553c6197/8851-0be2ace03c73c3d0.min.js.map